{"timestamp": "2025-03-20T07:30:09.648891", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "beb383df-4c9e-4a64-9c52-2dbab248805a", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:30:09.670615", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "beb383df-4c9e-4a64-9c52-2dbab248805a", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:30:39.950673", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5759bb84-162c-46eb-a782-14cb69058bf3", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:30:39.956228", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5759bb84-162c-46eb-a782-14cb69058bf3", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:35:10.573999", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "9e7b2295-ed83-4169-81ae-a008892b8373", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:35:10.596245", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "9e7b2295-ed83-4169-81ae-a008892b8373", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:37:23.986007", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e87ebdb4-adc0-4bf2-a368-035b42dee687", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:37:24.014360", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e87ebdb4-adc0-4bf2-a368-035b42dee687", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:38:04.071160", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "d501f961-5057-472f-8184-2ee17e99903a", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:38:04.088068", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "d501f961-5057-472f-8184-2ee17e99903a", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:45:01.369001", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "8647dc79-c188-4a5d-821a-3db2898f2a71", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:45:01.384261", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "8647dc79-c188-4a5d-821a-3db2898f2a71", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:46:00.374103", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4d438702-2ce1-4e71-815a-db27948ab500", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:46:00.388813", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "4d438702-2ce1-4e71-815a-db27948ab500", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:47:39.846296", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "008fba3e-36c7-4e6c-942a-f05fccf4dc14", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:47:39.872962", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "008fba3e-36c7-4e6c-942a-f05fccf4dc14", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T11:43:47.753122", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 26}
{"timestamp": "2025-03-20T11:43:47.755742", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-03-20T11:43:47.760070", "level": "INFO", "message": "Successfully initialized VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 35}
{"timestamp": "2025-03-20T11:47:07.110714", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "3e805834-726e-4378-8087-6d7f6e0e17d3", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T11:47:07.116833", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "3e805834-726e-4378-8087-6d7f6e0e17d3", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T11:48:45.458856", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 43}
{"timestamp": "2025-03-20T11:48:46.168589", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 26}
{"timestamp": "2025-03-20T11:48:46.171082", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-03-20T11:48:46.175813", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 11}
{"timestamp": "2025-03-20T11:48:50.406890", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0e1bfa35-2041-4284-895e-3ac8bd69c3c4", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T11:48:50.418411", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "0e1bfa35-2041-4284-895e-3ac8bd69c3c4", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T11:54:20.407289", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 43}
{"timestamp": "2025-03-20T11:54:21.063122", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 26}
{"timestamp": "2025-03-20T11:54:21.064538", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-03-20T11:54:21.067757", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 11}
{"timestamp": "2025-03-20T11:54:26.081514", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 43}
{"timestamp": "2025-03-21T06:41:23.888469", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:41:23.891148", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:41:23.891476", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 63, "exception": {"type": "NameError", "message": "name 'Vip' is not defined", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 9, in init_vip_levels\n    existing_levels = db.query(Vip).all()\n                               ^^^\nNameError: name 'Vip' is not defined"}}
{"timestamp": "2025-03-21T06:41:23.892046", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "NameError", "message": "name 'Vip' is not defined", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 65, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 9, in init_vip_levels\n    existing_levels = db.query(Vip).all()\n                               ^^^\nNameError: name 'Vip' is not defined"}}
{"timestamp": "2025-03-21T06:41:35.416821", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:41:35.423761", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:41:35.431009", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 65, "exception": {"type": "NameError", "message": "name 'VipLevel' is not defined", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 18, in init_vip_levels\n    VipLevel.FREE: \"普通用户: *****************\",\n    ^^^^^^^^\nNameError: name 'VipLevel' is not defined"}}
{"timestamp": "2025-03-21T06:41:35.431964", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "NameError", "message": "name 'VipLevel' is not defined", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 67, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 18, in init_vip_levels\n    VipLevel.FREE: \"普通用户: *****************\",\n    ^^^^^^^^\nNameError: name 'VipLevel' is not defined"}}
{"timestamp": "2025-03-21T06:41:38.952567", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:41:38.954468", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:41:38.957798", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.FREE: 'vip_level' is an invalid keyword argument for Vip", "module": "init_data", "function": "init_vip_levels", "line": 58}
{"timestamp": "2025-03-21T06:41:38.960633", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 65, "exception": {"type": "TypeError", "message": "'vip_level' is an invalid keyword argument for Vip", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    vip = Vip(\n          ^^^^\n  File \"<string>\", line 4, in __init__\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 566, in _initialize_instance\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 564, in _initialize_instance\n    manager.original_init(*mixed[1:], **kwargs)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py\", line 2142, in _declarative_constructor\n    raise TypeError(\nTypeError: 'vip_level' is an invalid keyword argument for Vip"}}
{"timestamp": "2025-03-21T06:41:38.961860", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "TypeError", "message": "'vip_level' is an invalid keyword argument for Vip", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 67, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    vip = Vip(\n          ^^^^\n  File \"<string>\", line 4, in __init__\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 566, in _initialize_instance\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 564, in _initialize_instance\n    manager.original_init(*mixed[1:], **kwargs)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py\", line 2142, in _declarative_constructor\n    raise TypeError(\nTypeError: 'vip_level' is an invalid keyword argument for Vip"}}
{"timestamp": "2025-03-21T06:42:05.191410", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:42:05.192902", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:42:05.195856", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.FREE: 'vip_level' is an invalid keyword argument for Vip", "module": "init_data", "function": "init_vip_levels", "line": 58}
{"timestamp": "2025-03-21T06:42:05.196786", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 65, "exception": {"type": "TypeError", "message": "'vip_level' is an invalid keyword argument for Vip", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    vip = Vip(\n          ^^^^\n  File \"<string>\", line 4, in __init__\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 566, in _initialize_instance\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 564, in _initialize_instance\n    manager.original_init(*mixed[1:], **kwargs)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py\", line 2142, in _declarative_constructor\n    raise TypeError(\nTypeError: 'vip_level' is an invalid keyword argument for Vip"}}
{"timestamp": "2025-03-21T06:42:05.197843", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "TypeError", "message": "'vip_level' is an invalid keyword argument for Vip", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 67, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    vip = Vip(\n          ^^^^\n  File \"<string>\", line 4, in __init__\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 566, in _initialize_instance\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 564, in _initialize_instance\n    manager.original_init(*mixed[1:], **kwargs)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py\", line 2142, in _declarative_constructor\n    raise TypeError(\nTypeError: 'vip_level' is an invalid keyword argument for Vip"}}
{"timestamp": "2025-03-21T06:42:50.920887", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:42:50.922422", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:42:50.927812", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 57}
{"timestamp": "2025-03-21T06:42:50.935477", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 64, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 58, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 55, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:42:50.939166", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 66, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 58, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 55, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:42:55.781402", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:42:55.784293", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:42:55.788607", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 57}
{"timestamp": "2025-03-21T06:42:55.791430", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 64, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 58, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 55, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:42:55.794915", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 66, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 58, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 55, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:44:01.337670", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:44:01.339356", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:44:01.343861", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T06:44:01.346833", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:44:01.350434", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:44:12.216893", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:44:12.219218", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:44:12.225006", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T06:44:12.228005", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:44:12.231548", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:44:14.998173", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:44:14.999756", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:44:15.004326", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T06:44:15.007261", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:44:15.010903", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:45:15.552936", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:45:15.555529", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:45:15.560103", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T06:45:15.563065", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:45:15.566656", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:59:18.910187", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:59:18.912217", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:59:18.916694", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.FREE: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T06:59:18.919685", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:59:18.923275", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:59:25.841906", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:59:25.847888", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:59:25.867190", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.FREE: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T06:59:25.880355", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:59:25.883648", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T07:00:06.991491", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:00:06.995435", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:00:07.009537", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T07:00:07.019221", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T07:00:07.024259", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T07:00:54.371720", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:00:54.373573", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:00:54.378177", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T07:00:54.381180", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T07:00:54.384891", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T07:06:38.099034", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:06:38.101016", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:06:38.106163", "level": "INFO", "message": "Successfully initialized VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 54}
{"timestamp": "2025-03-21T07:06:38.106219", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:06:38.106712", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 41}
{"timestamp": "2025-03-21T07:06:53.266154", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b9714a10-8056-41d2-8094-650f428579b4", "ip": "127.0.0.1", "path": "/", "method": "GET"}
{"timestamp": "2025-03-21T07:06:53.266951", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b9714a10-8056-41d2-8094-650f428579b4", "path": "/", "method": "GET"}
{"timestamp": "2025-03-21T07:07:02.509411", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b37828ec-ef39-4cdd-b0d9-beddebf393b7", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:07:02.521822", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b37828ec-ef39-4cdd-b0d9-beddebf393b7", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:12:51.785939", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "532f250e-eae4-4ca3-b3f8-b566776eb46b", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:12:51.786326", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "532f250e-eae4-4ca3-b3f8-b566776eb46b", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:13:12.439500", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a16ceeb4-b24f-4717-9de4-2adacc099c54", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:13:12.447846", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n"}, "request_id": "a16ceeb4-b24f-4717-9de4-2adacc099c54", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:14:15.919233", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0c84ee46-0b80-474c-96cc-39ae328db15b", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:14:15.922299", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n"}, "request_id": "0c84ee46-0b80-474c-96cc-39ae328db15b", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:15:21.637564", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:15:22.298964", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:15:22.306326", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:15:22.319978", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:15:22.320145", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:15:22.321127", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 41}
{"timestamp": "2025-03-21T07:15:42.324081", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "ae4728a1-02e1-448f-b971-a0ee85889613", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:15:42.330072", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "ae4728a1-02e1-448f-b971-a0ee85889613", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:15:53.467020", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4a3b6460-bd5e-4a92-b271-2ff3a43aa6d0", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:15:53.474718", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n"}, "request_id": "4a3b6460-bd5e-4a92-b271-2ff3a43aa6d0", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:17:08.658244", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:17:09.401434", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:17:09.404788", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:17:09.408064", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:17:09.408123", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:17:09.408493", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 41}
{"timestamp": "2025-03-21T07:19:27.230189", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:19:27.989747", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:19:27.999575", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:19:28.008744", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:19:28.008870", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:19:28.009574", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:19:31.726966", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:19:32.394704", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:19:32.396196", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:19:32.399231", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:19:32.399320", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:19:32.399692", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:19:42.539310", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:19:43.296251", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:19:43.297808", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:19:43.300887", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:19:43.300942", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:19:43.301325", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:20:58.845592", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "63b68c98-00ea-4a70-9023-da7535dcd8ed", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:20:58.847411", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "63b68c98-00ea-4a70-9023-da7535dcd8ed", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:21:06.761905", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:21:08.919442", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:21:08.924583", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:21:08.932973", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:21:08.933087", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:21:08.933714", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:21:14.104628", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "3da770b0-0300-41f8-b753-9269a03e4d68", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:21:14.118680", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "3da770b0-0300-41f8-b753-9269a03e4d68", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:21:23.745923", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4f72aed2-0141-476e-bff6-58a074c8430c", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:23:16.693802", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n"}, "request_id": "4f72aed2-0141-476e-bff6-58a074c8430c", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:24:20.169086", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:24:22.416579", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:24:22.419757", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:24:22.426866", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:24:22.426969", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:24:22.427490", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:24:24.711750", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "c8b1cd03-acf4-4795-b274-5dab1dfb6f8a", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:24:24.725416", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "c8b1cd03-acf4-4795-b274-5dab1dfb6f8a", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:27:41.722664", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "fd91951e-8c52-4f96-a24b-a0015829c378", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:27:41.725508", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "fd91951e-8c52-4f96-a24b-a0015829c378", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:27:44.675726", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2104a53a-5767-49d7-8b3c-7b47b990f5f9", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:27:44.677296", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2104a53a-5767-49d7-8b3c-7b47b990f5f9", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:27:55.428325", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0cca6ed5-047a-4243-86e4-380ade71f19b", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:27:55.429879", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "0cca6ed5-047a-4243-86e4-380ade71f19b", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:28:02.652010", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "9a8515ce-598b-460d-97ca-e10d390c27a1", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:28:02.653810", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "9a8515ce-598b-460d-97ca-e10d390c27a1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:28:06.010003", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "119fd255-8344-4c33-ae5a-a92b927c8b68", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:28:06.013012", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "119fd255-8344-4c33-ae5a-a92b927c8b68", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:28:11.292956", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "11d28cfc-56dc-4e29-99e9-a072995113ed", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:28:11.294467", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "11d28cfc-56dc-4e29-99e9-a072995113ed", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:28:33.556289", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4ab5115e-db9b-4bcf-b3be-a8610ad60573", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:28:33.559150", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "4ab5115e-db9b-4bcf-b3be-a8610ad60573", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:29:17.913905", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "75494e77-1dcb-44fb-995e-87ce6b799f3f", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:29:17.917404", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "75494e77-1dcb-44fb-995e-87ce6b799f3f", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:29:37.363236", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "efb5e42c-71d4-4b1e-8dcb-44be6389156d", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:29:37.364827", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "efb5e42c-71d4-4b1e-8dcb-44be6389156d", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:32:17.264109", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "22b56b46-2b36-4964-9ecf-81aac2ac7f17", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:32:17.267165", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "22b56b46-2b36-4964-9ecf-81aac2ac7f17", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:33:07.665350", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "fff48061-c0d2-42e6-ba46-c2252b8641e0", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:33:07.668470", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "fff48061-c0d2-42e6-ba46-c2252b8641e0", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:33:46.504356", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "792a538f-eb1f-4250-b7b1-4f0d1be8943d", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:33:46.510097", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "792a538f-eb1f-4250-b7b1-4f0d1be8943d", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:34:10.518231", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e961d30e-8a3a-4f23-8bf3-37162eec8685", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:34:10.521263", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e961d30e-8a3a-4f23-8bf3-37162eec8685", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:36:20.486115", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "82eb2914-1d29-4966-a7de-fea012d731ca", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:36:20.489055", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "82eb2914-1d29-4966-a7de-fea012d731ca", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:45:41.131886", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a973f8cd-cae7-4db0-9011-f37fdb38935b", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:45:41.134754", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a973f8cd-cae7-4db0-9011-f37fdb38935b", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:45:53.510348", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5a7ff8c6-2c94-4d28-979f-c335638ed174", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:45:53.513260", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5a7ff8c6-2c94-4d28-979f-c335638ed174", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:46:23.063255", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "59470f28-3ae5-4163-9e3e-ebb9e028cb9f", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:46:23.066207", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "59470f28-3ae5-4163-9e3e-ebb9e028cb9f", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:46:29.440691", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f2932944-1f96-4a86-bff9-111e8d4729a3", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:46:29.442231", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f2932944-1f96-4a86-bff9-111e8d4729a3", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:47:04.688747", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "926c504f-6f1c-492c-8326-13af2e3eb583", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:47:04.692705", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "926c504f-6f1c-492c-8326-13af2e3eb583", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:47:10.556693", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5cba68c0-78b8-40ac-8d7a-4377dde53a9e", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:47:26.414497", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "TypeError", "message": "object list can't be used in 'await' expression", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/vip_api.py\", line 50, in get_all_vips\n    vips = await vip_service.get_all_vips()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: object list can't be used in 'await' expression"}, "request_id": "5cba68c0-78b8-40ac-8d7a-4377dde53a9e", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:49:12.137166", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:49:13.928099", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:49:13.931769", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:49:13.939027", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:49:13.939138", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:49:13.939744", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:49:16.254556", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "7e4bc2e8-632e-467c-b39b-44fdf0d885d5", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:49:16.269979", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "7e4bc2e8-632e-467c-b39b-44fdf0d885d5", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:49:18.432782", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5c456982-01fc-4d47-b627-2267d2d42f7c", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:49:48.533024", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n"}, "request_id": "5c456982-01fc-4d47-b627-2267d2d42f7c", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:51:21.263245", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:51:22.922077", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:51:22.925305", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:51:22.932436", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:51:22.932548", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:51:22.933093", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:51:36.588832", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:51:38.419700", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:51:38.423506", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:51:38.431235", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:51:38.431353", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:51:38.431999", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:51:50.777539", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:51:52.433450", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:51:52.436553", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:51:52.444012", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:51:52.444121", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:51:52.444650", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:52:24.958353", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:52:26.810588", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:52:26.813526", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:52:26.820966", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:52:26.821081", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:52:26.821708", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:52:32.242728", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:52:34.077659", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:52:34.080965", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:52:34.089012", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:52:34.089194", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:52:34.090030", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:53:22.273749", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:53:24.047917", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:53:24.050712", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:53:24.057577", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:53:24.057679", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:53:24.058194", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:53:54.576161", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:53:56.565391", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:53:56.567913", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:53:56.574916", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:53:56.575028", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:53:56.575534", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:54:05.811641", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:54:07.482120", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:54:07.484940", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:54:07.491977", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:54:07.492081", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:54:07.492594", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:55:26.009739", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:55:27.835571", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:55:27.838814", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:55:27.845684", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:55:27.845787", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:55:27.846305", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:55:40.494541", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:55:42.073628", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:55:42.076625", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:55:42.083594", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:55:42.083701", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:55:42.084223", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:56:17.025436", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:56:18.800581", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:56:18.803581", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:56:18.810538", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:56:18.810649", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:56:18.811162", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T08:01:41.506612", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T08:05:00.984242", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T08:05:00.987409", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T08:05:00.994955", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T08:05:00.995070", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T08:05:00.995635", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T08:05:20.767495", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T08:05:22.714167", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T08:05:22.717662", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T08:05:22.724714", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T08:05:22.724826", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T08:05:22.725365", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T08:06:08.397567", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T08:06:10.624237", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T08:06:10.627071", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T08:06:10.633774", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T08:06:10.633877", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T08:06:10.634382", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T08:06:25.666008", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "10852c98-1fcd-475f-9586-f85f98d3d1c7", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T08:06:25.687423", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "10852c98-1fcd-475f-9586-f85f98d3d1c7", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T08:06:27.905168", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5b3d80fb-28ab-4dcc-a222-cbae1e57525d", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T08:06:36.366950", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5b3d80fb-28ab-4dcc-a222-cbae1e57525d", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T08:47:15.359390", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T13:31:29.478164", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T13:31:29.480551", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T13:31:29.483656", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T13:31:29.483714", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T13:31:29.484029", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T13:31:51.827639", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "9fa7b922-989e-47c8-8df9-25f58e899998", "ip": "127.0.0.1", "path": "/docs", "method": "GET"}
{"timestamp": "2025-03-21T13:31:51.828550", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "9fa7b922-989e-47c8-8df9-25f58e899998", "path": "/docs", "method": "GET"}
{"timestamp": "2025-03-21T13:31:53.582218", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "851059fd-5214-43d0-8b67-4dc48df39027", "ip": "127.0.0.1", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-03-21T13:31:53.589466", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "851059fd-5214-43d0-8b67-4dc48df39027", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-03-21T13:39:00.620834", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T13:39:01.285780", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T13:39:01.288161", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T13:39:01.291356", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T13:39:01.291431", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T13:39:01.291818", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T13:39:16.232124", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T13:39:16.892756", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T13:39:16.894761", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T13:39:16.897995", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T13:39:16.898056", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T13:39:16.898427", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T13:40:05.289775", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0d5b1c78-e5b2-4a27-9097-4e4e17d13649", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T13:40:05.293766", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "0d5b1c78-e5b2-4a27-9097-4e4e17d13649", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T13:40:14.627721", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "c6623aac-4233-454d-9916-53be0c69e439", "ip": "127.0.0.1", "path": "/api/v1/vip", "method": "POST"}
{"timestamp": "2025-03-21T13:40:14.628060", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "c6623aac-4233-454d-9916-53be0c69e439", "path": "/api/v1/vip", "method": "POST"}
{"timestamp": "2025-03-21T13:41:17.141768", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e9ff33f0-c7c0-4ca2-bbb1-2c6ae0f5131f", "ip": "127.0.0.1", "path": "/api/v1/orders/vip", "method": "POST"}
{"timestamp": "2025-03-21T13:41:17.144548", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e9ff33f0-c7c0-4ca2-bbb1-2c6ae0f5131f", "path": "/api/v1/orders/vip", "method": "POST"}
{"timestamp": "2025-03-21T13:48:23.872342", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T13:48:24.540681", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T13:48:24.543501", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T13:48:24.546781", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T13:48:24.546840", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T13:48:24.547163", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T13:49:06.965607", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T13:49:07.782702", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T13:49:07.785151", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T13:49:07.790230", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T13:49:07.790310", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T13:49:07.790708", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T13:49:13.896718", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "47bda8d6-cdf3-41b4-a4c4-0b3bc9e0e466", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T13:49:13.900801", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "47bda8d6-cdf3-41b4-a4c4-0b3bc9e0e466", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T13:49:17.928633", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "6baf5082-0376-4746-9f8e-b8d4c3f0f91a", "ip": "127.0.0.1", "path": "/api/v1/orders/vip", "method": "POST"}
{"timestamp": "2025-03-21T13:49:17.933434", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "AttributeError", "message": "'OrderCreate' object has no attribute 'vip_level'", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/order_api.py\", line 68, in create_vip_order\n    if order_data.vip_level == VipLevel.FREE:\n       ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/pydantic/main.py\", line 891, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'OrderCreate' object has no attribute 'vip_level'"}, "request_id": "6baf5082-0376-4746-9f8e-b8d4c3f0f91a", "path": "/api/v1/orders/vip", "method": "POST"}
{"timestamp": "2025-03-21T13:51:42.062552", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T13:51:42.739061", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T13:51:42.742223", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T13:51:42.745477", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T13:51:42.745535", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T13:51:42.745862", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T13:52:10.823349", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T13:52:11.474023", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T13:52:11.477534", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T13:52:11.482591", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T13:52:11.482739", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T13:52:11.483447", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T13:52:26.120191", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T13:52:26.762729", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T13:52:26.764358", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T13:52:26.767759", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T13:52:26.767822", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T13:52:26.768158", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T13:52:46.617534", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T13:52:47.263593", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T13:52:47.265271", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T13:52:47.268805", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T13:52:47.268891", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T13:52:47.269271", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T13:54:20.611114", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T14:06:29.170739", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T14:06:29.173303", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T14:06:29.176901", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T14:06:29.176961", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T14:06:29.177272", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T14:06:36.165480", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "461aa236-9a91-42d2-8b6e-c85547cb2a7b", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T14:06:36.170441", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "461aa236-9a91-42d2-8b6e-c85547cb2a7b", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T14:06:41.053475", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "89edf79a-f369-40fe-aa97-b323a3990799", "ip": "127.0.0.1", "path": "/api/v1/orders/vip", "method": "POST"}
{"timestamp": "2025-03-21T14:06:41.056436", "level": "ERROR", "message": "Error in create_vip_order for user 1: 'OrderCreate' object has no attribute 'vip_level'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/order_api.py\", line 70, in create_vip_order\n    if order_data.vip_level == VipLevel.FREE:\n       ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/pydantic/main.py\", line 891, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'OrderCreate' object has no attribute 'vip_level'\n", "module": "order_api", "function": "create_vip_order", "line": 95}
{"timestamp": "2025-03-21T14:06:41.056824", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "89edf79a-f369-40fe-aa97-b323a3990799", "path": "/api/v1/orders/vip", "method": "POST"}
{"timestamp": "2025-03-21T14:07:46.366317", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T14:07:48.201240", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T14:07:48.204122", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T14:07:48.210768", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T14:07:48.210879", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T14:07:48.211434", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T14:07:52.473887", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "96d4c3f1-6e78-44ff-bca7-35c87beab3f1", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T14:07:52.489412", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "96d4c3f1-6e78-44ff-bca7-35c87beab3f1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T14:07:55.478132", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f8c0260f-89c6-485c-aec7-0a3d9733583d", "ip": "127.0.0.1", "path": "/api/v1/orders/vip", "method": "POST"}
{"timestamp": "2025-03-21T14:08:30.830888", "level": "ERROR", "message": "Error in create_vip_order for user 1: 'OrderCreate' object has no attribute 'vip_level'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/order_api.py\", line 70, in create_vip_order\n    if order_data.vip_level == VipLevel.FREE:\n       ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/pydantic/main.py\", line 891, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'OrderCreate' object has no attribute 'vip_level'\n", "module": "order_api", "function": "create_vip_order", "line": 95}
{"timestamp": "2025-03-21T14:08:37.022888", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f8c0260f-89c6-485c-aec7-0a3d9733583d", "path": "/api/v1/orders/vip", "method": "POST"}
{"timestamp": "2025-03-21T14:10:08.574782", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T14:20:50.761098", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T14:20:50.762947", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T14:20:50.766114", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T14:20:50.766179", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T14:20:50.766498", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T14:20:56.946993", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5a23329c-3973-4092-86ea-0696e88910bb", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T14:20:56.951643", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5a23329c-3973-4092-86ea-0696e88910bb", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T14:20:59.293723", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "02a232af-1548-4986-a5dd-a0f45b988a87", "ip": "127.0.0.1", "path": "/api/v1/orders/vip", "method": "POST"}
{"timestamp": "2025-03-21T14:20:59.302176", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "02a232af-1548-4986-a5dd-a0f45b988a87", "path": "/api/v1/orders/vip", "method": "POST"}
{"timestamp": "2025-03-21T14:21:49.210750", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-22T06:29:10.881332", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-22T06:29:10.883596", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-22T06:29:10.889309", "level": "INFO", "message": "Successfully initialized VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 54}
{"timestamp": "2025-03-22T06:29:10.889375", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-22T06:29:10.889840", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-22T06:29:21.927409", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-22T06:29:22.597644", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-22T06:29:22.601579", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-22T06:29:22.608449", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-22T06:29:22.608598", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-22T06:29:22.609435", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-22T06:29:27.525995", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-22T06:29:28.422433", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-22T06:29:28.426209", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-22T06:29:28.431814", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-22T06:29:28.431878", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-22T06:29:28.432413", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-22T06:30:08.379649", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "abcea2a9-b401-42b9-9ec7-0e333346411d", "ip": "127.0.0.1", "path": "/docs", "method": "GET"}
{"timestamp": "2025-03-22T06:30:08.380123", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "abcea2a9-b401-42b9-9ec7-0e333346411d", "path": "/docs", "method": "GET"}
{"timestamp": "2025-03-22T06:30:09.338517", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "274cbec2-cc65-4dc1-a4fd-db32be446fae", "ip": "127.0.0.1", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-03-22T06:30:09.349541", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "274cbec2-cc65-4dc1-a4fd-db32be446fae", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-03-22T06:30:58.191614", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b2d4f4d5-478a-4316-bce4-857f039dc2f8", "ip": "127.0.0.1", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-03-22T06:30:58.192241", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b2d4f4d5-478a-4316-bce4-857f039dc2f8", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-03-22T06:30:58.225633", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e32a67ee-9437-47ef-b481-92e73883cc1c", "ip": "127.0.0.1", "path": "/favicon.ico", "method": "GET"}
{"timestamp": "2025-03-22T06:30:58.225970", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e32a67ee-9437-47ef-b481-92e73883cc1c", "path": "/favicon.ico", "method": "GET"}
{"timestamp": "2025-03-22T06:31:43.504982", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T01:53:18.263642", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T01:53:18.265456", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T01:53:18.270780", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T01:53:18.270841", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T01:53:18.271205", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T01:53:20.969146", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4d2af5e8-5fe4-471e-875d-d701ac9ef032", "ip": "127.0.0.1", "path": "/", "method": "GET"}
{"timestamp": "2025-03-23T01:53:20.969507", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "4d2af5e8-5fe4-471e-875d-d701ac9ef032", "path": "/", "method": "GET"}
{"timestamp": "2025-03-23T01:53:54.563475", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "030be40d-1fa5-4414-85bf-60152f9fb812", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-23T01:53:54.564419", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "030be40d-1fa5-4414-85bf-60152f9fb812", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-23T01:54:25.693369", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "d44d25fc-e3a3-4952-b306-51794d0561f0", "ip": "127.0.0.1", "path": "/", "method": "GET"}
{"timestamp": "2025-03-23T01:54:25.693809", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "d44d25fc-e3a3-4952-b306-51794d0561f0", "path": "/", "method": "GET"}
{"timestamp": "2025-03-23T01:54:29.599459", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "cb0bbfb4-3b22-46ca-88a4-2ecc3825dcf0", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-23T01:54:29.600253", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "cb0bbfb4-3b22-46ca-88a4-2ecc3825dcf0", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-23T01:54:47.390091", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b756f2fb-626f-49cd-8dbf-e87ab0079f91", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-23T01:54:47.390716", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b756f2fb-626f-49cd-8dbf-e87ab0079f91", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-23T01:57:57.349498", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "19e6270b-9a3b-4ac8-a2df-8dedb7396224", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T01:57:57.370195", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "19e6270b-9a3b-4ac8-a2df-8dedb7396224", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T01:58:04.693514", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "d9fcf403-337f-4f6b-a0a5-0a14dd6bc0bf", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "GET"}
{"timestamp": "2025-03-23T01:58:04.693811", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "d9fcf403-337f-4f6b-a0a5-0a14dd6bc0bf", "path": "/api/v1/auth/wechat-login", "method": "GET"}
{"timestamp": "2025-03-23T01:58:30.509906", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "65b201f1-dd07-4c02-9f79-aa6a03add3d4", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T01:58:30.511609", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "65b201f1-dd07-4c02-9f79-aa6a03add3d4", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T01:59:42.092392", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "c45c9643-0dec-4743-86f0-d94f09e1e465", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-23T01:59:42.094869", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "c45c9643-0dec-4743-86f0-d94f09e1e465", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-23T02:08:07.863964", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:08:08.534563", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:08:08.540789", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:08:08.551451", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:08:08.551670", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:08:08.552973", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:08:24.421690", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:08:25.131150", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:08:25.133966", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:08:25.137336", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:08:25.137406", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:08:25.137841", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:14:01.954144", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:14:02.638191", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:14:02.640856", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:14:02.644123", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:14:02.644184", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:14:02.644561", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:14:09.164177", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:14:09.949065", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:14:09.950891", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:14:09.953950", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:14:09.954017", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:14:09.954321", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:14:21.791175", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:14:22.538854", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:14:22.541227", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:14:22.544656", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:14:22.544740", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:14:22.545121", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:14:34.879469", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:14:35.652575", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:14:35.656275", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:14:35.660899", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:14:35.661004", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:14:35.661511", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:14:53.006763", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:14:53.629257", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:14:53.630823", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:14:53.633774", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:14:53.633827", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:14:53.634151", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:15:33.343929", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:15:34.022986", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:15:34.026773", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:15:34.030328", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:15:34.030400", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:15:34.030909", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:16:05.745937", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:16:06.354011", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:16:06.355837", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:16:06.358839", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:16:06.358931", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:16:06.359241", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:17:09.383179", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:17:09.998517", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:17:10.000759", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:17:10.003805", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:17:10.003895", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:17:10.004251", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:17:58.659473", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:17:59.312607", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:17:59.314404", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:17:59.317444", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:17:59.317500", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:17:59.317819", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:18:22.086270", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:18:22.714548", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:18:22.716729", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:18:22.719756", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:18:22.719809", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:18:22.720116", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:18:42.682656", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:18:43.331055", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:18:43.333753", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:18:43.337147", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:18:43.337211", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:18:43.337583", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:18:59.788208", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:19:00.495738", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:19:00.499397", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:19:00.504251", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:19:00.504363", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:19:00.504910", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:19:16.654311", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:19:17.304556", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:19:17.306314", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:19:17.309084", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:19:17.309139", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:19:17.309467", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:20:06.969995", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:20:07.576608", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:20:07.578400", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:20:07.581458", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:20:07.581542", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:20:07.581889", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:20:10.192102", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T02:24:53.328905", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-23T02:24:53.330453", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-23T02:24:53.333333", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-23T02:24:53.333388", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-23T02:24:53.333746", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T02:24:54.437633", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-23T05:14:47.406531", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:14:47.408641", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:14:47.414010", "level": "INFO", "message": "Successfully initialized VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 58}
{"timestamp": "2025-03-23T05:14:47.418884", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:14:47.419321", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:14:47.419711", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 45, "exception": {"type": "AttributeError", "message": "'PitchService' object has no attribute 'load_vip_cache'", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 41, in lifespan\n    await pitch_service.load_vip_cache(db)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'PitchService' object has no attribute 'load_vip_cache'"}}
{"timestamp": "2025-03-23T05:15:04.983202", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:15:04.984974", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:15:04.988424", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 17}
{"timestamp": "2025-03-23T05:15:04.989510", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 71}
{"timestamp": "2025-03-23T05:15:04.989587", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:15:04.989947", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:15:04.990380", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 45, "exception": {"type": "TypeError", "message": "PitchService.load_pitch_cache() missing 1 required positional argument: 'db'", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 41, in lifespan\n    await pitch_service.load_pitch_cache()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: PitchService.load_pitch_cache() missing 1 required positional argument: 'db'"}}
{"timestamp": "2025-03-23T05:15:07.764386", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:15:07.767093", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:15:07.770920", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 17}
{"timestamp": "2025-03-23T05:15:07.772022", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 71}
{"timestamp": "2025-03-23T05:15:07.772099", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:15:07.772479", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:15:07.773035", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:15:14.796989", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:15:15.775158", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:15:15.781023", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:15:15.788902", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 17}
{"timestamp": "2025-03-23T05:15:15.791628", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 71}
{"timestamp": "2025-03-23T05:15:15.791842", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:15:15.792819", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:15:15.793934", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:18:42.054841", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:18:42.698709", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:18:42.703056", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:18:42.709174", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:18:42.710681", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T05:18:42.710792", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:18:42.711197", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:18:42.711798", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:20:27.238176", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:20:27.852300", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:20:27.853887", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:20:27.857089", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:20:27.858097", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T05:20:27.858173", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:20:27.858459", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:20:27.858880", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:21:07.185214", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:21:17.981029", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:21:17.984626", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:21:17.992077", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:21:18.007475", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:21:18.008783", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:21:18.009997", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:22:41.750374", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:22:42.597553", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:22:42.599477", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:22:42.602836", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:22:42.603960", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T05:22:42.604058", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:22:42.604337", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:22:42.604761", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:23:14.114911", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "88a45adb-88b0-49f3-9951-78a078de395b", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T05:23:14.126787", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "88a45adb-88b0-49f3-9951-78a078de395b", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T05:23:16.329618", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a545e38c-214a-4ed2-964b-de89aecddc07", "ip": "127.0.0.1", "path": "/api/v1/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:23:16.329992", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a545e38c-214a-4ed2-964b-de89aecddc07", "path": "/api/v1/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:23:30.131115", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:23:30.901261", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:23:30.902842", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:23:30.906002", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:23:30.907025", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T05:23:30.907098", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:23:30.907404", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:23:30.907829", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:23:37.355376", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e8fd4e57-9df6-417b-b4b5-53b7811bfc16", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T05:23:37.359635", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e8fd4e57-9df6-417b-b4b5-53b7811bfc16", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T05:23:38.762694", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "90db0608-6648-4c9d-89a9-e27674e6418f", "ip": "127.0.0.1", "path": "/api/v1/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:23:38.763036", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "90db0608-6648-4c9d-89a9-e27674e6418f", "path": "/api/v1/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:24:16.636182", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:24:17.341107", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:24:17.342590", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:24:17.345703", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:24:17.346768", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T05:24:17.346842", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:24:17.347115", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:24:17.347522", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:24:23.333623", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4db90539-1565-488b-9c2e-be04c1a94929", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T05:24:23.337671", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "4db90539-1565-488b-9c2e-be04c1a94929", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T05:24:25.043629", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "8f279360-cb4d-4904-a563-112aa033b461", "ip": "127.0.0.1", "path": "/api/v1/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:24:25.043981", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "8f279360-cb4d-4904-a563-112aa033b461", "path": "/api/v1/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:24:36.087058", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f2b629c1-47c9-4e92-830b-0f08da627ae9", "ip": "127.0.0.1", "path": "/api/v1/piano/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:24:36.087396", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f2b629c1-47c9-4e92-830b-0f08da627ae9", "path": "/api/v1/piano/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:24:40.011862", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:35:16.002296", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:35:16.004096", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:35:16.007571", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:35:16.008594", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T05:35:16.008673", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:35:16.008971", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:35:16.009431", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:36:01.653269", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "041d012b-5831-4f01-8372-5e55d6d21f84", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T05:36:01.657323", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "041d012b-5831-4f01-8372-5e55d6d21f84", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T05:36:03.619406", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "9e833ddc-e64a-42e5-80bb-f6af3f7cc446", "ip": "127.0.0.1", "path": "/api/v1/piano/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:36:03.621932", "level": "ERROR", "message": "Error in get_all_pitches: 'coroutine' object is not iterable\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/piano_pitch_api.py\", line 38, in get_all_pitches\n    return [PitchResponse.model_validate(pitch) for pitch in pitches]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: 'coroutine' object is not iterable\n", "module": "piano_pitch_api", "function": "get_all_pitches", "line": 40}
{"timestamp": "2025-03-23T05:36:03.622410", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "9e833ddc-e64a-42e5-80bb-f6af3f7cc446", "path": "/api/v1/piano/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:38:01.079754", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2c96ae3a-2e81-4e61-8f2e-3f50158664a3", "ip": "127.0.0.1", "path": "/api/v1/piano/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:38:01.081724", "level": "ERROR", "message": "Error in get_all_pitches: 'coroutine' object is not iterable\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/piano_pitch_api.py\", line 38, in get_all_pitches\n    return [PitchResponse.model_validate(pitch) for pitch in pitches]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: 'coroutine' object is not iterable\n", "module": "piano_pitch_api", "function": "get_all_pitches", "line": 40}
{"timestamp": "2025-03-23T05:38:01.082163", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2c96ae3a-2e81-4e61-8f2e-3f50158664a3", "path": "/api/v1/piano/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:40:21.202556", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:40:31.354282", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:40:31.358395", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:40:31.362098", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:40:31.363250", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T05:40:31.363336", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:40:31.363742", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:40:31.364299", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:40:32.968652", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:40:33.647937", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:40:33.649766", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:40:33.653198", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:40:33.654363", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T05:40:33.654460", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:40:33.654799", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:40:33.655361", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:40:39.202877", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "d8193dd2-9812-4dee-a248-fc2fcb07dc0f", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T05:40:39.207085", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "d8193dd2-9812-4dee-a248-fc2fcb07dc0f", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T05:40:41.055021", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f5106ea2-3e88-4e2a-8ec8-9efdc09db126", "ip": "127.0.0.1", "path": "/api/v1/piano/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:40:41.057816", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f5106ea2-3e88-4e2a-8ec8-9efdc09db126", "path": "/api/v1/piano/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:42:02.002676", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:42:02.632240", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:42:02.633839", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:42:02.637098", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:42:02.638154", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T05:42:02.638260", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:42:02.638579", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:42:02.639039", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:42:19.884534", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:42:36.879677", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:42:36.882088", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:42:36.885238", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:42:36.892523", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:42:36.892941", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:42:36.893423", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:42:50.428023", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:42:51.220064", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:42:51.222830", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:42:51.226180", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:42:51.227280", "level": "INFO", "message": "Pitch initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T05:42:51.227393", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:42:51.227706", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:42:51.228148", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:43:38.870147", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-03-23T05:43:39.501998", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 28}
{"timestamp": "2025-03-23T05:43:39.503623", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-03-23T05:43:39.506896", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T05:43:39.507973", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T05:43:39.508050", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-03-23T05:43:39.508350", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T05:43:39.508387", "level": "INFO", "message": "Loading PITCH cache...", "module": "main", "function": "lifespan", "line": 42}
{"timestamp": "2025-03-23T05:43:39.508906", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T05:44:03.198373", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b83a3fb5-52a2-4431-a548-6c4989999cae", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T05:44:03.202559", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b83a3fb5-52a2-4431-a548-6c4989999cae", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T05:44:04.748970", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "51b8b00d-fa27-430f-853e-2af91f421726", "ip": "127.0.0.1", "path": "/api/v1/piano/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:44:04.751727", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "51b8b00d-fa27-430f-853e-2af91f421726", "path": "/api/v1/piano/pitch", "method": "GET"}
{"timestamp": "2025-03-23T05:44:46.037186", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 53}
{"timestamp": "2025-03-23T07:53:09.295696", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-03-23T07:53:09.297300", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2025-03-23T07:53:09.302812", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T07:53:09.311236", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 51, "exception": {"type": "ProgrammingError", "message": "(psycopg2.errors.UndefinedColumn) column pitch.url does not exist\nLINE 1: ...h.name AS pitch_name, pitch.alias AS pitch_alias, pitch.url ...\n                                                             ^\n\n[SQL: SELECT pitch.id AS pitch_id, pitch.pitch_number AS pitch_pitch_number, pitch.name AS pitch_name, pitch.alias AS pitch_alias, pitch.url AS pitch_url \nFROM pitch]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedColumn: column pitch.url does not exist\nLINE 1: ...h.name AS pitch_name, pitch.alias AS pitch_alias, pitch.url ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 41, in lifespan\n    init_pitches(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 70, in init_pitches\n    pitches = db.query(Pitch).all()\n              ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2693, in all\n    return self._iter().all()  # type: ignore\n           ^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column pitch.url does not exist\nLINE 1: ...h.name AS pitch_name, pitch.alias AS pitch_alias, pitch.url ...\n                                                             ^\n\n[SQL: SELECT pitch.id AS pitch_id, pitch.pitch_number AS pitch_pitch_number, pitch.name AS pitch_name, pitch.alias AS pitch_alias, pitch.url AS pitch_url \nFROM pitch]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}}
{"timestamp": "2025-03-23T07:53:51.949517", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-03-23T07:53:51.951831", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2025-03-23T07:53:51.957328", "level": "INFO", "message": "Successfully initialized VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 59}
{"timestamp": "2025-03-23T07:53:51.961888", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 43}
{"timestamp": "2025-03-23T07:53:51.962354", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T07:53:51.962399", "level": "INFO", "message": "Loading PITCH cache...", "module": "main", "function": "lifespan", "line": 46}
{"timestamp": "2025-03-23T07:53:51.963226", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T07:55:11.149006", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "022eb928-867a-4faa-9960-139320db4a89", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T07:55:11.160942", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "022eb928-867a-4faa-9960-139320db4a89", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T07:55:14.754032", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a1619462-eb9e-4ae1-9458-18590cc23c3e", "ip": "127.0.0.1", "path": "/api/v1/piano/pitch/info", "method": "GET"}
{"timestamp": "2025-03-23T07:55:14.759152", "level": "ERROR", "message": "Error in get_all_pitches: 1 validation error for PitchResponse\nfile_path\n  Field required [type=missing, input_value=<app.models.pitch.Pitch object at 0x70671b1c4550>, input_type=Pitch]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/piano_pitch_api.py\", line 38, in get_all_pitches\n    return [PitchResponse.model_validate(pitch) for pitch in pitches]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/piano_pitch_api.py\", line 38, in <listcomp>\n    return [PitchResponse.model_validate(pitch) for pitch in pitches]\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/pydantic/main.py\", line 627, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for PitchResponse\nfile_path\n  Field required [type=missing, input_value=<app.models.pitch.Pitch object at 0x70671b1c4550>, input_type=Pitch]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\n", "module": "piano_pitch_api", "function": "get_all_pitches", "line": 40}
{"timestamp": "2025-03-23T07:55:14.759598", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a1619462-eb9e-4ae1-9458-18590cc23c3e", "path": "/api/v1/piano/pitch/info", "method": "GET"}
{"timestamp": "2025-03-23T07:55:30.465869", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-03-23T07:55:31.086909", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-03-23T07:55:31.088470", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2025-03-23T07:55:31.091652", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T07:55:31.092664", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T07:55:31.092763", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 43}
{"timestamp": "2025-03-23T07:55:31.093079", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T07:55:31.093119", "level": "INFO", "message": "Loading PITCH cache...", "module": "main", "function": "lifespan", "line": 46}
{"timestamp": "2025-03-23T07:55:31.094005", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T07:55:43.170183", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "3b481036-2248-471a-9787-0e28a309051a", "ip": "127.0.0.1", "path": "/api/v1/piano/pitch/info", "method": "GET"}
{"timestamp": "2025-03-23T07:55:43.172138", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "3b481036-2248-471a-9787-0e28a309051a", "path": "/api/v1/piano/pitch/info", "method": "GET"}
{"timestamp": "2025-03-23T07:55:47.015018", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "7f80adda-73e4-46da-8673-a68d8b825cbb", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T07:55:47.018757", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "7f80adda-73e4-46da-8673-a68d8b825cbb", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T07:55:49.077285", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a64fea19-00c3-47e2-87d4-4081a9022b3d", "ip": "127.0.0.1", "path": "/api/v1/piano/pitch/info", "method": "GET"}
{"timestamp": "2025-03-23T07:55:49.080703", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a64fea19-00c3-47e2-87d4-4081a9022b3d", "path": "/api/v1/piano/pitch/info", "method": "GET"}
{"timestamp": "2025-03-23T07:56:31.086112", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-03-23T07:56:31.724207", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-03-23T07:56:31.730108", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2025-03-23T07:56:31.744432", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T07:56:31.747413", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T07:56:31.747607", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 43}
{"timestamp": "2025-03-23T07:56:31.748421", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T07:56:31.748537", "level": "INFO", "message": "Loading PITCH cache...", "module": "main", "function": "lifespan", "line": 46}
{"timestamp": "2025-03-23T07:56:31.750306", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T07:56:58.326041", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-03-23T07:56:59.221964", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-03-23T07:56:59.228959", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2025-03-23T07:56:59.236179", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T07:56:59.252755", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 43}
{"timestamp": "2025-03-23T07:56:59.253783", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T07:56:59.253857", "level": "INFO", "message": "Loading PITCH cache...", "module": "main", "function": "lifespan", "line": 46}
{"timestamp": "2025-03-23T07:56:59.255190", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T07:57:05.006006", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "312b0a18-be82-46c6-aa10-861970849ea7", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T07:57:05.010025", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "312b0a18-be82-46c6-aa10-861970849ea7", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T07:57:17.785332", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "9e05824c-d1ea-4360-a6c2-889071857454", "ip": "127.0.0.1", "path": "/api/v1/piano/pitch/info", "method": "GET"}
{"timestamp": "2025-03-23T07:57:17.788609", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "9e05824c-d1ea-4360-a6c2-889071857454", "path": "/api/v1/piano/pitch/info", "method": "GET"}
{"timestamp": "2025-03-23T07:57:57.753348", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "9aa1785e-8e2c-4261-963c-0abca56f7a60", "ip": "127.0.0.1", "path": "/api/v1/piano/pitch/wav", "method": "GET"}
{"timestamp": "2025-03-23T07:57:57.755326", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "9aa1785e-8e2c-4261-963c-0abca56f7a60", "path": "/api/v1/piano/pitch/wav", "method": "GET"}
{"timestamp": "2025-03-23T07:58:16.381444", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2eadb96e-7428-4ba1-a8e0-c374c67b15f4", "ip": "127.0.0.1", "path": "/static/audio/tone_88_C8.wav", "method": "GET"}
{"timestamp": "2025-03-23T07:58:16.384380", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2eadb96e-7428-4ba1-a8e0-c374c67b15f4", "path": "/static/audio/tone_88_C8.wav", "method": "GET"}
{"timestamp": "2025-03-23T08:01:58.773606", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-03-23T08:01:59.396052", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-03-23T08:01:59.397654", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 38}
{"timestamp": "2025-03-23T08:01:59.400836", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 18}
{"timestamp": "2025-03-23T08:01:59.401859", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 72}
{"timestamp": "2025-03-23T08:01:59.401934", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 43}
{"timestamp": "2025-03-23T08:01:59.402236", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-23T08:01:59.402273", "level": "INFO", "message": "Loading PITCH cache...", "module": "main", "function": "lifespan", "line": 46}
{"timestamp": "2025-03-23T08:01:59.403106", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 35}
{"timestamp": "2025-03-23T08:02:05.764088", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5e4ee6cc-7921-4447-ba8f-75c8f67bea24", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T08:02:05.768087", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5e4ee6cc-7921-4447-ba8f-75c8f67bea24", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-23T08:02:09.191632", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "bc33441b-e4f7-4ed2-a872-8f6039703763", "ip": "127.0.0.1", "path": "/api/v1/piano/pitch/info", "method": "GET"}
{"timestamp": "2025-03-23T08:02:09.194566", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "bc33441b-e4f7-4ed2-a872-8f6039703763", "path": "/api/v1/piano/pitch/info", "method": "GET"}
{"timestamp": "2025-03-23T08:02:13.115200", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "6ba75b4d-b5b4-4054-b8c1-900cb8ef3783", "ip": "127.0.0.1", "path": "/api/v1/piano/pitch/wav", "method": "GET"}
{"timestamp": "2025-03-23T08:02:13.117249", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "6ba75b4d-b5b4-4054-b8c1-900cb8ef3783", "path": "/api/v1/piano/pitch/wav", "method": "GET"}
