{"timestamp": "2025-03-20T07:30:09.648891", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "beb383df-4c9e-4a64-9c52-2dbab248805a", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:30:09.670615", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "beb383df-4c9e-4a64-9c52-2dbab248805a", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:30:39.950673", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5759bb84-162c-46eb-a782-14cb69058bf3", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:30:39.956228", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5759bb84-162c-46eb-a782-14cb69058bf3", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:35:10.573999", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "9e7b2295-ed83-4169-81ae-a008892b8373", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:35:10.596245", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "9e7b2295-ed83-4169-81ae-a008892b8373", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:37:23.986007", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e87ebdb4-adc0-4bf2-a368-035b42dee687", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:37:24.014360", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e87ebdb4-adc0-4bf2-a368-035b42dee687", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:38:04.071160", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "d501f961-5057-472f-8184-2ee17e99903a", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:38:04.088068", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "d501f961-5057-472f-8184-2ee17e99903a", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:45:01.369001", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "8647dc79-c188-4a5d-821a-3db2898f2a71", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:45:01.384261", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "8647dc79-c188-4a5d-821a-3db2898f2a71", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:46:00.374103", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4d438702-2ce1-4e71-815a-db27948ab500", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:46:00.388813", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "4d438702-2ce1-4e71-815a-db27948ab500", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:47:39.846296", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "008fba3e-36c7-4e6c-942a-f05fccf4dc14", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T07:47:39.872962", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "008fba3e-36c7-4e6c-942a-f05fccf4dc14", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T11:43:47.753122", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 26}
{"timestamp": "2025-03-20T11:43:47.755742", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-03-20T11:43:47.760070", "level": "INFO", "message": "Successfully initialized VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 35}
{"timestamp": "2025-03-20T11:47:07.110714", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "3e805834-726e-4378-8087-6d7f6e0e17d3", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T11:47:07.116833", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "3e805834-726e-4378-8087-6d7f6e0e17d3", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T11:48:45.458856", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 43}
{"timestamp": "2025-03-20T11:48:46.168589", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 26}
{"timestamp": "2025-03-20T11:48:46.171082", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-03-20T11:48:46.175813", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 11}
{"timestamp": "2025-03-20T11:48:50.406890", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0e1bfa35-2041-4284-895e-3ac8bd69c3c4", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T11:48:50.418411", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "0e1bfa35-2041-4284-895e-3ac8bd69c3c4", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-20T11:54:20.407289", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 43}
{"timestamp": "2025-03-20T11:54:21.063122", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 26}
{"timestamp": "2025-03-20T11:54:21.064538", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 32}
{"timestamp": "2025-03-20T11:54:21.067757", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 11}
{"timestamp": "2025-03-20T11:54:26.081514", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 43}
{"timestamp": "2025-03-21T06:41:23.888469", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:41:23.891148", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:41:23.891476", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 63, "exception": {"type": "NameError", "message": "name 'Vip' is not defined", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 9, in init_vip_levels\n    existing_levels = db.query(Vip).all()\n                               ^^^\nNameError: name 'Vip' is not defined"}}
{"timestamp": "2025-03-21T06:41:23.892046", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "NameError", "message": "name 'Vip' is not defined", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 65, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 9, in init_vip_levels\n    existing_levels = db.query(Vip).all()\n                               ^^^\nNameError: name 'Vip' is not defined"}}
{"timestamp": "2025-03-21T06:41:35.416821", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:41:35.423761", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:41:35.431009", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 65, "exception": {"type": "NameError", "message": "name 'VipLevel' is not defined", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 18, in init_vip_levels\n    VipLevel.FREE: \"普通用户: *****************\",\n    ^^^^^^^^\nNameError: name 'VipLevel' is not defined"}}
{"timestamp": "2025-03-21T06:41:35.431964", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "NameError", "message": "name 'VipLevel' is not defined", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 67, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 18, in init_vip_levels\n    VipLevel.FREE: \"普通用户: *****************\",\n    ^^^^^^^^\nNameError: name 'VipLevel' is not defined"}}
{"timestamp": "2025-03-21T06:41:38.952567", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:41:38.954468", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:41:38.957798", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.FREE: 'vip_level' is an invalid keyword argument for Vip", "module": "init_data", "function": "init_vip_levels", "line": 58}
{"timestamp": "2025-03-21T06:41:38.960633", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 65, "exception": {"type": "TypeError", "message": "'vip_level' is an invalid keyword argument for Vip", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    vip = Vip(\n          ^^^^\n  File \"<string>\", line 4, in __init__\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 566, in _initialize_instance\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 564, in _initialize_instance\n    manager.original_init(*mixed[1:], **kwargs)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py\", line 2142, in _declarative_constructor\n    raise TypeError(\nTypeError: 'vip_level' is an invalid keyword argument for Vip"}}
{"timestamp": "2025-03-21T06:41:38.961860", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "TypeError", "message": "'vip_level' is an invalid keyword argument for Vip", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 67, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    vip = Vip(\n          ^^^^\n  File \"<string>\", line 4, in __init__\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 566, in _initialize_instance\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 564, in _initialize_instance\n    manager.original_init(*mixed[1:], **kwargs)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py\", line 2142, in _declarative_constructor\n    raise TypeError(\nTypeError: 'vip_level' is an invalid keyword argument for Vip"}}
{"timestamp": "2025-03-21T06:42:05.191410", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:42:05.192902", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:42:05.195856", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.FREE: 'vip_level' is an invalid keyword argument for Vip", "module": "init_data", "function": "init_vip_levels", "line": 58}
{"timestamp": "2025-03-21T06:42:05.196786", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 65, "exception": {"type": "TypeError", "message": "'vip_level' is an invalid keyword argument for Vip", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    vip = Vip(\n          ^^^^\n  File \"<string>\", line 4, in __init__\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 566, in _initialize_instance\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 564, in _initialize_instance\n    manager.original_init(*mixed[1:], **kwargs)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py\", line 2142, in _declarative_constructor\n    raise TypeError(\nTypeError: 'vip_level' is an invalid keyword argument for Vip"}}
{"timestamp": "2025-03-21T06:42:05.197843", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "TypeError", "message": "'vip_level' is an invalid keyword argument for Vip", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 67, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    vip = Vip(\n          ^^^^\n  File \"<string>\", line 4, in __init__\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 566, in _initialize_instance\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/state.py\", line 564, in _initialize_instance\n    manager.original_init(*mixed[1:], **kwargs)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py\", line 2142, in _declarative_constructor\n    raise TypeError(\nTypeError: 'vip_level' is an invalid keyword argument for Vip"}}
{"timestamp": "2025-03-21T06:42:50.920887", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:42:50.922422", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:42:50.927812", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 57}
{"timestamp": "2025-03-21T06:42:50.935477", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 64, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 58, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 55, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:42:50.939166", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 66, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 58, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 55, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:42:55.781402", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:42:55.784293", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:42:55.788607", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 57}
{"timestamp": "2025-03-21T06:42:55.791430", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 64, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 58, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 55, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:42:55.794915", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 66, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 58, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 55, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:44:01.337670", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:44:01.339356", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:44:01.343861", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T06:44:01.346833", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:44:01.350434", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:44:12.216893", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:44:12.219218", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:44:12.225006", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T06:44:12.228005", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:44:12.231548", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:44:14.998173", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:44:14.999756", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:44:15.004326", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T06:44:15.007261", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:44:15.010903", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:45:15.552936", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:45:15.555529", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:45:15.560103", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T06:45:15.563065", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:45:15.566656", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:59:18.910187", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:59:18.912217", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:59:18.916694", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.FREE: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T06:59:18.919685", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:59:18.923275", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:59:25.841906", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T06:59:25.847888", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T06:59:25.867190", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.FREE: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T06:59:25.880355", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T06:59:25.883648", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"free\"\nLINE 1: ...NTO vip (level, describe, price, discount) VALUES ('free', '...\n                                                              ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'free', 'describe': '普通用户: *****************', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T07:00:06.991491", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:00:06.995435", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:00:07.009537", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T07:00:07.019221", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T07:00:07.024259", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T07:00:54.371720", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:00:54.373573", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:00:54.378177", "level": "ERROR", "message": "Failed to insert VIP level VipLevel.NORMAL: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "module": "init_data", "function": "init_vip_levels", "line": 50}
{"timestamp": "2025-03-21T07:00:54.381180", "level": "ERROR", "message": "Failed to initialize VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 57, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T07:00:54.384891", "level": "ERROR", "message": "Failed to initialize application", "module": "main", "function": "lifespan", "line": 41, "exception": {"type": "DataError", "message": "(psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InvalidTextRepresentation: invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/main.py\", line 34, in lifespan\n    init_vip_levels(db)\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 59, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 51, in init_vip_levels\n    raise e\n  File \"/home/yu/gitdev/shengyibaodian/app/db/init_data.py\", line 48, in init_vip_levels\n    db.flush()  # 立即刷新以检查是否有问题\n    ^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4312, in flush\n    self._flush(objects)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4447, in _flush\n    with util.safe_reraise():\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4408, in _flush\n    flush_context.execute()\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1226, in _emit_insert_statements\n    result = connection.execute(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 516, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2343, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.DataError: (psycopg2.errors.InvalidTextRepresentation) invalid input value for enum viplevel: \"NORMAL\"\nLINE 1: ...TO vip (level, describe, price, discount) VALUES ('NORMAL', ...\n                                                             ^\n\n[SQL: INSERT INTO vip (level, describe, price, discount) VALUES (%(level)s, %(describe)s, %(price)s, %(discount)s) RETURNING vip.id, vip.created_at, vip.updated_at]\n[parameters: {'level': 'NORMAL', 'describe': '普通会员: 旋律听写, 节奏练习, 节奏听写', 'price': 0, 'discount': 0}]\n(Background on this error at: https://sqlalche.me/e/20/9h9h)"}}
{"timestamp": "2025-03-21T07:06:38.099034", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:06:38.101016", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:06:38.106163", "level": "INFO", "message": "Successfully initialized VIP levels", "module": "init_data", "function": "init_vip_levels", "line": 54}
{"timestamp": "2025-03-21T07:06:38.106219", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:06:38.106712", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 41}
{"timestamp": "2025-03-21T07:06:53.266154", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b9714a10-8056-41d2-8094-650f428579b4", "ip": "127.0.0.1", "path": "/", "method": "GET"}
{"timestamp": "2025-03-21T07:06:53.266951", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b9714a10-8056-41d2-8094-650f428579b4", "path": "/", "method": "GET"}
{"timestamp": "2025-03-21T07:07:02.509411", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b37828ec-ef39-4cdd-b0d9-beddebf393b7", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:07:02.521822", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b37828ec-ef39-4cdd-b0d9-beddebf393b7", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:12:51.785939", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "532f250e-eae4-4ca3-b3f8-b566776eb46b", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:12:51.786326", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "532f250e-eae4-4ca3-b3f8-b566776eb46b", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:13:12.439500", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a16ceeb4-b24f-4717-9de4-2adacc099c54", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:13:12.447846", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n"}, "request_id": "a16ceeb4-b24f-4717-9de4-2adacc099c54", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:14:15.919233", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0c84ee46-0b80-474c-96cc-39ae328db15b", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:14:15.922299", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n"}, "request_id": "0c84ee46-0b80-474c-96cc-39ae328db15b", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:15:21.637564", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:15:22.298964", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:15:22.306326", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:15:22.319978", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:15:22.320145", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:15:22.321127", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 41}
{"timestamp": "2025-03-21T07:15:42.324081", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "ae4728a1-02e1-448f-b971-a0ee85889613", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:15:42.330072", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "ae4728a1-02e1-448f-b971-a0ee85889613", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:15:53.467020", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4a3b6460-bd5e-4a92-b271-2ff3a43aa6d0", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:15:53.474718", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n"}, "request_id": "4a3b6460-bd5e-4a92-b271-2ff3a43aa6d0", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:17:08.658244", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:17:09.401434", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:17:09.404788", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:17:09.408064", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:17:09.408123", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:17:09.408493", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 41}
{"timestamp": "2025-03-21T07:19:27.230189", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:19:27.989747", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:19:27.999575", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:19:28.008744", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:19:28.008870", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:19:28.009574", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:19:31.726966", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:19:32.394704", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:19:32.396196", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:19:32.399231", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:19:32.399320", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:19:32.399692", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:19:42.539310", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:19:43.296251", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:19:43.297808", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:19:43.300887", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:19:43.300942", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:19:43.301325", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:20:58.845592", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "63b68c98-00ea-4a70-9023-da7535dcd8ed", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:20:58.847411", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "63b68c98-00ea-4a70-9023-da7535dcd8ed", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:21:06.761905", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:21:08.919442", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:21:08.924583", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:21:08.932973", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:21:08.933087", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:21:08.933714", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:21:14.104628", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "3da770b0-0300-41f8-b753-9269a03e4d68", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:21:14.118680", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "3da770b0-0300-41f8-b753-9269a03e4d68", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:21:23.745923", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4f72aed2-0141-476e-bff6-58a074c8430c", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:23:16.693802", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n"}, "request_id": "4f72aed2-0141-476e-bff6-58a074c8430c", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:24:20.169086", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:24:22.416579", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:24:22.419757", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:24:22.426866", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:24:22.426969", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:24:22.427490", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:24:24.711750", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "c8b1cd03-acf4-4795-b274-5dab1dfb6f8a", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:24:24.725416", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "c8b1cd03-acf4-4795-b274-5dab1dfb6f8a", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:27:41.722664", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "fd91951e-8c52-4f96-a24b-a0015829c378", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:27:41.725508", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "fd91951e-8c52-4f96-a24b-a0015829c378", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:27:44.675726", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2104a53a-5767-49d7-8b3c-7b47b990f5f9", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:27:44.677296", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2104a53a-5767-49d7-8b3c-7b47b990f5f9", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:27:55.428325", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0cca6ed5-047a-4243-86e4-380ade71f19b", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:27:55.429879", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "0cca6ed5-047a-4243-86e4-380ade71f19b", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:28:02.652010", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "9a8515ce-598b-460d-97ca-e10d390c27a1", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:28:02.653810", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "9a8515ce-598b-460d-97ca-e10d390c27a1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:28:06.010003", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "119fd255-8344-4c33-ae5a-a92b927c8b68", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:28:06.013012", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "119fd255-8344-4c33-ae5a-a92b927c8b68", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:28:11.292956", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "11d28cfc-56dc-4e29-99e9-a072995113ed", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:28:11.294467", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "11d28cfc-56dc-4e29-99e9-a072995113ed", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:28:33.556289", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4ab5115e-db9b-4bcf-b3be-a8610ad60573", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:28:33.559150", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "4ab5115e-db9b-4bcf-b3be-a8610ad60573", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:29:17.913905", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "75494e77-1dcb-44fb-995e-87ce6b799f3f", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:29:17.917404", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "75494e77-1dcb-44fb-995e-87ce6b799f3f", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:29:37.363236", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "efb5e42c-71d4-4b1e-8dcb-44be6389156d", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:29:37.364827", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "efb5e42c-71d4-4b1e-8dcb-44be6389156d", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:32:17.264109", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "22b56b46-2b36-4964-9ecf-81aac2ac7f17", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:32:17.267165", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "22b56b46-2b36-4964-9ecf-81aac2ac7f17", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:33:07.665350", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "fff48061-c0d2-42e6-ba46-c2252b8641e0", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:33:07.668470", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "fff48061-c0d2-42e6-ba46-c2252b8641e0", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:33:46.504356", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "792a538f-eb1f-4250-b7b1-4f0d1be8943d", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:33:46.510097", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "792a538f-eb1f-4250-b7b1-4f0d1be8943d", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:34:10.518231", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e961d30e-8a3a-4f23-8bf3-37162eec8685", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:34:10.521263", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e961d30e-8a3a-4f23-8bf3-37162eec8685", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:36:20.486115", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "82eb2914-1d29-4966-a7de-fea012d731ca", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:36:20.489055", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "82eb2914-1d29-4966-a7de-fea012d731ca", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:45:41.131886", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a973f8cd-cae7-4db0-9011-f37fdb38935b", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:45:41.134754", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a973f8cd-cae7-4db0-9011-f37fdb38935b", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:45:53.510348", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5a7ff8c6-2c94-4d28-979f-c335638ed174", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:45:53.513260", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5a7ff8c6-2c94-4d28-979f-c335638ed174", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:46:23.063255", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "59470f28-3ae5-4163-9e3e-ebb9e028cb9f", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:46:23.066207", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "59470f28-3ae5-4163-9e3e-ebb9e028cb9f", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:46:29.440691", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f2932944-1f96-4a86-bff9-111e8d4729a3", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:46:29.442231", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f2932944-1f96-4a86-bff9-111e8d4729a3", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:47:04.688747", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "926c504f-6f1c-492c-8326-13af2e3eb583", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:47:04.692705", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "926c504f-6f1c-492c-8326-13af2e3eb583", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:47:10.556693", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5cba68c0-78b8-40ac-8d7a-4377dde53a9e", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:47:26.414497", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "TypeError", "message": "object list can't be used in 'await' expression", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/vip_api.py\", line 50, in get_all_vips\n    vips = await vip_service.get_all_vips()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: object list can't be used in 'await' expression"}, "request_id": "5cba68c0-78b8-40ac-8d7a-4377dde53a9e", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:49:12.137166", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:49:13.928099", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:49:13.931769", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:49:13.939027", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:49:13.939138", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:49:13.939744", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:49:16.254556", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "7e4bc2e8-632e-467c-b39b-44fdf0d885d5", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:49:16.269979", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "7e4bc2e8-632e-467c-b39b-44fdf0d885d5", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T07:49:18.432782", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5c456982-01fc-4d47-b627-2267d2d42f7c", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:49:48.533024", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 2 validation errors:\n  {'type': 'greater_than', 'loc': ('response', 0, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n  {'type': 'greater_than', 'loc': ('response', 1, 'price'), 'msg': 'Input should be greater than 0', 'input': 0.0, 'ctx': {'gt': 0.0}, 'url': 'https://errors.pydantic.dev/2.5/v/greater_than'}\n"}, "request_id": "5c456982-01fc-4d47-b627-2267d2d42f7c", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T07:51:21.263245", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:51:22.922077", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:51:22.925305", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:51:22.932436", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:51:22.932548", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:51:22.933093", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:51:36.588832", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:51:38.419700", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:51:38.423506", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:51:38.431235", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:51:38.431353", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:51:38.431999", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:51:50.777539", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:51:52.433450", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:51:52.436553", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:51:52.444012", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:51:52.444121", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:51:52.444650", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:52:24.958353", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:52:26.810588", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:52:26.813526", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:52:26.820966", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:52:26.821081", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:52:26.821708", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:52:32.242728", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:52:34.077659", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:52:34.080965", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:52:34.089012", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:52:34.089194", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:52:34.090030", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:53:22.273749", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:53:24.047917", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:53:24.050712", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:53:24.057577", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:53:24.057679", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:53:24.058194", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:53:54.576161", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:53:56.565391", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:53:56.567913", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:53:56.574916", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:53:56.575028", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:53:56.575534", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:54:05.811641", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:54:07.482120", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:54:07.484940", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:54:07.491977", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:54:07.492081", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:54:07.492594", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:55:26.009739", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:55:27.835571", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:55:27.838814", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:55:27.845684", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:55:27.845787", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:55:27.846305", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:55:40.494541", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:55:42.073628", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:55:42.076625", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:55:42.083594", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:55:42.083701", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:55:42.084223", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T07:56:17.025436", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T07:56:18.800581", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T07:56:18.803581", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T07:56:18.810538", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T07:56:18.810649", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T07:56:18.811162", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T08:01:41.506612", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T08:05:00.984242", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T08:05:00.987409", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T08:05:00.994955", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T08:05:00.995070", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T08:05:00.995635", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T08:05:20.767495", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T08:05:22.714167", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T08:05:22.717662", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T08:05:22.724714", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T08:05:22.724826", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T08:05:22.725365", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T08:06:08.397567", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 47}
{"timestamp": "2025-03-21T08:06:10.624237", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 27}
{"timestamp": "2025-03-21T08:06:10.627071", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-03-21T08:06:10.633774", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 13}
{"timestamp": "2025-03-21T08:06:10.633877", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 36}
{"timestamp": "2025-03-21T08:06:10.634382", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-03-21T08:06:25.666008", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "10852c98-1fcd-475f-9586-f85f98d3d1c7", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T08:06:25.687423", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "10852c98-1fcd-475f-9586-f85f98d3d1c7", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-03-21T08:06:27.905168", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5b3d80fb-28ab-4dcc-a222-cbae1e57525d", "ip": "127.0.0.1", "path": "/api/v1/vips", "method": "GET"}
{"timestamp": "2025-03-21T08:06:36.366950", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5b3d80fb-28ab-4dcc-a222-cbae1e57525d", "path": "/api/v1/vips", "method": "GET"}
