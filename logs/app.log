{"timestamp": "2025-04-21T10:59:07.576840", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-21T10:59:07.581096", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-21T10:59:07.587244", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-21T10:59:07.588351", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-21T10:59:07.588970", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-21T10:59:07.589536", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-21T10:59:07.590271", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-21T10:59:07.590814", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-21T10:59:07.591569", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-21T10:59:07.591618", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-21T10:59:07.591964", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-21T10:59:07.592004", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-21T10:59:07.593561", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-21T10:59:07.593605", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-21T10:59:07.593756", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-21T10:59:07.593785", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-21T10:59:07.595660", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-21T10:59:07.595711", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-21T10:59:07.596856", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-21T10:59:22.908448", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "00b2b53d-16eb-4e7a-9773-25ec87760564", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-21T10:59:22.912519", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "00b2b53d-16eb-4e7a-9773-25ec87760564", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-21T10:59:24.893002", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "c7fe4d36-f172-476a-88d0-bf825da578ec", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:01:34.898421", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-21T11:01:34.901970", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-21T11:01:34.907743", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-21T11:01:34.908814", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-21T11:01:34.909388", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-21T11:01:34.909981", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-21T11:01:34.910791", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-21T11:01:34.911418", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-21T11:01:34.912291", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-21T11:01:34.912347", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-21T11:01:34.912726", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-21T11:01:34.912768", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-21T11:01:34.914406", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-21T11:01:34.914460", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-21T11:01:34.914634", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-21T11:01:34.914669", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-21T11:01:34.918160", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-21T11:01:34.918215", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-21T11:01:34.919441", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-21T11:01:38.797869", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f50557ef-3e6d-4455-a3c9-f801c67fb843", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-21T11:01:38.802999", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f50557ef-3e6d-4455-a3c9-f801c67fb843", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-21T11:01:41.548204", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "619a7d21-1775-488f-b6a9-c5f3d150f1f9", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:02:16.787744", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-21T11:02:16.792624", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-21T11:02:16.800147", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-21T11:02:16.801946", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-21T11:02:16.803108", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-21T11:02:16.803938", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-21T11:02:16.804883", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-21T11:02:16.805588", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-21T11:02:16.806514", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-21T11:02:16.806568", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-21T11:02:16.806983", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-21T11:02:16.807026", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-21T11:02:16.809017", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-21T11:02:16.809071", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-21T11:02:16.809231", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-21T11:02:16.809262", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-21T11:02:16.811567", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-21T11:02:16.811637", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-21T11:02:16.813035", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-21T11:02:26.035950", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-21T11:02:27.136543", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-21T11:02:27.139989", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-21T11:02:27.146352", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-21T11:02:27.147476", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-21T11:02:27.148104", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-21T11:02:27.148642", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-21T11:02:27.149347", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-21T11:02:27.149885", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-21T11:02:27.150629", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-21T11:02:27.150681", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-21T11:02:27.150993", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-21T11:02:27.151037", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-21T11:02:27.152622", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-21T11:02:27.152674", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-21T11:02:27.152832", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-21T11:02:27.152864", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-21T11:02:27.154689", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-21T11:02:27.154747", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-21T11:02:27.155812", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-21T11:02:36.281997", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-21T11:02:45.259855", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-21T11:02:45.262795", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-21T11:02:45.268435", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-21T11:02:45.269437", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-21T11:02:45.269998", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-21T11:02:45.270529", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-21T11:02:45.271203", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-21T11:02:45.271731", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-21T11:02:45.272465", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-21T11:02:45.272511", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-21T11:02:45.272832", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-21T11:02:45.272870", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-21T11:02:45.274253", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-21T11:02:45.274294", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-21T11:02:45.274453", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-21T11:02:45.274483", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-21T11:02:45.276298", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-21T11:02:45.276348", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-21T11:02:45.277421", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-21T11:02:51.208218", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2964e1a5-16fe-4e9f-989d-438b0133b2a0", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-21T11:02:51.212358", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2964e1a5-16fe-4e9f-989d-438b0133b2a0", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-21T11:02:53.166959", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "d0631e85-4574-4135-8407-2b0ae24c8e80", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:06:17.030680", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-21T11:06:17.034589", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-21T11:06:17.040922", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-21T11:06:17.042036", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-21T11:06:17.042660", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-21T11:06:17.043191", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-21T11:06:17.043936", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-21T11:06:17.044482", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-21T11:06:17.045250", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-21T11:06:17.045300", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-21T11:06:17.045608", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-21T11:06:17.045649", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-21T11:06:17.047156", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-21T11:06:17.047201", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-21T11:06:17.047354", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-21T11:06:17.047384", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-21T11:06:17.049545", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-21T11:06:17.049604", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-21T11:06:17.050724", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-21T11:06:21.163518", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "c6f1506d-36fe-4c15-99b8-1ffdbea26c08", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-21T11:06:21.167712", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "c6f1506d-36fe-4c15-99b8-1ffdbea26c08", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-21T11:06:22.823743", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a36fd4e3-301e-40cf-80f4-9538e8e1c2cd", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:07:53.944909", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-21T11:07:53.949310", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-21T11:07:53.957116", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-21T11:07:53.958854", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-21T11:07:53.959842", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-21T11:07:53.960800", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-21T11:07:53.962100", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-21T11:07:53.963037", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-21T11:07:53.964110", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-21T11:07:53.964201", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-21T11:07:53.964748", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-21T11:07:53.964828", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-21T11:07:53.967096", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-21T11:07:53.967186", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-21T11:07:53.967453", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-21T11:07:53.967519", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-21T11:07:53.970784", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-21T11:07:53.970892", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-21T11:07:53.972846", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-21T11:07:58.760533", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "795bf4e8-e9ac-4b51-80c6-87ff55268b40", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-21T11:07:58.764888", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "795bf4e8-e9ac-4b51-80c6-87ff55268b40", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-21T11:08:00.645309", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a61b4fa0-d758-40a2-86ae-b358287d38ab", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:08:00.649565", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a61b4fa0-d758-40a2-86ae-b358287d38ab", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:14:47.175962", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-21T11:14:48.262171", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-21T11:14:48.265898", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-21T11:14:48.272077", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-21T11:14:48.273217", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-21T11:14:48.273789", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-21T11:14:48.274318", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-21T11:14:48.275078", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-21T11:14:48.275651", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-21T11:14:48.276426", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-21T11:14:48.276474", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-21T11:14:48.276837", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-21T11:14:48.276882", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-21T11:14:48.278470", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-21T11:14:48.278518", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-21T11:14:48.278664", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-21T11:14:48.278693", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-21T11:14:48.280614", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-21T11:14:48.280668", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-21T11:14:48.281751", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-21T11:25:54.455556", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-21T11:25:55.762718", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-21T11:25:55.766381", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-21T11:25:55.772672", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-21T11:25:55.773839", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-21T11:25:55.774421", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-21T11:25:55.774955", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-21T11:25:55.775658", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-21T11:25:55.776376", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-21T11:25:55.777621", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-21T11:25:55.777669", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-21T11:25:55.777984", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-21T11:25:55.778022", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-21T11:25:55.779660", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-21T11:25:55.779706", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-21T11:25:55.779854", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-21T11:25:55.779887", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-21T11:25:55.781813", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-21T11:25:55.781864", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-21T11:25:55.782958", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-21T11:26:00.854008", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "fccf4e42-e923-41d2-9a47-e8b811c3adb1", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-21T11:26:00.858334", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "fccf4e42-e923-41d2-9a47-e8b811c3adb1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-21T11:26:02.906671", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "c156027e-41b2-4425-be36-5038a36126fa", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:26:02.910353", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "c156027e-41b2-4425-be36-5038a36126fa", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:22.525085", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "eabeb298-ec87-4cbe-afc7-d7dd26a79a43", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:22.528151", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "eabeb298-ec87-4cbe-afc7-d7dd26a79a43", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:23.663330", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "df7a5ce4-7387-4702-b46c-82d2a4dc94f4", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:23.666693", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "df7a5ce4-7387-4702-b46c-82d2a4dc94f4", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:24.530485", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a40af942-5c24-4965-8121-87f9c4383c34", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:24.535270", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a40af942-5c24-4965-8121-87f9c4383c34", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:25.306104", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "467ac26b-b848-4eb2-916f-eb3c92df4110", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:25.309276", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "467ac26b-b848-4eb2-916f-eb3c92df4110", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:26.162193", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "18b20593-be3b-4d01-8b70-72d752e7568f", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:26.165355", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "18b20593-be3b-4d01-8b70-72d752e7568f", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:26.971205", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "d76c84df-fd17-49c7-9059-4dc50a3f98a0", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:26.974836", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "d76c84df-fd17-49c7-9059-4dc50a3f98a0", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:27.793957", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b87b2f75-a859-4048-9092-46e5086d7340", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:27:27.796643", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b87b2f75-a859-4048-9092-46e5086d7340", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-21T11:30:31.197087", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T02:23:32.400504", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T02:23:32.403796", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T02:23:32.413034", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T02:23:32.416154", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T02:23:32.417314", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T02:23:32.418642", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T02:23:32.419929", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T02:23:32.421547", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T02:23:32.423344", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T02:23:32.423394", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T02:23:32.423723", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T02:23:32.423758", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T02:23:32.424689", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T02:23:32.424730", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T02:23:32.424895", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T02:23:32.424922", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T02:23:32.426712", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T02:23:32.426765", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T02:23:32.427778", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T02:36:15.763778", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "1d29487a-7ff7-4606-90aa-115398560985", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T02:36:15.768343", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "1d29487a-7ff7-4606-90aa-115398560985", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T02:36:19.456249", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "13ccd65c-eab5-48ba-be1a-d03f9a683b89", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T02:36:19.466199", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "13ccd65c-eab5-48ba-be1a-d03f9a683b89", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T02:36:23.302881", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "8bc37f0c-a3d6-45a9-95e1-11718ca779d6", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T02:36:23.305545", "level": "ERROR", "message": "Error in generate_ai_melody_question : 'Request' object has no attribute 'difficulty'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 36, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 86, in _generate_ai_melody\n    prompt = self._build_melody_prompt(request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 101, in _build_melody_prompt\n    if request.difficulty == RhythmDifficulty.HIGH:\n       ^^^^^^^^^^^^^^^^^^\nAttributeError: 'Request' object has no attribute 'difficulty'\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T02:36:23.306039", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "8bc37f0c-a3d6-45a9-95e1-11718ca779d6", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T02:36:45.901692", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T02:36:46.977552", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T02:36:46.985160", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T02:36:46.997835", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T02:36:46.999494", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T02:36:47.000188", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T02:36:47.000777", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T02:36:47.001544", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T02:36:47.002125", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T02:36:47.003659", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T02:36:47.003722", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T02:36:47.004105", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T02:36:47.004163", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T02:36:47.005153", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T02:36:47.005204", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T02:36:47.005358", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T02:36:47.005394", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T02:36:47.007340", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T02:36:47.007404", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T02:36:47.008562", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T02:36:50.618819", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "c4e80982-a36d-4603-8082-a3ac39c80ec4", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T02:36:50.623075", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "c4e80982-a36d-4603-8082-a3ac39c80ec4", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T02:36:52.154964", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "8681a374-0783-4c28-851d-4de1f8c85a80", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T02:37:18.555031", "level": "ERROR", "message": "Error in generate_ai_melody_question : Expecting value: line 1 column 1 (char 0)\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 36, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 92, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 160, in _parse_ai_response\n    melody_data = json.loads(response[\"choices\"][0][\"message\"][\"content\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T02:37:18.557839", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "8681a374-0783-4c28-851d-4de1f8c85a80", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T02:39:03.328736", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T02:39:04.490303", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T02:39:04.495674", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T02:39:04.502443", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T02:39:04.503600", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T02:39:04.504189", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T02:39:04.504748", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T02:39:04.505554", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T02:39:04.506187", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T02:39:04.507877", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T02:39:04.507941", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T02:39:04.508276", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T02:39:04.508316", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T02:39:04.509351", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T02:39:04.509392", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T02:39:04.509577", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T02:39:04.509617", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T02:39:04.511699", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T02:39:04.511759", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T02:39:04.512935", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T02:39:27.069631", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T02:39:28.161716", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T02:39:28.164920", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T02:39:28.170862", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T02:39:28.171915", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T02:39:28.172453", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T02:39:28.172960", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T02:39:28.173624", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T02:39:28.174135", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T02:39:28.175385", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T02:39:28.175433", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T02:39:28.175763", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T02:39:28.175799", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T02:39:28.176678", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T02:39:28.176715", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T02:39:28.176858", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T02:39:28.176889", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T02:39:28.178599", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T02:39:28.178647", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T02:39:28.179718", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T02:40:38.055260", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T02:41:52.889506", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T02:41:52.893524", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T02:41:52.900158", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T02:41:52.901346", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T02:41:52.902154", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T02:41:52.902849", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T02:41:52.903632", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T02:41:52.904192", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T02:41:52.905705", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T02:41:52.905754", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T02:41:52.906135", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T02:41:52.906176", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T02:41:52.907175", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T02:41:52.907217", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T02:41:52.907374", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T02:41:52.907403", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T02:41:52.909247", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T02:41:52.909298", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T02:41:52.910447", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T02:41:57.598895", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a3c90ab7-bdb6-4e5a-80a5-5c8a72776f78", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T02:41:57.603125", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a3c90ab7-bdb6-4e5a-80a5-5c8a72776f78", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T02:41:59.133154", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b36ca18b-a55a-4168-9817-7d28c63a1c22", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T02:42:33.131252", "level": "ERROR", "message": "Error in generate_ai_melody_question : Expecting value: line 1 column 1 (char 0)\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 39, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 107, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 185, in _parse_ai_response\n    melody_data = json.loads(response[\"choices\"][0][\"message\"][\"content\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T02:42:33.132145", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b36ca18b-a55a-4168-9817-7d28c63a1c22", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T02:43:13.755240", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T02:43:30.241721", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T02:43:30.248913", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T02:43:30.265615", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T02:43:30.268857", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T02:43:30.270190", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T02:43:30.271286", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T02:43:30.272897", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T02:43:30.273906", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T02:43:30.275398", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T02:43:30.275495", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T02:43:30.276038", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T02:43:30.276117", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T02:43:30.278633", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T02:43:30.278790", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T02:43:30.279646", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T02:43:30.279774", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T02:43:30.289470", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T02:43:30.289596", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T02:43:30.293674", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T02:43:46.413150", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "c6ba0b6d-0b14-4ad5-b6c3-9c9e300f6174", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T02:43:46.429945", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "c6ba0b6d-0b14-4ad5-b6c3-9c9e300f6174", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T02:43:48.444006", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2836c753-7a2c-4eb5-8985-78a7511b83c7", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T05:36:18.946743", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T05:36:18.952741", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T05:36:18.966231", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T05:36:18.968183", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T05:36:18.969238", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T05:36:18.970172", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T05:36:18.972431", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T05:36:18.973421", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T05:36:18.974785", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T05:36:18.974879", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T05:36:18.975359", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T05:36:18.975439", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T05:36:18.977210", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T05:36:18.977288", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T05:36:18.977894", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T05:36:18.977959", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T05:36:18.983642", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T05:36:18.983754", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T05:36:18.987620", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T05:36:23.433152", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f6eeb51f-789f-4bd4-9823-651879773fb2", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:36:23.446902", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f6eeb51f-789f-4bd4-9823-651879773fb2", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:36:25.282121", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "bb458af1-85a3-4d40-af19-006ae875f01d", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T05:37:46.194976", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T05:37:46.200835", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T05:37:46.213903", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T05:37:46.215877", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T05:37:46.216935", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T05:37:46.217846", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T05:37:46.219995", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T05:37:46.220973", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T05:37:46.222305", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T05:37:46.222423", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T05:37:46.222920", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T05:37:46.222998", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T05:37:46.224722", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T05:37:46.224799", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T05:37:46.225360", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T05:37:46.225424", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T05:37:46.231516", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T05:37:46.231673", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T05:37:46.236163", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T05:37:50.257809", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e052ffba-f6fa-442b-8963-24787e8389a3", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:37:50.271647", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e052ffba-f6fa-442b-8963-24787e8389a3", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:37:51.683985", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "839ce105-7616-4df6-847c-871746dd069c", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T05:41:23.197891", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T05:41:23.203446", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T05:41:23.217166", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T05:41:23.219995", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T05:41:23.221066", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T05:41:23.222016", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T05:41:23.223427", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T05:41:23.224363", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T05:41:23.225842", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T05:41:23.225965", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T05:41:23.226434", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T05:41:23.226512", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T05:41:23.228285", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T05:41:23.228384", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T05:41:23.228971", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T05:41:23.229045", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T05:41:23.234782", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T05:41:23.234917", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T05:41:23.238828", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T05:41:28.038629", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "63554314-b868-4bd5-ae1a-09d67acd3a47", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:41:28.052643", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "63554314-b868-4bd5-ae1a-09d67acd3a47", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:41:31.548538", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "42c35815-e043-4959-93e7-57c3351bbe75", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T05:44:07.145896", "level": "ERROR", "message": "Error in generate_ai_melody_question : Expecting value: line 1 column 1 (char 0)\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 39, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 107, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 187, in _parse_ai_response\n    melody_data = json.loads(response[\"choices\"][0][\"message\"][\"content\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T05:44:07.156192", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "549d21bf-400b-4dff-8da3-52f547cd05bf", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:44:07.158738", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f8f88835-dede-4d92-b935-b7e94ecc48bd", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:44:07.160609", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "42c35815-e043-4959-93e7-57c3351bbe75", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T05:44:07.166842", "level": "ERROR", "message": "Error in generate_melody_question : tuple indices must be integers or slices, not RhythmDifficulty\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 30, in generate_melody_question\n    response = melody_service.generate_question(melody_question_request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 29, in generate_question\n    correct_melody = self.generate_melody(\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 88, in generate_melody\n    rhythm = rhythm_service.generate_rhythm(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/rhythm_service.py\", line 237, in generate_rhythm\n    patterns = self.rhythm_patterns[difficulty][time_signature]\n               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\nTypeError: tuple indices must be integers or slices, not RhythmDifficulty\n", "module": "melody_api", "function": "generate_melody_question", "line": 33}
{"timestamp": "2025-04-22T05:44:07.177189", "level": "ERROR", "message": "Error in generate_melody_question : tuple indices must be integers or slices, not RhythmDifficulty\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 30, in generate_melody_question\n    response = melody_service.generate_question(melody_question_request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 29, in generate_question\n    correct_melody = self.generate_melody(\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 88, in generate_melody\n    rhythm = rhythm_service.generate_rhythm(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/rhythm_service.py\", line 237, in generate_rhythm\n    patterns = self.rhythm_patterns[difficulty][time_signature]\n               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\nTypeError: tuple indices must be integers or slices, not RhythmDifficulty\n", "module": "melody_api", "function": "generate_melody_question", "line": 33}
{"timestamp": "2025-04-22T05:44:07.180459", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "549d21bf-400b-4dff-8da3-52f547cd05bf", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:44:07.181275", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f8f88835-dede-4d92-b935-b7e94ecc48bd", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:44:44.493613", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0f9f2a88-0950-40ae-843c-eb5416333aab", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:44:44.497354", "level": "ERROR", "message": "Error in generate_melody_question : tuple indices must be integers or slices, not RhythmDifficulty\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 30, in generate_melody_question\n    response = melody_service.generate_question(melody_question_request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 29, in generate_question\n    correct_melody = self.generate_melody(\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 88, in generate_melody\n    rhythm = rhythm_service.generate_rhythm(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/rhythm_service.py\", line 237, in generate_rhythm\n    patterns = self.rhythm_patterns[difficulty][time_signature]\n               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\nTypeError: tuple indices must be integers or slices, not RhythmDifficulty\n", "module": "melody_api", "function": "generate_melody_question", "line": 33}
{"timestamp": "2025-04-22T05:44:44.498320", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "0f9f2a88-0950-40ae-843c-eb5416333aab", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:49:19.534119", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f328fe7f-19ef-4595-a070-99c36bf866a6", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:50:04.435551", "level": "ERROR", "message": "Error in generate_melody_question : tuple indices must be integers or slices, not RhythmDifficulty\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 30, in generate_melody_question\n    response = melody_service.generate_question(melody_question_request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 29, in generate_question\n    correct_melody = self.generate_melody(\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 88, in generate_melody\n    rhythm = rhythm_service.generate_rhythm(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/rhythm_service.py\", line 237, in generate_rhythm\n    patterns = self.rhythm_patterns[difficulty][time_signature]\n               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\nTypeError: tuple indices must be integers or slices, not RhythmDifficulty\n", "module": "melody_api", "function": "generate_melody_question", "line": 33}
{"timestamp": "2025-04-22T05:50:04.442062", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f328fe7f-19ef-4595-a070-99c36bf866a6", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:50:04.539471", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T05:52:06.810644", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T05:52:06.813836", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T05:52:06.819755", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T05:52:06.820826", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T05:52:06.821432", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T05:52:06.822014", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T05:52:06.822754", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T05:52:06.823305", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T05:52:06.824587", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T05:52:06.824638", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T05:52:06.824962", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T05:52:06.825000", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T05:52:06.825988", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T05:52:06.826032", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T05:52:06.826195", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T05:52:06.826224", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T05:52:06.828086", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T05:52:06.828138", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T05:52:06.829189", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T05:52:11.152131", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "8be33e65-8007-41fd-b4d9-07209f3fb6c3", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:52:11.157781", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "8be33e65-8007-41fd-b4d9-07209f3fb6c3", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:52:12.599192", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e6904e8c-e8b3-4fb6-8893-2316f63c06ca", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:52:12.603927", "level": "ERROR", "message": "Error in generate_melody_question : tuple indices must be integers or slices, not str\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 30, in generate_melody_question\n    response = melody_service.generate_question(melody_question_request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 29, in generate_question\n    correct_melody = self.generate_melody(\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 88, in generate_melody\n    rhythm = rhythm_service.generate_rhythm(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/rhythm_service.py\", line 237, in generate_rhythm\n    patterns = self.rhythm_patterns[difficulty.value][time_signature.value]\n               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^\nTypeError: tuple indices must be integers or slices, not str\n", "module": "melody_api", "function": "generate_melody_question", "line": 33}
{"timestamp": "2025-04-22T05:52:12.605006", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e6904e8c-e8b3-4fb6-8893-2316f63c06ca", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:52:19.185994", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "28c18390-38ec-4c0e-9773-9401ad7be62f", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:52:19.188625", "level": "ERROR", "message": "Error in generate_melody_question : tuple indices must be integers or slices, not str\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 30, in generate_melody_question\n    response = melody_service.generate_question(melody_question_request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 29, in generate_question\n    correct_melody = self.generate_melody(\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 88, in generate_melody\n    rhythm = rhythm_service.generate_rhythm(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/rhythm_service.py\", line 237, in generate_rhythm\n    patterns = self.rhythm_patterns[difficulty.value][time_signature.value]\n               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^\nTypeError: tuple indices must be integers or slices, not str\n", "module": "melody_api", "function": "generate_melody_question", "line": 33}
{"timestamp": "2025-04-22T05:52:19.189389", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "28c18390-38ec-4c0e-9773-9401ad7be62f", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:52:49.853025", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T05:52:51.129161", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T05:52:51.133152", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T05:52:51.139223", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T05:52:51.140353", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T05:52:51.140974", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T05:52:51.141556", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T05:52:51.142274", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T05:52:51.142772", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T05:52:51.144166", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T05:52:51.144217", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T05:52:51.144535", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T05:52:51.144573", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T05:52:51.145525", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T05:52:51.145571", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T05:52:51.145729", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T05:52:51.145757", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T05:52:51.147618", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T05:52:51.147667", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T05:52:51.148734", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T05:52:54.861790", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T05:52:58.855399", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T05:52:58.866490", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T05:52:58.885463", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T05:52:58.891461", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T05:52:58.893779", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T05:52:58.895303", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T05:52:58.898113", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T05:52:58.899944", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T05:52:58.902750", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T05:52:58.902945", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T05:52:58.903935", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T05:52:58.904090", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T05:52:58.907431", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T05:52:58.907595", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T05:52:58.908515", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T05:52:58.908656", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T05:52:58.917573", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T05:52:58.917712", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T05:52:58.923231", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T05:53:01.229100", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "c0eb6680-0d26-41c2-90f8-be3cd47b7c26", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:53:01.246153", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "c0eb6680-0d26-41c2-90f8-be3cd47b7c26", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:53:02.818262", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "1c8d041c-1fbd-40d7-aff1-2b63fb495e53", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:53:19.084477", "level": "ERROR", "message": "Error in generate_melody_question : tuple indices must be integers or slices, not RhythmDifficulty\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 30, in generate_melody_question\n    response = melody_service.generate_question(melody_question_request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 29, in generate_question\n    correct_melody = self.generate_melody(\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 88, in generate_melody\n    rhythm = rhythm_service.generate_rhythm(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/rhythm_service.py\", line 237, in generate_rhythm\n    patterns = self.rhythm_patterns[difficulty][time_signature]\n               ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\nTypeError: tuple indices must be integers or slices, not RhythmDifficulty\n", "module": "melody_api", "function": "generate_melody_question", "line": 33}
{"timestamp": "2025-04-22T05:53:19.087145", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "1c8d041c-1fbd-40d7-aff1-2b63fb495e53", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:54:10.077370", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T05:54:12.423472", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T05:54:12.429265", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T05:54:12.444458", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T05:54:12.447409", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T05:54:12.448543", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T05:54:12.449510", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T05:54:12.451059", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T05:54:12.452139", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T05:54:12.453813", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T05:54:12.453949", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T05:54:12.454651", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T05:54:12.454752", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T05:54:12.457038", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T05:54:12.457162", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T05:54:12.457767", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T05:54:12.457849", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T05:54:12.464392", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T05:54:12.464569", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T05:54:12.468837", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T05:54:46.812827", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T05:54:49.154009", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T05:54:49.160966", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T05:54:49.175233", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T05:54:49.178185", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T05:54:49.179347", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T05:54:49.180336", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T05:54:49.181820", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T05:54:49.182922", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T05:54:49.184450", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T05:54:49.184547", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T05:54:49.185124", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T05:54:49.185204", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T05:54:49.187165", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T05:54:49.187248", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T05:54:49.187797", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T05:54:49.187862", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T05:54:49.193760", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T05:54:49.193883", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T05:54:49.198103", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T05:57:07.464482", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T05:57:09.981286", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T05:57:09.987185", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T05:57:10.002414", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T05:57:10.005503", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T05:57:10.006752", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T05:57:10.007747", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T05:57:10.009258", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T05:57:10.010275", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T05:57:10.011792", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T05:57:10.011908", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T05:57:10.012425", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T05:57:10.012511", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T05:57:10.014533", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T05:57:10.014636", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T05:57:10.015270", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T05:57:10.015345", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T05:57:10.021922", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T05:57:10.022085", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T05:57:10.026475", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T05:58:37.502927", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "358b2401-ec53-4a68-b256-f567d2217c99", "ip": "127.0.0.1", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:58:37.515454", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "358b2401-ec53-4a68-b256-f567d2217c99", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:58:40.468048", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "ac2d87b5-b3e3-49fd-8395-18831b3cda12", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T05:58:40.470073", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "ac2d87b5-b3e3-49fd-8395-18831b3cda12", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T05:58:42.854383", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "aa50a6ef-ba5d-473f-a42a-88f43d14ab07", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:58:42.861217", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "aa50a6ef-ba5d-473f-a42a-88f43d14ab07", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:58:44.181960", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "fbb922b1-2a47-4239-89a3-7ca09693989a", "ip": "127.0.0.1", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:58:48.472940", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "fbb922b1-2a47-4239-89a3-7ca09693989a", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:58:54.294952", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T05:58:56.750466", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T05:58:56.755802", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T05:58:56.769454", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T05:58:56.772223", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T05:58:56.773403", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T05:58:56.774406", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T05:58:56.775844", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T05:58:56.776949", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T05:58:56.778491", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T05:58:56.778595", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T05:58:56.779172", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T05:58:56.779253", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T05:58:56.781038", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T05:58:56.781141", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T05:58:56.781750", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T05:58:56.781836", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T05:58:56.788130", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T05:58:56.788271", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T05:58:56.792534", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T05:59:48.051179", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "68efda90-454b-4875-9cac-02f7256dad73", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:59:48.067167", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "68efda90-454b-4875-9cac-02f7256dad73", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T05:59:49.844195", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0ca949f9-ed58-4115-b0b8-480fa72b0f09", "ip": "127.0.0.1", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T05:59:54.030506", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "0ca949f9-ed58-4115-b0b8-480fa72b0f09", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:01:01.247093", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:02:02.863090", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:02:02.870285", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:02:02.884677", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:02:02.887702", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:02:02.888915", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:02:02.889957", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:02:02.891495", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:02:02.892554", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:02:02.894072", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:02:02.894169", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:02:02.894706", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:02:02.894788", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:02:02.896620", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:02:02.896700", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:02:02.897289", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:02:02.897353", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:02:02.903257", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:02:02.903376", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:02:02.907471", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:02:28.731070", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:02:31.089828", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:02:31.095862", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:02:31.110755", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:02:31.113846", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:02:31.115176", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:02:31.116254", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:02:31.117806", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:02:31.118851", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:02:31.120414", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:02:31.120513", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:02:31.121055", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:02:31.121133", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:02:31.123013", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:02:31.123097", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:02:31.123672", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:02:31.123740", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:02:31.129924", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:02:31.130057", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:02:31.134382", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:02:49.116630", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:02:51.770405", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:02:51.776542", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:02:51.790320", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:02:51.793016", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:02:51.794131", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:02:51.795091", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:02:51.796537", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:02:51.797538", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:02:51.799056", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:02:51.799167", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:02:51.799691", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:02:51.799773", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:02:51.801614", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:02:51.801707", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:02:51.802299", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:02:51.802373", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:02:51.808701", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:02:51.808848", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:02:51.813423", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:03:05.876508", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:03:08.325544", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:03:08.330757", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:03:08.344367", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:03:08.347225", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:03:08.348368", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:03:08.349308", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:03:08.350789", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:03:08.351792", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:03:08.353423", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:03:08.353540", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:03:08.354053", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:03:08.354127", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:03:08.355952", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:03:08.356049", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:03:08.356608", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:03:08.356682", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:03:08.362526", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:03:08.362668", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:03:08.366581", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:03:08.971391", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:03:12.517080", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:03:12.523525", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:03:12.537660", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:03:12.539687", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:03:12.540762", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:03:12.541859", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:03:12.543600", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:03:12.544857", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:03:12.546623", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:03:12.546733", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:03:12.547365", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:03:12.547443", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:03:12.549757", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:03:12.549848", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:03:12.550423", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:03:12.550492", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:03:12.556919", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:03:12.557056", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:03:12.561254", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:03:19.377769", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "ade66836-f803-4af1-b884-86c1ba91282e", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:03:19.392165", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "ade66836-f803-4af1-b884-86c1ba91282e", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:03:21.722512", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e4f80075-f605-4c54-87b2-bc8d02541d06", "ip": "127.0.0.1", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:03:25.912275", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e4f80075-f605-4c54-87b2-bc8d02541d06", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:03:50.111305", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:03:50.115813", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:03:50.121498", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:03:50.122650", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:03:50.123263", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:03:50.123863", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:03:50.124575", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:03:50.125171", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:03:50.126466", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:03:50.126514", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:03:50.126867", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:03:50.126913", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:03:50.127839", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:03:50.127881", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:03:50.128057", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:03:50.128085", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:03:50.129986", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:03:50.130038", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:03:50.131175", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:03:53.999716", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b2a98725-5a3f-40d9-b18b-efaaa7b1c9ba", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:03:54.005401", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b2a98725-5a3f-40d9-b18b-efaaa7b1c9ba", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:03:55.666965", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "01bd7a89-7a1e-4dd3-969b-cbb4cbfdd013", "ip": "127.0.0.1", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:03:55.671221", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "01bd7a89-7a1e-4dd3-969b-cbb4cbfdd013", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:06:29.908184", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:06:30.981229", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:06:30.984906", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:06:30.991010", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:06:30.992084", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:06:30.992608", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:06:30.993120", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:06:30.993833", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:06:30.994384", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:06:30.995686", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:06:30.995734", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:06:30.996063", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:06:30.996099", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:06:30.997084", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:06:30.997123", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:06:30.997271", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:06:30.997299", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:06:30.999121", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:06:30.999171", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:06:31.000206", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:07:23.453785", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:07:24.521384", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:07:24.528222", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:07:24.534495", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:07:24.535516", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:07:24.536091", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:07:24.536619", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:07:24.537350", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:07:24.538100", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:07:24.539970", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:07:24.540028", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:07:24.540501", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:07:24.540536", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:07:24.541518", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:07:24.541562", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:07:24.541717", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:07:24.541745", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:07:24.543868", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:07:24.543934", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:07:24.545075", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:08:06.062633", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:08:07.099427", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:08:07.102416", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:08:07.108267", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:08:07.109300", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:08:07.109896", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:08:07.110417", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:08:07.111175", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:08:07.111704", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:08:07.112911", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:08:07.112957", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:08:07.113276", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:08:07.113310", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:08:07.114202", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:08:07.114240", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:08:07.114392", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:08:07.114425", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:08:07.116199", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:08:07.116245", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:08:07.117272", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:09:28.679822", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:09:29.742148", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:09:29.745687", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:09:29.751592", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:09:29.752709", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:09:29.753399", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:09:29.754053", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:09:29.755003", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:09:29.755704", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:09:29.757229", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:09:29.757280", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:09:29.757647", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:09:29.757685", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:09:29.758663", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:09:29.758705", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:09:29.758863", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:09:29.758898", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:09:29.760757", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:09:29.760808", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:09:29.761904", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:09:56.140538", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:09:57.236363", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:09:57.241013", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:09:57.246738", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:09:57.247825", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:09:57.248432", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:09:57.248989", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:09:57.249737", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:09:57.250315", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:09:57.251784", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:09:57.251854", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:09:57.252264", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:09:57.252303", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:09:57.253322", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:09:57.253366", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:09:57.253515", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:09:57.253544", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:09:57.255580", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:09:57.255639", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:09:57.256774", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:11:38.486609", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:11:39.626469", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:11:39.634221", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:11:39.642803", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:11:39.644594", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:11:39.645599", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:11:39.646572", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:11:39.647940", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:11:39.648965", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:11:39.651472", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:11:39.651575", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:11:39.652155", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:11:39.652251", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:11:39.653879", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:11:39.653981", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:11:39.654248", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:11:39.654313", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:11:39.657626", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:11:39.657725", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:11:39.659681", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:15:28.745102", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:15:29.857300", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:15:29.860762", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:15:29.867092", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:15:29.868333", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:15:29.869012", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:15:29.869637", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:15:29.870428", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:15:29.871042", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:15:29.872467", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:15:29.872517", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:15:29.872879", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:15:29.872926", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:15:29.873919", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:15:29.873963", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:15:29.874131", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:15:29.874159", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:15:29.876156", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:15:29.876213", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:15:29.877348", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:15:36.101771", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:15:37.180673", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:15:37.184591", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:15:37.190591", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:15:37.191671", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:15:37.192259", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:15:37.192819", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:15:37.193594", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:15:37.194482", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:15:37.196618", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:15:37.196715", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:15:37.197564", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:15:37.197649", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:15:37.199244", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:15:37.199292", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:15:37.199450", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:15:37.199478", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:15:37.202671", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:15:37.202782", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:15:37.204697", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:16:20.248203", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:16:21.329961", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:16:21.334535", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:16:21.340904", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:16:21.342043", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:16:21.342655", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:16:21.343208", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:16:21.343963", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:16:21.344516", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:16:21.346150", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:16:21.346205", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:16:21.346571", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:16:21.346609", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:16:21.347542", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:16:21.347583", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:16:21.347728", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:16:21.347759", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:16:21.349633", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:16:21.349682", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:16:21.350735", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:16:29.273108", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:16:30.422029", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:16:30.425173", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:16:30.431013", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:16:30.432045", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:16:30.432600", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:16:30.433322", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:16:30.434486", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:16:30.435088", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:16:30.436445", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:16:30.436494", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:16:30.436834", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:16:30.436872", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:16:30.437818", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:16:30.437858", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:16:30.438009", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:16:30.438037", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:16:30.439831", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:16:30.439882", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:16:30.440932", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:16:41.980589", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:16:43.407792", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:16:43.416073", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:16:43.426687", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:16:43.428856", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:16:43.430285", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:16:43.431789", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:16:43.433205", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:16:43.434423", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:16:43.436374", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:16:43.436448", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:16:43.436882", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:16:43.436936", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:16:43.438084", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:16:43.438140", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:16:43.438307", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:16:43.438339", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:16:43.440398", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:16:43.440477", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:16:43.441883", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:22:18.515046", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "720aa7ce-31b7-47ab-aa96-c09338b05c3c", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:22:18.520455", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "720aa7ce-31b7-47ab-aa96-c09338b05c3c", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:22:20.214075", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "10b0219f-8624-4015-b07e-0c244a652f4f", "ip": "127.0.0.1", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:30:52.928745", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:30:52.931699", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:30:52.937330", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:30:52.938355", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:30:52.938900", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:30:52.939410", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:30:52.940088", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:30:52.940601", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:30:52.941815", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:30:52.941862", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:30:52.942189", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:30:52.942224", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:30:52.943244", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:30:52.943285", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:30:52.943438", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:30:52.943467", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:30:52.945335", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:30:52.945383", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:30:52.946449", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:30:57.857288", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "d86f6d48-4cc1-4248-bf8b-00ebd2ed3239", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:30:57.861374", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "d86f6d48-4cc1-4248-bf8b-00ebd2ed3239", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:30:59.838359", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2a0e142d-3911-4803-911d-55407586f7e2", "ip": "127.0.0.1", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:30:59.842954", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2a0e142d-3911-4803-911d-55407586f7e2", "path": "/api/v1/rhythm/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:31:08.231424", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "7ce9e172-8ad1-4b16-bb95-20638e80e09d", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:31:08.236086", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "7ce9e172-8ad1-4b16-bb95-20638e80e09d", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:33:12.273337", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:34:38.051659", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:34:38.056038", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:34:38.064295", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:34:38.066204", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:34:38.067157", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:34:38.067811", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:34:38.069439", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:34:38.070102", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:34:38.070874", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:34:38.070943", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:34:38.071290", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:34:38.071338", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:34:38.072806", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:34:38.072924", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:34:38.073215", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:34:38.073299", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:34:38.075607", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:34:38.075684", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:34:38.076982", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:34:45.034896", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5d13395d-d24b-462a-9d72-d993861d80df", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:34:45.037240", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5d13395d-d24b-462a-9d72-d993861d80df", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:34:48.318214", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b22ff669-1c92-4dbb-82c4-19db4dd9421f", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:34:48.321307", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b22ff669-1c92-4dbb-82c4-19db4dd9421f", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:34:49.911296", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5caf186a-9270-4e82-b815-939383eeef9d", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:34:49.916256", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5caf186a-9270-4e82-b815-939383eeef9d", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T06:44:18.510703", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "00c06597-3d23-413d-a3b7-7efb0a20eacf", "ip": "127.0.0.1", "path": "/docs", "method": "GET"}
{"timestamp": "2025-04-22T06:44:18.511108", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "00c06597-3d23-413d-a3b7-7efb0a20eacf", "path": "/docs", "method": "GET"}
{"timestamp": "2025-04-22T06:44:18.655462", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "8eeebfe4-bfec-4cde-bbd8-1ac6eddf25c6", "ip": "127.0.0.1", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-04-22T06:44:18.731950", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "8eeebfe4-bfec-4cde-bbd8-1ac6eddf25c6", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-04-22T06:45:08.176957", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2ab51ca0-25b6-426a-b894-d3fef3f39d3d", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:45:08.179368", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2ab51ca0-25b6-426a-b894-d3fef3f39d3d", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:45:09.852110", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "6bbdc9a9-1dae-46d2-8903-326a333ae4bf", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T06:45:29.193139", "level": "ERROR", "message": "Error in generate_ai_melody_question : Expecting value: line 1 column 1 (char 0)\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 39, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 107, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 187, in _parse_ai_response\n    melody_data = json.loads(response[\"choices\"][0][\"message\"][\"content\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T06:45:29.196078", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "6bbdc9a9-1dae-46d2-8903-326a333ae4bf", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T06:45:29.294723", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:45:30.353691", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:45:30.356658", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:45:30.362633", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:45:30.363616", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:45:30.364196", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:45:30.364724", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:45:30.365429", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:45:30.365955", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:45:30.367180", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:45:30.367227", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:45:30.367543", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:45:30.367577", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:45:30.368465", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:45:30.368510", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:45:30.368657", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:45:30.368685", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:45:30.370408", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:45:30.370456", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:45:30.371519", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:45:32.279561", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T06:45:34.892513", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T06:45:34.898050", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T06:45:34.912015", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T06:45:34.914729", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T06:45:34.915862", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T06:45:34.916821", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T06:45:34.918286", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T06:45:34.919242", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T06:45:34.920728", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T06:45:34.920826", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T06:45:34.921298", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T06:45:34.921380", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T06:45:34.923127", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T06:45:34.923218", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T06:45:34.923773", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T06:45:34.923854", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T06:45:34.929643", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T06:45:34.929781", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T06:45:34.933634", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T06:45:38.757409", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "d20574d7-6cf5-411d-8c63-b5fff457d781", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:45:38.772953", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "d20574d7-6cf5-411d-8c63-b5fff457d781", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T06:45:40.616173", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "324ac737-9958-48a5-87dc-518b3bcf2e94", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T07:08:08.467065", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T07:08:08.470329", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T07:08:08.476590", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T07:08:08.477626", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T07:08:08.478224", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T07:08:08.478766", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T07:08:08.479513", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T07:08:08.480090", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T07:08:08.481391", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T07:08:08.481440", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T07:08:08.481770", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T07:08:08.481809", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T07:08:08.482713", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T07:08:08.482756", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T07:08:08.482913", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T07:08:08.482948", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T07:08:08.484727", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T07:08:08.484777", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T07:08:08.485868", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T07:08:09.589806", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T07:08:12.155682", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T07:08:12.161727", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T07:08:12.175489", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T07:08:12.178254", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T07:08:12.179397", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T07:08:12.180416", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T07:08:12.181918", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T07:08:12.182984", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T07:08:12.184536", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T07:08:12.184639", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T07:08:12.185123", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T07:08:12.185193", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T07:08:12.186971", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T07:08:12.187051", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T07:08:12.187618", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T07:08:12.187684", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T07:08:12.193311", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T07:08:12.193450", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T07:08:12.197255", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T07:08:15.643370", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "1b78acce-569a-4090-a709-44de1d906900", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T07:08:15.657705", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "1b78acce-569a-4090-a709-44de1d906900", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T07:08:17.992347", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "28f0ff51-d439-4ffc-941f-a9eb0c3e96ed", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T07:08:23.965577", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "28f0ff51-d439-4ffc-941f-a9eb0c3e96ed", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T07:08:42.619181", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "6ae25e03-17e5-496c-9ed0-37951d2bd347", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T07:39:08.379215", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T07:39:08.384496", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T07:39:08.398640", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T07:39:08.401452", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T07:39:08.402800", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T07:39:08.403963", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T07:39:08.405622", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T07:39:08.406734", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T07:39:08.408367", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T07:39:08.408492", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T07:39:08.409032", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T07:39:08.409112", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T07:39:08.411110", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T07:39:08.411198", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T07:39:08.411787", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T07:39:08.411853", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T07:39:08.418036", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T07:39:08.418157", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T07:39:08.422261", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T07:39:13.207785", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b8599302-938c-43fa-8790-51fcb7820a56", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T07:39:13.224676", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b8599302-938c-43fa-8790-51fcb7820a56", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T07:39:17.774620", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "1e204bca-b949-4d74-98f8-aec3dd03e116", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T07:40:55.698972", "level": "ERROR", "message": "Error in generate_ai_melody_question : Expecting value: line 1 column 1 (char 0)\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 42, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 217, in _parse_ai_response\n    melody_data = json.loads(response[\"choices\"][0][\"message\"][\"content\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T07:40:55.704553", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "1e204bca-b949-4d74-98f8-aec3dd03e116", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T07:41:01.324094", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T07:49:37.974207", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T07:49:37.974342", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T07:49:37.974460", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T07:49:37.974534", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T07:49:37.974642", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T07:49:37.974707", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T07:49:37.974853", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T07:49:37.974934", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T07:49:37.975139", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T07:49:37.975249", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T07:49:37.976520", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T07:49:37.976589", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T07:49:37.988928", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T07:49:37.989029", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T07:49:37.989109", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T07:49:37.989178", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T07:49:37.989264", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T07:49:37.989333", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T07:49:37.989415", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T07:49:37.989483", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T07:49:37.995018", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T07:49:38.142263", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T07:49:38.147816", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T07:49:38.161719", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T07:49:38.164609", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T07:49:38.165803", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T07:49:38.166782", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T07:49:38.168319", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T07:49:38.169351", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T07:49:38.170893", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T07:49:38.171021", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T07:49:38.171546", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T07:49:38.171626", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T07:49:38.173489", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T07:49:38.173581", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T07:49:38.174203", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T07:49:38.174305", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T07:49:38.180671", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T07:49:38.180838", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T07:49:38.185134", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T07:49:44.247050", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0ff41bab-5303-4962-8a47-2a65674a4949", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T07:49:44.261905", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "0ff41bab-5303-4962-8a47-2a65674a4949", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T07:49:47.312170", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "74f3595c-3be2-4d17-adaa-20c1047c5178", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T07:49:47.316540", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 38}
{"timestamp": "2025-04-22T07:49:47.316673", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 98}
{"timestamp": "2025-04-22T07:49:47.316759", "level": "DEBUG", "message": "Building melody prompt", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 119}
{"timestamp": "2025-04-22T07:49:47.316991", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ],\n            \"time_signature\": \"TimeSignature.TWO_FOUR\",\n            \"tempo\": Tempo.EIGHTY\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 176}
{"timestamp": "2025-04-22T07:49:47.317092", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ],\n            \"time_signature\": \"TimeSignature.TWO_FOUR\",\n            \"tempo\": Tempo.EIGHTY\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 102}
{"timestamp": "2025-04-22T07:49:50.736852", "level": "INFO", "message": "Calling DeepSeek API", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 181}
{"timestamp": "2025-04-22T07:49:50.737916", "level": "DEBUG", "message": "API request data: {\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"user\", \"content\": \"\\n        4\\n        1. 2/4\\n        2. 80bpm\\n        3. low,:['', '']\\n        4. C\\n        5. \\n        \\n        \\n        1. \\n        2. 2/4\\n        3. \\n        4. \\n        5. \\n        \\n        JSON\\n        {\\n            \\\"measures\\\": [  //measures 4\\n                [\\n                    {\\n                        \\\"notes\\\": [ //notes \\n                            {\\n                                \\\"duration\\\": 0.5,  // 0.510.250.1250.751.5\\n                                \\\"is_rest\\\": false,  // \\n                                \\\"is_dotted\\\": false,  // \\n                                \\\"tied_to_next\\\": false,  // \\n                                \\\"pitch\\\": \\\"C2\\\",  // \\n                            }\\n                        ]\\n                    }\\n                ]\\n            ],\\n            \\\"time_signature\\\": \\\"TimeSignature.TWO_FOUR\\\",\\n            \\\"tempo\\\": Tempo.EIGHTY\\n        }\\n\\n        \\n        1. \\n        2. \\n        3. \\n        4. JSON\\n        5. false\\\"false\\\"\\n        6. \\n        \\n        \"}], \"temperature\": 0.5, \"max_tokens\": 5000, \"stream\": false, \"top_p\": 0.9}", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 196}
{"timestamp": "2025-04-22T07:50:27.901924", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 208}
{"timestamp": "2025-04-22T07:50:32.572531", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 106}
{"timestamp": "2025-04-22T07:50:34.356917", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 215}
{"timestamp": "2025-04-22T08:04:57.634353", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:04:57.634477", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:04:57.634589", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:04:57.634661", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:04:57.634769", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:04:57.634838", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:04:57.635064", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:04:57.635148", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:04:57.635344", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:04:57.635411", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:04:57.636738", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:04:57.636808", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:04:57.649565", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:04:57.649657", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:04:57.649748", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:04:57.649818", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:04:57.649898", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:04:57.649964", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:04:57.650040", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:04:57.650105", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:04:57.656223", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:04:57.813068", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:04:57.819113", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:04:57.834049", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:04:57.837415", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:04:57.838752", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:04:57.839825", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:04:57.841521", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:04:57.842714", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:04:57.844379", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:04:57.844478", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:04:57.845004", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:04:57.845080", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:04:57.847085", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:04:57.847170", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:04:57.847753", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:04:57.847819", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:04:57.854025", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:04:57.854153", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:04:57.858267", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:05:02.923451", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "cf7a4a3d-054d-4ab6-8a41-becc76097cbf", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:05:02.937591", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "cf7a4a3d-054d-4ab6-8a41-becc76097cbf", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:05:05.059573", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "195ab71f-306f-46ce-9c1b-000153da2584", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:05:05.063560", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 38}
{"timestamp": "2025-04-22T08:05:05.063661", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 98}
{"timestamp": "2025-04-22T08:05:05.063728", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 106}
{"timestamp": "2025-04-22T08:05:05.063806", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 214}
{"timestamp": "2025-04-22T08:05:22.050540", "level": "ERROR", "message": "Error parsing AI response: Expecting value: line 2 column 13 (char 13)", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 381, "exception": {"type": "JSONDecodeError", "message": "Expecting value: line 2 column 13 (char 13)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 340, in _parse_ai_response\n    melody_data = json.loads(data)\n                  ^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 2 column 13 (char 13)"}}
{"timestamp": "2025-04-22T08:05:24.284957", "level": "ERROR", "message": "Error generating AI melody: Expecting value: line 2 column 13 (char 13)", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 115, "exception": {"type": "JSONDecodeError", "message": "Expecting value: line 2 column 13 (char 13)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response({}, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 340, in _parse_ai_response\n    melody_data = json.loads(data)\n                  ^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 2 column 13 (char 13)"}}
{"timestamp": "2025-04-22T08:05:24.290874", "level": "ERROR", "message": "Error generating AI melody question: Expecting value: line 2 column 13 (char 13)", "module": "ai_melody_service", "function": "generate_melody_question", "line": 92, "exception": {"type": "JSONDecodeError", "message": "Expecting value: line 2 column 13 (char 13)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 41, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response({}, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 340, in _parse_ai_response\n    melody_data = json.loads(data)\n                  ^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 2 column 13 (char 13)"}}
{"timestamp": "2025-04-22T08:05:24.296240", "level": "ERROR", "message": "Error in generate_ai_melody_question : Expecting value: line 2 column 13 (char 13)\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 41, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response({}, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 340, in _parse_ai_response\n    melody_data = json.loads(data)\n                  ^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 2 column 13 (char 13)\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T08:05:24.298765", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "195ab71f-306f-46ce-9c1b-000153da2584", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:05:24.398462", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:05:40.723148", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:05:40.723301", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:05:40.723453", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:05:40.723531", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:05:40.723647", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:05:40.723715", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:05:40.723871", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:05:40.723960", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:05:40.724168", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:05:40.724236", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:05:40.725644", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:05:40.725724", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:05:40.738410", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:05:40.738523", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:05:40.738624", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:05:40.738693", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:05:40.738775", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:05:40.738843", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:05:40.738925", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:05:40.738994", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:05:40.745609", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:05:40.895634", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:05:40.901406", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:05:40.916079", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:05:40.919066", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:05:40.920181", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:05:40.921194", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:05:40.923113", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:05:40.924677", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:05:40.926628", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:05:40.926730", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:05:40.927499", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:05:40.927581", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:05:40.929561", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:05:40.929641", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:05:40.930226", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:05:40.930290", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:05:40.936635", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:05:40.936856", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:05:40.941602", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:05:43.126349", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4d35e8b9-2e3c-4d94-9b0f-cf8fb0110b67", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:05:43.143833", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "4d35e8b9-2e3c-4d94-9b0f-cf8fb0110b67", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:05:44.930198", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a2e41f24-9414-48a6-bbd5-b460ccf25237", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:05:44.934321", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 38}
{"timestamp": "2025-04-22T08:05:44.934431", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 98}
{"timestamp": "2025-04-22T08:05:44.934503", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 106}
{"timestamp": "2025-04-22T08:05:44.934585", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 214}
{"timestamp": "2025-04-22T08:05:49.082476", "level": "DEBUG", "message": "Parsed melody data: {\"measures\": [[{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"A4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}]]}", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 339}
{"timestamp": "2025-04-22T08:06:03.975246", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:06:03.975375", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:06:03.975496", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:06:03.975596", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:06:03.975719", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:06:03.975786", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:06:03.975951", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:06:03.976028", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:06:03.976220", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:06:03.976286", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:06:03.977571", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:06:03.977641", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:06:03.990119", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:06:03.990257", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:06:03.990341", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:06:03.990408", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:06:03.990483", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:06:03.990556", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:06:03.990631", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:06:03.990695", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:06:03.995035", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:06:04.143058", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:06:04.148268", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:06:04.162907", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:06:04.165866", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:06:04.167028", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:06:04.167986", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:06:04.169447", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:06:04.170517", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:06:04.172181", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:06:04.172288", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:06:04.172822", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:06:04.172913", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:06:04.174811", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:06:04.174905", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:06:04.175454", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:06:04.175526", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:06:04.181728", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:06:04.181853", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:06:04.186079", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:06:07.005316", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "912af3ec-99d5-4ba6-be51-f76b2b084705", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:06:07.019555", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "912af3ec-99d5-4ba6-be51-f76b2b084705", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:06:08.946252", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "42aa73f5-3ee8-4528-a8c5-300c82996633", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:06:08.950368", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 38}
{"timestamp": "2025-04-22T08:06:08.950467", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 98}
{"timestamp": "2025-04-22T08:06:08.950533", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 106}
{"timestamp": "2025-04-22T08:06:08.950611", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 214}
{"timestamp": "2025-04-22T08:06:12.113670", "level": "DEBUG", "message": "Parsed melody data: {\"measures\": [[{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"A4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}]]}", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 339}
{"timestamp": "2025-04-22T08:06:16.042418", "level": "ERROR", "message": "Error parsing AI response: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 379, "exception": {"type": "ValidationError", "message": "1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 357, in _parse_ai_response\n    melody_note = MelodyNotePitch(\n                  ^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/pydantic/main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type"}}
{"timestamp": "2025-04-22T08:06:16.044867", "level": "ERROR", "message": "Error generating AI melody: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 115, "exception": {"type": "ValidationError", "message": "1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response({}, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 357, in _parse_ai_response\n    melody_note = MelodyNotePitch(\n                  ^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/pydantic/main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type"}}
{"timestamp": "2025-04-22T08:06:16.048069", "level": "ERROR", "message": "Error generating AI melody question: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type", "module": "ai_melody_service", "function": "generate_melody_question", "line": 92, "exception": {"type": "ValidationError", "message": "1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 41, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response({}, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 357, in _parse_ai_response\n    melody_note = MelodyNotePitch(\n                  ^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/pydantic/main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type"}}
{"timestamp": "2025-04-22T08:06:16.050545", "level": "ERROR", "message": "Error in generate_ai_melody_question : 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 41, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response({}, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 357, in _parse_ai_response\n    melody_note = MelodyNotePitch(\n                  ^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/pydantic/main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T08:06:16.052464", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "42aa73f5-3ee8-4528-a8c5-300c82996633", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:06:27.690758", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "05fd8671-89c0-4c21-8c05-5ec7199ca5c4", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:06:27.694126", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 38}
{"timestamp": "2025-04-22T08:06:27.694221", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 98}
{"timestamp": "2025-04-22T08:06:27.694286", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 106}
{"timestamp": "2025-04-22T08:06:27.694356", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 214}
{"timestamp": "2025-04-22T08:06:37.252763", "level": "DEBUG", "message": "Parsed melody data: {\"measures\": [[{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"A4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}]]}", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 339}
{"timestamp": "2025-04-22T08:07:36.759497", "level": "ERROR", "message": "Error parsing AI response: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 379, "exception": {"type": "ValidationError", "message": "1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 357, in _parse_ai_response\n    melody_note = MelodyNotePitch(\n                  ^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/pydantic/main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type"}}
{"timestamp": "2025-04-22T08:08:21.845702", "level": "ERROR", "message": "Error generating AI melody: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 115, "exception": {"type": "ValidationError", "message": "1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response({}, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 357, in _parse_ai_response\n    melody_note = MelodyNotePitch(\n                  ^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/pydantic/main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type"}}
{"timestamp": "2025-04-22T08:08:21.854603", "level": "ERROR", "message": "Error generating AI melody question: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type", "module": "ai_melody_service", "function": "generate_melody_question", "line": 92, "exception": {"type": "ValidationError", "message": "1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 41, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response({}, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 357, in _parse_ai_response\n    melody_note = MelodyNotePitch(\n                  ^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/pydantic/main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type"}}
{"timestamp": "2025-04-22T08:08:21.860927", "level": "ERROR", "message": "Error in generate_ai_melody_question : 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 41, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response({}, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 357, in _parse_ai_response\n    melody_note = MelodyNotePitch(\n                  ^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/pydantic/main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for MelodyNotePitch\npitch\n  Input should be a valid dictionary or object to extract fields from [type=model_attributes_type, input_value=[<app.models.pitch.Pitch ...ject at 0x7734d2fd0250>], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.10/v/model_attributes_type\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T08:08:21.892859", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "05fd8671-89c0-4c21-8c05-5ec7199ca5c4", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:08:21.978893", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:09:05.308693", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:09:05.308877", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:09:05.309005", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:09:05.309088", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:09:05.309202", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:09:05.309294", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:09:05.309456", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:09:05.309535", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:09:05.309740", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:09:05.309810", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:09:05.311228", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:09:05.311314", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:09:05.325037", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:09:05.325146", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:09:05.325231", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:09:05.325303", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:09:05.325381", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:09:05.325448", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:09:05.325546", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:09:05.325615", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:09:05.332001", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:09:05.479481", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:09:05.485848", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:09:05.500407", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:09:05.503447", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:09:05.504692", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:09:05.505662", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:09:05.507265", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:09:05.508397", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:09:05.510396", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:09:05.510545", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:09:05.511111", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:09:05.511208", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:09:05.513557", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:09:05.513720", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:09:05.514444", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:09:05.514542", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:09:05.521295", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:09:05.521483", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:09:05.525796", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:09:09.410563", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "d410aec1-07f2-46b4-a808-bc51eb86fa54", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:09:09.426212", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "d410aec1-07f2-46b4-a808-bc51eb86fa54", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:09:10.735682", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "10fca857-d1f2-470c-a3b1-2e5c6ef04812", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:09:10.739770", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 38}
{"timestamp": "2025-04-22T08:09:10.739900", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 98}
{"timestamp": "2025-04-22T08:09:10.739982", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 106}
{"timestamp": "2025-04-22T08:09:10.740069", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 214}
{"timestamp": "2025-04-22T08:09:10.740234", "level": "DEBUG", "message": "Parsed melody data: {\"measures\": [[{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"A4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}]]}", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 339}
{"timestamp": "2025-04-22T08:09:24.293730", "level": "INFO", "message": "Successfully created MelodyScorePitch object", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 376}
{"timestamp": "2025-04-22T08:09:24.294201", "level": "INFO", "message": "Successfully parsed AI response into melody", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 111}
{"timestamp": "2025-04-22T08:09:24.294530", "level": "INFO", "message": "Successfully generated correct melody", "module": "ai_melody_service", "function": "generate_melody_question", "line": 42}
{"timestamp": "2025-04-22T08:09:24.310574", "level": "INFO", "message": "Generated 4 wrong options using systematic method", "module": "ai_melody_service", "function": "generate_melody_question", "line": 46}
{"timestamp": "2025-04-22T08:09:24.312002", "level": "ERROR", "message": "Error generating AI melody question: 'AIMelodyService' object has no attribute '_is_unique_melody'", "module": "ai_melody_service", "function": "generate_melody_question", "line": 92, "exception": {"type": "AttributeError", "message": "'AIMelodyService' object has no attribute '_is_unique_melody'", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 51, in generate_melody_question\n    if self._is_unique_melody(wrong_melody, unique_wrong_options) and self._is_unique_melody(wrong_melody, [correct_melody]):\n       ^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'AIMelodyService' object has no attribute '_is_unique_melody'"}}
{"timestamp": "2025-04-22T08:09:24.314398", "level": "ERROR", "message": "Error in generate_ai_melody_question : 'AIMelodyService' object has no attribute '_is_unique_melody'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 51, in generate_melody_question\n    if self._is_unique_melody(wrong_melody, unique_wrong_options) and self._is_unique_melody(wrong_melody, [correct_melody]):\n       ^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'AIMelodyService' object has no attribute '_is_unique_melody'\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T08:09:24.321208", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "10fca857-d1f2-470c-a3b1-2e5c6ef04812", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:10:53.422935", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:10:55.787063", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:10:55.787201", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:10:55.787327", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:10:55.787405", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:10:55.787518", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:10:55.787587", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:10:55.787747", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:10:55.787829", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:10:55.788039", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:10:55.788111", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:10:55.789462", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:10:55.789538", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:10:55.802574", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:10:55.802684", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:10:55.802785", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:10:55.802860", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:10:55.802946", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:10:55.803017", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:10:55.803099", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:10:55.803169", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:10:55.809620", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:10:55.956587", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:10:55.962313", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:10:55.977966", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:10:55.983155", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:10:55.985299", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:10:55.987028", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:10:55.989774", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:10:55.991645", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:10:55.995081", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:10:55.995332", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:10:55.996480", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:10:55.996640", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:10:55.999811", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:10:55.999921", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:10:56.000735", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:10:56.000822", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:10:56.011631", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:10:56.011860", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:10:56.020884", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:11:02.146605", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:11:04.501115", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:11:04.501278", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:11:04.501447", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:11:04.501544", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:11:04.501660", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:11:04.501726", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:11:04.501877", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:11:04.501966", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:11:04.502166", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:11:04.502230", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:11:04.503531", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:11:04.503600", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:11:04.515670", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:11:04.515758", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:11:04.515845", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:11:04.515914", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:11:04.515990", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:11:04.516053", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:11:04.516127", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:11:04.516188", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:11:04.522692", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:11:04.682153", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:11:04.687619", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:11:04.702174", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:11:04.705743", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:11:04.707244", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:11:04.708457", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:11:04.710153", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:11:04.711295", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:11:04.713021", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:11:04.713124", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:11:04.713659", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:11:04.713733", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:11:04.715696", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:11:04.715786", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:11:04.716412", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:11:04.716496", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:11:04.722818", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:11:04.722963", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:11:04.727445", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:11:22.442884", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a372e88d-53d7-4c53-97e0-c0d897a73d5b", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:11:22.457024", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a372e88d-53d7-4c53-97e0-c0d897a73d5b", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:11:24.230562", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "1da947b0-1a2f-4429-95d9-0b3c8c63ad57", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:11:24.234749", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 38}
{"timestamp": "2025-04-22T08:11:24.234869", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 98}
{"timestamp": "2025-04-22T08:11:24.234954", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 106}
{"timestamp": "2025-04-22T08:11:24.235039", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 214}
{"timestamp": "2025-04-22T08:11:24.235191", "level": "DEBUG", "message": "Parsed melody data: {\"measures\": [[{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"A4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}]]}", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 339}
{"timestamp": "2025-04-22T08:11:24.237306", "level": "INFO", "message": "Successfully created MelodyScorePitch object", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 376}
{"timestamp": "2025-04-22T08:11:24.237401", "level": "INFO", "message": "Successfully parsed AI response into melody", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 111}
{"timestamp": "2025-04-22T08:11:24.237485", "level": "INFO", "message": "Successfully generated correct melody", "module": "ai_melody_service", "function": "generate_melody_question", "line": 42}
{"timestamp": "2025-04-22T08:11:24.244234", "level": "INFO", "message": "Generated 4 wrong options using systematic method", "module": "ai_melody_service", "function": "generate_melody_question", "line": 46}
{"timestamp": "2025-04-22T08:11:24.244426", "level": "INFO", "message": "Found 3 unique wrong options", "module": "ai_melody_service", "function": "generate_melody_question", "line": 55}
{"timestamp": "2025-04-22T08:11:24.244512", "level": "INFO", "message": "Added basic variations, total unique wrong options: 3", "module": "ai_melody_service", "function": "generate_melody_question", "line": 70}
{"timestamp": "2025-04-22T08:11:24.244602", "level": "INFO", "message": "Randomized all options", "module": "ai_melody_service", "function": "generate_melody_question", "line": 75}
{"timestamp": "2025-04-22T08:11:24.244797", "level": "INFO", "message": "Correct answer is option D", "module": "ai_melody_service", "function": "generate_melody_question", "line": 79}
{"timestamp": "2025-04-22T08:11:24.244897", "level": "INFO", "message": "Successfully created melody question response", "module": "ai_melody_service", "function": "generate_melody_question", "line": 89}
{"timestamp": "2025-04-22T08:11:24.245567", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "1da947b0-1a2f-4429-95d9-0b3c8c63ad57", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:12:38.044241", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:12:40.241203", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:12:40.241358", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:40.241549", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:40.241630", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:40.241741", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:40.241810", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:40.241971", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:40.242077", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:40.242281", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:40.242346", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:40.243721", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:40.243795", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:40.256647", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:40.256743", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:40.256827", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:40.256902", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:40.256983", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:40.257048", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:40.257125", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:40.257191", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:12:40.263398", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:12:40.414786", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:12:40.420719", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:12:40.435529", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:12:40.438811", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:12:40.440432", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:12:40.441587", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:12:40.443232", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:12:40.444464", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:12:40.446190", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:12:40.446317", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:12:40.446879", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:12:40.446990", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:12:40.449014", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:12:40.449096", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:12:40.449677", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:12:40.449743", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:12:40.456066", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:12:40.456216", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:12:40.460876", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:12:51.914243", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:12:54.111681", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:12:54.111837", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:54.111950", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:54.112026", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:54.112132", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:54.112197", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:54.112353", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:54.112431", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:54.112634", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:54.112700", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:54.114049", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:54.114120", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:54.126712", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:54.126805", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:54.126889", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:54.126958", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:54.127036", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:54.127100", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:54.127178", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:54.127241", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:12:54.133460", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:12:54.316090", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:12:54.327789", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:12:54.346706", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:12:54.350584", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:12:54.352072", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:12:54.353146", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:12:54.355500", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:12:54.356862", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:12:54.359038", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:12:54.359156", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:12:54.360032", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:12:54.360201", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:12:54.362873", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:12:54.362967", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:12:54.363553", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:12:54.363625", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:12:54.370849", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:12:54.371021", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:12:54.376674", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:12:57.292381", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:12:59.543813", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:12:59.544046", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:59.544190", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:59.544267", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:59.544377", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:59.544444", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:59.544615", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:59.544693", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:59.544904", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:59.544971", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:59.546338", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:59.546417", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:59.559697", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:59.559817", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:59.559908", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:59.559980", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:59.560060", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:59.560126", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:12:59.560205", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:12:59.560273", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:12:59.566607", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:12:59.723469", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:12:59.730615", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:12:59.745711", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:12:59.749124", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:12:59.750555", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:12:59.751710", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:12:59.753333", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:12:59.754482", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:12:59.756319", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:12:59.756433", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:12:59.757096", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:12:59.757176", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:12:59.759206", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:12:59.759290", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:12:59.759871", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:12:59.759943", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:12:59.766033", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:12:59.766154", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:12:59.770365", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:13:20.358084", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:13:22.637317", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:13:22.637476", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:13:22.637601", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:13:22.637674", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:13:22.637785", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:13:22.637851", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:13:22.638024", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:13:22.638107", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:13:22.638313", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:13:22.638387", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:13:22.639743", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:13:22.639814", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:13:22.652452", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:13:22.652543", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:13:22.652625", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:13:22.652693", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:13:22.652770", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:13:22.652836", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:13:22.652916", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:13:22.652982", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:13:22.659358", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:13:22.818172", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:13:22.824725", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:13:22.839448", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:13:22.843328", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:13:22.844759", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:13:22.845821", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:13:22.847344", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:13:22.848312", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:13:22.849920", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:13:22.850020", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:13:22.850634", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:13:22.850713", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:13:22.852627", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:13:22.852713", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:13:22.853310", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:13:22.853376", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:13:22.859753", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:13:22.859895", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:13:22.864032", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:16:56.916714", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:17:00.980928", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:17:00.981084", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:17:00.981242", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:17:00.981322", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:17:00.981436", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:17:00.981504", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:17:00.981657", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:17:00.981735", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:17:00.981950", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:17:00.982030", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:17:00.983345", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:17:00.983413", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:17:00.995658", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:17:00.995755", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:17:00.995838", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:17:00.995913", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:17:00.995991", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:17:00.996058", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:17:00.996136", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:17:00.996202", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:17:01.000541", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:17:01.171480", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:17:01.177345", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:17:01.192945", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:17:01.196503", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:17:01.198127", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:17:01.199329", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:17:01.201030", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:17:01.202213", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:17:01.203876", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:17:01.203982", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:17:01.204674", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:17:01.204752", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:17:01.206680", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:17:01.206762", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:17:01.207352", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:17:01.207419", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:17:01.213912", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:17:01.214067", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:17:01.218654", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:18:20.686946", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "72fe44cd-18d7-4657-b5dd-4b825c55a9ce", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:18:20.701921", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "72fe44cd-18d7-4657-b5dd-4b825c55a9ce", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:18:22.664530", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "35919a83-8502-4892-b44b-44473051a362", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:18:22.668633", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 38}
{"timestamp": "2025-04-22T08:18:22.668731", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 98}
{"timestamp": "2025-04-22T08:18:22.668814", "level": "DEBUG", "message": "Building melody prompt", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 120}
{"timestamp": "2025-04-22T08:18:22.669028", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 175}
{"timestamp": "2025-04-22T08:18:22.669120", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 102}
{"timestamp": "2025-04-22T08:18:22.669199", "level": "INFO", "message": "Calling DeepSeek API", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 180}
{"timestamp": "2025-04-22T08:18:30.452737", "level": "DEBUG", "message": "API request data: {\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"user\", \"content\": \"\\n        4\\n        1. 2/4\\n        2. 80bpm\\n        3. low,:['', '']\\n        4. C\\n        5. \\n        \\n        \\n        1. \\n        2. 2/4\\n        3. \\n        4. \\n        5. \\n        \\n        JSON\\n        {\\n            \\\"measures\\\": [  //measures 4\\n                [\\n                    {\\n                        \\\"notes\\\": [ //notes \\n                            {\\n                                \\\"duration\\\": 0.5,  // 0.510.250.1250.751.5\\n                                \\\"is_rest\\\": false,  // \\n                                \\\"is_dotted\\\": false,  // \\n                                \\\"tied_to_next\\\": false,  // \\n                                \\\"pitch\\\": \\\"C2\\\",  // \\n                            }\\n                        ]\\n                    }\\n                ]\\n            ]\\n        }\\n\\n        \\n        1. \\n        2. \\n        3. \\n        4. JSON\\n        5. false\\\"false\\\"\\n        6. \\n        \\n        \"}], \"temperature\": 0.5, \"max_tokens\": 5000, \"stream\": false, \"top_p\": 0.9}", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 195}
{"timestamp": "2025-04-22T08:19:09.839381", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 207}
{"timestamp": "2025-04-22T08:19:09.842250", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 106}
{"timestamp": "2025-04-22T08:19:09.842740", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 214}
{"timestamp": "2025-04-22T08:19:09.852477", "level": "ERROR", "message": "Error parsing AI response: Expecting value: line 1 column 1 (char 0)", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 379, "exception": {"type": "JSONDecodeError", "message": "Expecting value: line 1 column 1 (char 0)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 216, in _parse_ai_response\n    melody_data = json.loads(response[\"choices\"][0][\"message\"][\"content\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)"}}
{"timestamp": "2025-04-22T08:19:09.856688", "level": "ERROR", "message": "Error generating AI melody: Expecting value: line 1 column 1 (char 0)", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 115, "exception": {"type": "JSONDecodeError", "message": "Expecting value: line 1 column 1 (char 0)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 109, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 216, in _parse_ai_response\n    melody_data = json.loads(response[\"choices\"][0][\"message\"][\"content\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)"}}
{"timestamp": "2025-04-22T08:19:09.859191", "level": "ERROR", "message": "Error generating AI melody question: Expecting value: line 1 column 1 (char 0)", "module": "ai_melody_service", "function": "generate_melody_question", "line": 92, "exception": {"type": "JSONDecodeError", "message": "Expecting value: line 1 column 1 (char 0)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 41, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 109, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 216, in _parse_ai_response\n    melody_data = json.loads(response[\"choices\"][0][\"message\"][\"content\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)"}}
{"timestamp": "2025-04-22T08:19:09.860889", "level": "ERROR", "message": "Error in generate_ai_melody_question : Expecting value: line 1 column 1 (char 0)\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 41, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 109, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 216, in _parse_ai_response\n    melody_data = json.loads(response[\"choices\"][0][\"message\"][\"content\"])\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T08:19:09.867744", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "35919a83-8502-4892-b44b-44473051a362", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:27:50.560912", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:27:52.740128", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:27:52.740278", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:52.740400", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:52.740499", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:52.740615", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:52.740682", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:52.740836", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:52.740931", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:52.741140", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:52.741209", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:52.742548", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:52.742627", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:52.755129", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:52.755216", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:52.755323", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:52.755392", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:52.755471", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:52.755537", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:52.755611", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:52.755678", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:27:52.761517", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:27:52.901117", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:27:52.906976", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:27:52.921243", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:27:52.924266", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:27:52.925534", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:27:52.926621", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:27:52.928150", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:27:52.929276", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:27:52.930931", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:27:52.931056", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:27:52.931559", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:27:52.931636", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:27:52.933505", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:27:52.933611", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:27:52.934186", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:27:52.934268", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:27:52.940458", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:27:52.940601", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:27:52.944865", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:27:56.765777", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:27:59.089855", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:27:59.090015", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:59.090140", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:59.090211", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:59.090320", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:59.090385", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:59.090538", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:59.090616", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:59.090816", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:59.090881", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:59.092272", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:59.092351", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:59.105011", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:59.105094", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:59.105172", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:59.105238", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:59.105315", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:59.105379", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:27:59.105453", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:27:59.105518", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:27:59.111578", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:27:59.266616", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:27:59.276442", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:27:59.291032", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:27:59.294230", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:27:59.295703", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:27:59.296837", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:27:59.298339", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:27:59.299436", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:27:59.301062", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:27:59.301161", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:27:59.301687", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:27:59.301762", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:27:59.303703", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:27:59.303789", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:27:59.304388", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:27:59.304458", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:27:59.310582", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:27:59.310705", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:27:59.314847", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:28:02.117927", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "fbcd0353-a801-4ef0-af3e-aa3bc3770f44", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:28:02.131842", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "fbcd0353-a801-4ef0-af3e-aa3bc3770f44", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:28:06.097179", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "916b6005-e2f8-477a-90b5-36efd4aed2f8", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:28:06.101412", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 38}
{"timestamp": "2025-04-22T08:28:06.101515", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 98}
{"timestamp": "2025-04-22T08:28:06.101623", "level": "DEBUG", "message": "Building melody prompt", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 120}
{"timestamp": "2025-04-22T08:28:06.101848", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 175}
{"timestamp": "2025-04-22T08:28:06.101972", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 102}
{"timestamp": "2025-04-22T08:28:06.102059", "level": "INFO", "message": "Calling DeepSeek API", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 180}
{"timestamp": "2025-04-22T08:28:06.102187", "level": "DEBUG", "message": "API request data: {\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"user\", \"content\": \"\\n        4\\n        1. 2/4\\n        2. 80bpm\\n        3. low,:['', '']\\n        4. C\\n        5. \\n        \\n        \\n        1. \\n        2. 2/4\\n        3. \\n        4. \\n        5. \\n        \\n        JSON\\n        {\\n            \\\"measures\\\": [  //measures 4\\n                [\\n                    {\\n                        \\\"notes\\\": [ //notes \\n                            {\\n                                \\\"duration\\\": 0.5,  // 0.510.250.1250.751.5\\n                                \\\"is_rest\\\": false,  // \\n                                \\\"is_dotted\\\": false,  // \\n                                \\\"tied_to_next\\\": false,  // \\n                                \\\"pitch\\\": \\\"C2\\\",  // \\n                            }\\n                        ]\\n                    }\\n                ]\\n            ]\\n        }\\n\\n        \\n        1. \\n        2. \\n        3. \\n        4. JSON\\n        5. false\\\"false\\\"\\n        6. \\n        \\n        \"}], \"temperature\": 0.5, \"max_tokens\": 5000, \"stream\": false, \"top_p\": 0.9}", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 195}
{"timestamp": "2025-04-22T08:28:40.419907", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 207}
{"timestamp": "2025-04-22T08:28:40.421660", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 106}
{"timestamp": "2025-04-22T08:28:40.422004", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 214}
{"timestamp": "2025-04-22T08:28:40.422438", "level": "DEBUG", "message": "Parsed melody data: {\"measures\": [[{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"F4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}, {\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}]]}", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 341}
{"timestamp": "2025-04-22T08:28:40.428325", "level": "INFO", "message": "Successfully created MelodyScorePitch object", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 378}
{"timestamp": "2025-04-22T08:28:40.428637", "level": "INFO", "message": "Successfully parsed AI response into melody", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 111}
{"timestamp": "2025-04-22T08:28:40.428901", "level": "INFO", "message": "Successfully generated correct melody", "module": "ai_melody_service", "function": "generate_melody_question", "line": 42}
{"timestamp": "2025-04-22T08:28:40.434438", "level": "INFO", "message": "Generated 4 wrong options using systematic method", "module": "ai_melody_service", "function": "generate_melody_question", "line": 46}
{"timestamp": "2025-04-22T08:28:40.434641", "level": "INFO", "message": "Found 3 unique wrong options", "module": "ai_melody_service", "function": "generate_melody_question", "line": 55}
{"timestamp": "2025-04-22T08:28:40.434765", "level": "INFO", "message": "Added basic variations, total unique wrong options: 3", "module": "ai_melody_service", "function": "generate_melody_question", "line": 70}
{"timestamp": "2025-04-22T08:28:40.434914", "level": "INFO", "message": "Randomized all options", "module": "ai_melody_service", "function": "generate_melody_question", "line": 75}
{"timestamp": "2025-04-22T08:28:40.435147", "level": "INFO", "message": "Correct answer is option C", "module": "ai_melody_service", "function": "generate_melody_question", "line": 79}
{"timestamp": "2025-04-22T08:28:40.435284", "level": "INFO", "message": "Successfully created melody question response", "module": "ai_melody_service", "function": "generate_melody_question", "line": 89}
{"timestamp": "2025-04-22T08:28:40.436307", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "916b6005-e2f8-477a-90b5-36efd4aed2f8", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:51:25.298151", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:51:27.478832", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:51:27.478990", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:51:27.479105", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:51:27.479176", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:51:27.479283", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:51:27.479350", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:51:27.479507", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:51:27.479608", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:51:27.479805", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:51:27.479876", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:51:27.481260", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:51:27.481331", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:51:27.493786", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:51:27.493896", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:51:27.493974", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:51:27.494039", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:51:27.494113", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:51:27.494175", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:51:27.494248", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:51:27.494310", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:51:27.499894", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-22T08:51:27.637721", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:51:27.644480", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:51:27.659235", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:51:27.662230", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:51:27.663414", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:51:27.664429", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:51:27.665997", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:51:27.667043", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:51:27.668609", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:51:27.668714", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:51:27.669266", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:51:27.669348", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:51:27.671223", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:51:27.671307", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:51:27.671868", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:51:27.671939", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:51:27.677878", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:51:27.678018", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:51:27.682066", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:51:32.663893", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e9332100-782f-499a-97e9-46a5c0bd614e", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:51:32.681423", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e9332100-782f-499a-97e9-46a5c0bd614e", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:51:34.709535", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "bbce2f99-cde5-41b0-846f-dc89dbe82fb7", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T08:51:34.715594", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-22T08:51:34.715764", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-22T08:51:34.715919", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-22T08:51:34.716129", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-22T08:51:34.723594", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "bbce2f99-cde5-41b0-846f-dc89dbe82fb7", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-22T08:51:39.684326", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b0aa9c33-5c73-47b3-b28c-db1f0e277d10", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:51:39.688218", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 39}
{"timestamp": "2025-04-22T08:51:39.688410", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 99}
{"timestamp": "2025-04-22T08:51:39.688560", "level": "DEBUG", "message": "Building melody prompt", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 121}
{"timestamp": "2025-04-22T08:51:39.688771", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 176}
{"timestamp": "2025-04-22T08:51:39.688931", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 103}
{"timestamp": "2025-04-22T08:51:39.689102", "level": "INFO", "message": "Calling DeepSeek API", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 181}
{"timestamp": "2025-04-22T08:51:39.691433", "level": "ERROR", "message": "Error generating AI melody: type object 'datetime.time' has no attribute 'time'", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 116, "exception": {"type": "AttributeError", "message": "type object 'datetime.time' has no attribute 'time'", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 106, in _generate_ai_melody\n    response = await self._call_deepseek_api(prompt)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 182, in _call_deepseek_api\n    start_time = time.time()\n                 ^^^^^^^^^\nAttributeError: type object 'datetime.time' has no attribute 'time'"}}
{"timestamp": "2025-04-22T08:51:39.692486", "level": "ERROR", "message": "Error generating AI melody question: type object 'datetime.time' has no attribute 'time'", "module": "ai_melody_service", "function": "generate_melody_question", "line": 93, "exception": {"type": "AttributeError", "message": "type object 'datetime.time' has no attribute 'time'", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 42, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 106, in _generate_ai_melody\n    response = await self._call_deepseek_api(prompt)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 182, in _call_deepseek_api\n    start_time = time.time()\n                 ^^^^^^^^^\nAttributeError: type object 'datetime.time' has no attribute 'time'"}}
{"timestamp": "2025-04-22T08:51:39.693594", "level": "ERROR", "message": "Error in generate_ai_melody_question : type object 'datetime.time' has no attribute 'time'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 42, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 106, in _generate_ai_melody\n    response = await self._call_deepseek_api(prompt)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 182, in _call_deepseek_api\n    start_time = time.time()\n                 ^^^^^^^^^\nAttributeError: type object 'datetime.time' has no attribute 'time'\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T08:51:39.694812", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b0aa9c33-5c73-47b3-b28c-db1f0e277d10", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:52:07.566678", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:52:09.913985", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:52:09.914130", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:09.914261", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:09.914345", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:09.914458", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:09.914526", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:09.914732", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:09.914818", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:09.915020", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:09.915087", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:09.916439", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:09.916513", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:09.929345", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:09.929431", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:09.929510", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:09.929578", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:09.929663", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:09.929728", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:09.929805", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:09.929870", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:52:09.935822", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 33}
{"timestamp": "2025-04-22T08:52:10.092981", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:52:10.104036", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:52:10.124640", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:52:10.129629", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:52:10.131857", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:52:10.133226", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:52:10.135397", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:52:10.137227", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:52:10.140015", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:52:10.140200", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:52:10.141192", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:52:10.141344", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:52:10.144610", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:52:10.144767", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:52:10.145647", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:52:10.145777", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:52:10.153848", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:52:10.153999", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:52:10.161349", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:52:31.146576", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:52:33.310555", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:52:33.310701", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:33.310837", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:33.310929", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:33.311057", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:33.311135", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:33.311295", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:33.311377", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:33.311580", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:33.311648", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:33.313134", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:33.313212", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:33.325469", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:33.325630", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:33.325767", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:33.325882", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:33.326034", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:33.326114", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:52:33.326227", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:52:33.326297", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:52:33.332881", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-22T08:52:33.486648", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:52:33.492400", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:52:33.507474", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:52:33.511009", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:52:33.512629", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:52:33.514012", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:52:33.515741", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:52:33.516937", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:52:33.518619", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:52:33.518719", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:52:33.519358", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:52:33.519439", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:52:33.521408", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:52:33.521491", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:52:33.522138", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:52:33.522208", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:52:33.528370", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:52:33.528527", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:52:33.532979", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:52:33.536954", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "99357e97-4a8b-4fca-842c-786f3a4c87aa", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:52:33.550836", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "99357e97-4a8b-4fca-842c-786f3a4c87aa", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:52:34.543680", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "c1a6316d-e64a-4b1b-b685-505acfd412f4", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:52:34.548325", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 39}
{"timestamp": "2025-04-22T08:52:34.548458", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 99}
{"timestamp": "2025-04-22T08:52:34.548538", "level": "DEBUG", "message": "Building melody prompt", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 121}
{"timestamp": "2025-04-22T08:52:34.548753", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 176}
{"timestamp": "2025-04-22T08:52:34.548866", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 103}
{"timestamp": "2025-04-22T08:52:34.548952", "level": "INFO", "message": "Calling DeepSeek API", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 181}
{"timestamp": "2025-04-22T08:52:34.549071", "level": "DEBUG", "message": "API request data: {\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"user\", \"content\": \"\\n        4\\n        1. 2/4\\n        2. 80bpm\\n        3. low,:['', '']\\n        4. C\\n        5. \\n        \\n        \\n        1. \\n        2. 2/4\\n        3. \\n        4. \\n        5. \\n        \\n        JSON\\n        {\\n            \\\"measures\\\": [  //measures 4\\n                [\\n                    {\\n                        \\\"notes\\\": [ //notes \\n                            {\\n                                \\\"duration\\\": 0.5,  // 0.510.250.1250.751.5\\n                                \\\"is_rest\\\": false,  // \\n                                \\\"is_dotted\\\": false,  // \\n                                \\\"tied_to_next\\\": false,  // \\n                                \\\"pitch\\\": \\\"C2\\\",  // \\n                            }\\n                        ]\\n                    }\\n                ]\\n            ]\\n        }\\n\\n        \\n        1. \\n        2. \\n        3. \\n        4. JSON\\n        5. false\\\"false\\\"\\n        6. \\n        \\n        \"}], \"temperature\": 0.5, \"max_tokens\": 5000, \"stream\": false, \"top_p\": 0.9}", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 197}
{"timestamp": "2025-04-22T08:53:11.178833", "level": "INFO", "message": "Successfully received response from DeepSeek API. Time cost=36.62939691543579", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 209}
{"timestamp": "2025-04-22T08:53:11.180709", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 107}
{"timestamp": "2025-04-22T08:53:11.181033", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 216}
{"timestamp": "2025-04-22T08:53:11.181635", "level": "DEBUG", "message": "Parsed melody data: {\"measures\": [[{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"F4\"}, {\"duration\": 0.5, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"E4\"}, {\"duration\": 1, \"is_rest\": false, \"is_dotted\": false, \"tied_to_next\": false, \"pitch\": \"C4\"}]}]]}", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 343}
{"timestamp": "2025-04-22T08:53:11.189297", "level": "INFO", "message": "Successfully created MelodyScorePitch object", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 380}
{"timestamp": "2025-04-22T08:53:11.189576", "level": "INFO", "message": "Successfully parsed AI response into melody", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 112}
{"timestamp": "2025-04-22T08:53:11.189802", "level": "INFO", "message": "Successfully generated correct melody", "module": "ai_melody_service", "function": "generate_melody_question", "line": 43}
{"timestamp": "2025-04-22T08:53:11.194465", "level": "INFO", "message": "Generated 4 wrong options using systematic method", "module": "ai_melody_service", "function": "generate_melody_question", "line": 47}
{"timestamp": "2025-04-22T08:53:11.194625", "level": "INFO", "message": "Found 3 unique wrong options", "module": "ai_melody_service", "function": "generate_melody_question", "line": 56}
{"timestamp": "2025-04-22T08:53:11.194742", "level": "INFO", "message": "Added basic variations, total unique wrong options: 3", "module": "ai_melody_service", "function": "generate_melody_question", "line": 71}
{"timestamp": "2025-04-22T08:53:11.194862", "level": "INFO", "message": "Randomized all options", "module": "ai_melody_service", "function": "generate_melody_question", "line": 76}
{"timestamp": "2025-04-22T08:53:11.195029", "level": "INFO", "message": "Correct answer is option B", "module": "ai_melody_service", "function": "generate_melody_question", "line": 80}
{"timestamp": "2025-04-22T08:53:11.195143", "level": "INFO", "message": "Successfully created melody question response", "module": "ai_melody_service", "function": "generate_melody_question", "line": 90}
{"timestamp": "2025-04-22T08:53:11.195997", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "c1a6316d-e64a-4b1b-b685-505acfd412f4", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:56:45.640553", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:56:47.820899", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:56:47.821037", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:56:47.821149", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:56:47.821222", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:56:47.821346", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:56:47.821437", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:56:47.821610", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:56:47.821695", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:56:47.821895", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:56:47.821964", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:56:47.823288", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:56:47.823366", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:56:47.835317", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:56:47.835425", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:56:47.835515", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:56:47.835584", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:56:47.835662", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:56:47.835728", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:56:47.835805", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:56:47.835868", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:56:47.841439", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-22T08:56:47.982625", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:56:47.989066", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:56:48.005218", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:56:48.010523", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:56:48.012921", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:56:48.015898", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:56:48.021632", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:56:48.025462", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:56:48.032061", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:56:48.032422", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:56:48.034234", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:56:48.034447", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:56:48.038497", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:56:48.038639", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:56:48.039593", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:56:48.039688", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:56:48.046370", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:56:48.046493", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:56:48.050733", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:56:59.035399", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "9598a840-1ddf-4578-9fcd-0972c91be036", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:56:59.050154", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "9598a840-1ddf-4578-9fcd-0972c91be036", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:57:00.833485", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "6e919cd4-9074-4426-8479-2a7237cc523e", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:57:00.837826", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 39}
{"timestamp": "2025-04-22T08:57:00.837938", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 99}
{"timestamp": "2025-04-22T08:57:00.838021", "level": "DEBUG", "message": "Building melody prompt", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 121}
{"timestamp": "2025-04-22T08:57:00.838249", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 176}
{"timestamp": "2025-04-22T08:57:00.838346", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 103}
{"timestamp": "2025-04-22T08:57:00.838426", "level": "INFO", "message": "Calling DeepSeek API", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 181}
{"timestamp": "2025-04-22T08:57:00.838540", "level": "DEBUG", "message": "API request data: {\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"user\", \"content\": \"\\n        4\\n        1. 2/4\\n        2. 80bpm\\n        3. low,:['', '']\\n        4. C\\n        5. \\n        \\n        \\n        1. \\n        2. 2/4\\n        3. \\n        4. \\n        5. \\n        \\n        JSON\\n        {\\n            \\\"measures\\\": [  //measures 4\\n                [\\n                    {\\n                        \\\"notes\\\": [ //notes \\n                            {\\n                                \\\"duration\\\": 0.5,  // 0.510.250.1250.751.5\\n                                \\\"is_rest\\\": false,  // \\n                                \\\"is_dotted\\\": false,  // \\n                                \\\"tied_to_next\\\": false,  // \\n                                \\\"pitch\\\": \\\"C2\\\",  // \\n                            }\\n                        ]\\n                    }\\n                ]\\n            ]\\n        }\\n\\n        \\n        1. \\n        2. \\n        3. \\n        4. JSON\\n        5. false\\\"false\\\"\\n        6. \\n        \\n        \"}], \"temperature\": 0.5, \"max_tokens\": 500, \"stream\": false, \"top_p\": 0.9}", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 197}
{"timestamp": "2025-04-22T08:57:27.387728", "level": "INFO", "message": "Successfully received response from DeepSeek API. Time cost=26.548769235610962", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 209}
{"timestamp": "2025-04-22T08:57:27.389708", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 107}
{"timestamp": "2025-04-22T08:57:27.390176", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 216}
{"timestamp": "2025-04-22T08:57:27.396265", "level": "ERROR", "message": "Error parsing AI response: Unterminated string starting at: line 90 column 25 (char 2784)", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 383, "exception": {"type": "JSONDecodeError", "message": "Unterminated string starting at: line 90 column 25 (char 2784)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 220, in _parse_ai_response\n    melody_data = json.loads(cleaned_content)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 353, in raw_decode\n    obj, end = self.scan_once(s, idx)\n               ^^^^^^^^^^^^^^^^^^^^^^\njson.decoder.JSONDecodeError: Unterminated string starting at: line 90 column 25 (char 2784)"}}
{"timestamp": "2025-04-22T08:57:27.400569", "level": "ERROR", "message": "Error generating AI melody: Unterminated string starting at: line 90 column 25 (char 2784)", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 116, "exception": {"type": "JSONDecodeError", "message": "Unterminated string starting at: line 90 column 25 (char 2784)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 220, in _parse_ai_response\n    melody_data = json.loads(cleaned_content)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 353, in raw_decode\n    obj, end = self.scan_once(s, idx)\n               ^^^^^^^^^^^^^^^^^^^^^^\njson.decoder.JSONDecodeError: Unterminated string starting at: line 90 column 25 (char 2784)"}}
{"timestamp": "2025-04-22T08:57:27.403389", "level": "ERROR", "message": "Error generating AI melody question: Unterminated string starting at: line 90 column 25 (char 2784)", "module": "ai_melody_service", "function": "generate_melody_question", "line": 93, "exception": {"type": "JSONDecodeError", "message": "Unterminated string starting at: line 90 column 25 (char 2784)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 42, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 220, in _parse_ai_response\n    melody_data = json.loads(cleaned_content)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 353, in raw_decode\n    obj, end = self.scan_once(s, idx)\n               ^^^^^^^^^^^^^^^^^^^^^^\njson.decoder.JSONDecodeError: Unterminated string starting at: line 90 column 25 (char 2784)"}}
{"timestamp": "2025-04-22T08:57:27.405266", "level": "ERROR", "message": "Error in generate_ai_melody_question : Unterminated string starting at: line 90 column 25 (char 2784)\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 42, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 220, in _parse_ai_response\n    melody_data = json.loads(cleaned_content)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 353, in raw_decode\n    obj, end = self.scan_once(s, idx)\n               ^^^^^^^^^^^^^^^^^^^^^^\njson.decoder.JSONDecodeError: Unterminated string starting at: line 90 column 25 (char 2784)\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T08:57:27.406590", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "6e919cd4-9074-4426-8479-2a7237cc523e", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:58:19.538915", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:58:21.744453", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:58:21.744610", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:58:21.744754", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:58:21.744870", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:58:21.745012", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:58:21.745098", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:58:21.745258", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:58:21.745353", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:58:21.745544", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:58:21.745609", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:58:21.746923", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:58:21.747007", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:58:21.759181", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:58:21.759297", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:58:21.759379", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:58:21.759448", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:58:21.759534", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:58:21.759599", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:58:21.759677", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:58:21.759742", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:58:21.765940", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-22T08:58:21.914598", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:58:21.923103", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:58:21.937644", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:58:21.941022", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:58:21.942337", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:58:21.943460", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:58:21.945065", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:58:21.946219", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:58:21.947951", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:58:21.948077", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:58:21.948763", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:58:21.948855", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:58:21.951053", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:58:21.951181", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:58:21.951757", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:58:21.951848", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:58:21.958167", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:58:21.958338", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:58:21.962620", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T08:58:25.838410", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a4a9ce9e-b355-4f2e-a06e-91fc7de7b7e8", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:58:25.852080", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a4a9ce9e-b355-4f2e-a06e-91fc7de7b7e8", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T08:58:27.672198", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "377a1395-8bfc-46e6-93ee-399bd57dffa2", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:58:27.676262", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 39}
{"timestamp": "2025-04-22T08:58:27.676388", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 99}
{"timestamp": "2025-04-22T08:58:27.676467", "level": "DEBUG", "message": "Building melody prompt", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 121}
{"timestamp": "2025-04-22T08:58:27.676684", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 176}
{"timestamp": "2025-04-22T08:58:27.676779", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // \n                                \"is_dotted\": false,  // \n                                \"tied_to_next\": false,  // \n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 103}
{"timestamp": "2025-04-22T08:58:27.676860", "level": "INFO", "message": "Calling DeepSeek API", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 181}
{"timestamp": "2025-04-22T08:58:27.676983", "level": "DEBUG", "message": "API request data: {\"model\": \"deepseek-chat\", \"messages\": [{\"role\": \"user\", \"content\": \"\\n        4\\n        1. 2/4\\n        2. 80bpm\\n        3. low,:['', '']\\n        4. C\\n        5. \\n        \\n        \\n        1. \\n        2. 2/4\\n        3. \\n        4. \\n        5. \\n        \\n        JSON\\n        {\\n            \\\"measures\\\": [  //measures 4\\n                [\\n                    {\\n                        \\\"notes\\\": [ //notes \\n                            {\\n                                \\\"duration\\\": 0.5,  // 0.510.250.1250.751.5\\n                                \\\"is_rest\\\": false,  // \\n                                \\\"is_dotted\\\": false,  // \\n                                \\\"tied_to_next\\\": false,  // \\n                                \\\"pitch\\\": \\\"C2\\\",  // \\n                            }\\n                        ]\\n                    }\\n                ]\\n            ]\\n        }\\n\\n        \\n        1. \\n        2. \\n        3. \\n        4. JSON\\n        5. false\\\"false\\\"\\n        6. \\n        \\n        \"}], \"temperature\": 0.5, \"max_tokens\": 500, \"stream\": false, \"top_p\": 0.9}", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 197}
{"timestamp": "2025-04-22T08:58:54.221646", "level": "INFO", "message": "Successfully received response from DeepSeek API. Time cost=26.544163703918457", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 209}
{"timestamp": "2025-04-22T08:58:54.224360", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 107}
{"timestamp": "2025-04-22T08:58:54.224865", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 216}
{"timestamp": "2025-04-22T08:58:54.225405", "level": "INFO", "message": "content=```json\n{\n    \"measures\": [\n        [\n            {\n                \"notes\": [\n                    {\n                        \"duration\": 0.5,\n                        \"is_rest\": false,\n                        \"is_dotted\": false,\n                        \"tied_to_next\": false,\n                        \"pitch\": \"C4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"is_rest\": false,\n                        \"is_dotted\": false,\n                        \"tied_to_next\": false,\n                        \"pitch\": \"D4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"is_rest\": false,\n                        \"is_dotted\": false,\n                        \"tied_to_next\": false,\n                        \"pitch\": \"E4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"is_rest\": false,\n                        \"is_dotted\": false,\n                        \"tied_to_next\": false,\n                        \"pitch\": \"D4\"\n                    }\n                ]\n            }\n        ],\n        [\n            {\n                \"notes\": [\n                    {\n                        \"duration\": 1,\n                        \"is_rest\": false,\n                        \"is_dotted\": false,\n                        \"tied_to_next\": false,\n                        \"pitch\": \"C4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"is_rest\": false,\n                        \"is_dotted\": false,\n                        \"tied_to_next\": false,\n                        \"pitch\": \"E4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"is_rest\": false,\n                        \"is_dotted\": false,\n                        \"tied_to_next\": false,\n                        \"pitch\": \"G4\"\n                    }\n                ]\n            }\n        ],\n        [\n            {\n                \"notes\": [\n                    {\n                        \"duration\": 0.5,\n                        \"is_rest\": false,\n                        \"is_dotted\": false,\n                        \"tied_to_next\": false,\n                        \"pitch\": \"F4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"is_rest\": false,\n                        \"is_dotted\": false,\n                        \"tied_to_next\": false,\n                        \"pitch\": \"E4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"is_rest\": false,\n                        \"is_dotted\": false,\n                        \"tied", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 219}
{"timestamp": "2025-04-22T08:58:54.234170", "level": "ERROR", "message": "Error parsing AI response: Unterminated string starting at: line 85 column 25 (char 2741)", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 384, "exception": {"type": "JSONDecodeError", "message": "Unterminated string starting at: line 85 column 25 (char 2741)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 221, in _parse_ai_response\n    melody_data = json.loads(cleaned_content)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 353, in raw_decode\n    obj, end = self.scan_once(s, idx)\n               ^^^^^^^^^^^^^^^^^^^^^^\njson.decoder.JSONDecodeError: Unterminated string starting at: line 85 column 25 (char 2741)"}}
{"timestamp": "2025-04-22T08:58:54.237706", "level": "ERROR", "message": "Error generating AI melody: Unterminated string starting at: line 85 column 25 (char 2741)", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 116, "exception": {"type": "JSONDecodeError", "message": "Unterminated string starting at: line 85 column 25 (char 2741)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 221, in _parse_ai_response\n    melody_data = json.loads(cleaned_content)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 353, in raw_decode\n    obj, end = self.scan_once(s, idx)\n               ^^^^^^^^^^^^^^^^^^^^^^\njson.decoder.JSONDecodeError: Unterminated string starting at: line 85 column 25 (char 2741)"}}
{"timestamp": "2025-04-22T08:58:54.240124", "level": "ERROR", "message": "Error generating AI melody question: Unterminated string starting at: line 85 column 25 (char 2741)", "module": "ai_melody_service", "function": "generate_melody_question", "line": 93, "exception": {"type": "JSONDecodeError", "message": "Unterminated string starting at: line 85 column 25 (char 2741)", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 42, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 221, in _parse_ai_response\n    melody_data = json.loads(cleaned_content)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 353, in raw_decode\n    obj, end = self.scan_once(s, idx)\n               ^^^^^^^^^^^^^^^^^^^^^^\njson.decoder.JSONDecodeError: Unterminated string starting at: line 85 column 25 (char 2741)"}}
{"timestamp": "2025-04-22T08:58:54.241782", "level": "ERROR", "message": "Error in generate_ai_melody_question : Unterminated string starting at: line 85 column 25 (char 2741)\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 42, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 221, in _parse_ai_response\n    melody_data = json.loads(cleaned_content)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/__init__.py\", line 346, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/json/decoder.py\", line 353, in raw_decode\n    obj, end = self.scan_once(s, idx)\n               ^^^^^^^^^^^^^^^^^^^^^^\njson.decoder.JSONDecodeError: Unterminated string starting at: line 85 column 25 (char 2741)\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T08:58:54.243036", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "377a1395-8bfc-46e6-93ee-399bd57dffa2", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T08:59:43.464078", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T08:59:45.685062", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T08:59:45.685219", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:59:45.685334", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:59:45.685411", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:59:45.685534", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:59:45.685603", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:59:45.685758", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:59:45.685838", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:59:45.686045", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:59:45.686115", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:59:45.687463", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:59:45.687541", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:59:45.700100", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:59:45.700191", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:59:45.700282", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:59:45.700353", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:59:45.700431", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:59:45.700499", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T08:59:45.700578", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T08:59:45.700646", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T08:59:45.706510", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-22T08:59:45.846210", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T08:59:45.851939", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T08:59:45.865345", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T08:59:45.868175", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T08:59:45.869319", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T08:59:45.870314", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T08:59:45.871801", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T08:59:45.872864", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T08:59:45.874414", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T08:59:45.874526", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T08:59:45.875023", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T08:59:45.875105", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T08:59:45.876947", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T08:59:45.877045", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T08:59:45.877626", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T08:59:45.877693", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T08:59:45.883327", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T08:59:45.883457", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T08:59:45.887470", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T09:01:49.704764", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T09:01:51.729758", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T09:01:51.729889", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:01:51.730004", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:01:51.730072", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:01:51.730187", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:01:51.730252", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:01:51.730407", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:01:51.730489", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:01:51.730692", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:01:51.730759", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:01:51.732100", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:01:51.732175", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:01:51.744702", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:01:51.744808", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:01:51.744895", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:01:51.744968", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:01:51.745046", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:01:51.745134", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:01:51.745211", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:01:51.745279", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T09:01:51.751036", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-22T09:01:51.885982", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T09:01:51.891846", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T09:01:51.905466", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T09:01:51.908232", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T09:01:51.909321", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T09:01:51.910248", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T09:01:51.911674", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T09:01:51.912619", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T09:01:51.914083", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T09:01:51.914192", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T09:01:51.914704", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T09:01:51.914793", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T09:01:51.916547", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T09:01:51.916642", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T09:01:51.917214", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T09:01:51.917279", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T09:01:51.923055", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T09:01:51.923192", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T09:01:51.927033", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T09:02:54.679312", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T09:02:56.875657", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T09:02:56.875792", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:02:56.875946", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:02:56.876024", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:02:56.876144", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:02:56.876215", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:02:56.876403", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:02:56.876506", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:02:56.876708", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:02:56.876777", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:02:56.878158", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:02:56.878232", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:02:56.890984", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:02:56.891078", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:02:56.891161", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:02:56.891229", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:02:56.891306", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:02:56.891372", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:02:56.891448", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:02:56.891512", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T09:04:32.797062", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T09:04:32.797237", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:04:32.797365", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:04:32.797452", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:04:32.797575", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:04:32.797647", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:04:32.797815", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:04:32.797907", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:04:32.798127", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:04:32.798198", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:04:32.799603", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:04:32.799708", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:04:32.812667", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:04:32.812790", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:04:32.812892", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:04:32.812973", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:04:32.813067", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:04:32.813160", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:04:32.813250", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:04:32.813321", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T09:05:54.930615", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T09:05:54.930799", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:05:54.930952", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:05:54.931055", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:05:54.931232", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:05:54.931334", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:05:54.931598", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:05:54.931702", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:05:54.931918", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:05:54.931994", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:05:54.933357", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:05:54.933439", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:05:54.945949", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:05:54.946058", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:05:54.946142", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:05:54.946218", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:05:54.946299", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:05:54.946374", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:05:54.946456", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:05:54.946524", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T09:05:54.952431", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-22T09:05:55.092464", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T09:05:55.098295", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T09:05:55.112167", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T09:05:55.115027", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T09:05:55.116267", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T09:05:55.117313", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T09:05:55.118858", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T09:05:55.119948", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T09:05:55.121383", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T09:05:55.121485", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T09:05:55.121991", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T09:05:55.122070", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T09:05:55.123818", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T09:05:55.123902", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T09:05:55.124493", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T09:05:55.124557", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T09:05:55.130287", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T09:05:55.130428", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T09:05:55.134467", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T09:06:54.199865", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T09:06:56.413792", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T09:06:56.413943", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:06:56.414076", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:06:56.414150", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:06:56.414259", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:06:56.414321", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:06:56.414468", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:06:56.414545", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:06:56.414739", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:06:56.414805", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:06:56.416154", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:06:56.416225", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:06:56.428654", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:06:56.428732", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:06:56.428811", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:06:56.428879", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:06:56.428960", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:06:56.429026", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:06:56.429103", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:06:56.429167", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T09:06:56.434898", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-22T09:06:56.572504", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T09:06:56.578261", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T09:06:56.591963", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T09:06:56.594757", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T09:06:56.595893", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T09:06:56.596858", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T09:06:56.598316", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T09:06:56.599394", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T09:06:56.600914", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T09:06:56.601029", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T09:06:56.601510", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T09:06:56.601584", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T09:06:56.603386", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T09:06:56.603479", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T09:06:56.604034", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T09:06:56.604116", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T09:06:56.609889", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T09:06:56.610026", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T09:06:56.613874", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T09:07:03.655355", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "77420573-dc96-4957-8a48-d1dc5224c497", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T09:07:03.669181", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "77420573-dc96-4957-8a48-d1dc5224c497", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T09:07:39.090005", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T09:07:41.366752", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T09:07:41.366874", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:41.366992", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:41.367067", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:41.367177", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:41.367242", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:41.367396", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:41.367474", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:41.367673", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:41.367739", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:41.369154", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:41.369231", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:41.381978", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:41.382062", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:41.382142", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:41.382210", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:41.382287", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:41.382353", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:41.382438", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:41.382504", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T09:07:41.388341", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-22T09:07:41.520547", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T09:07:41.526165", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T09:07:41.539758", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T09:07:41.542468", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T09:07:41.543611", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T09:07:41.544666", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T09:07:41.546219", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T09:07:41.547300", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T09:07:41.548784", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T09:07:41.548911", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T09:07:41.549492", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T09:07:41.549572", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T09:07:41.551384", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T09:07:41.551483", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T09:07:41.552044", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T09:07:41.552110", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T09:07:41.557881", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T09:07:41.558030", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T09:07:41.561904", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T09:07:48.092068", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T09:07:50.569910", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T09:07:50.570037", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:50.570166", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:50.570248", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:50.570358", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:50.570424", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:50.570576", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:50.570655", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:50.570853", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:50.570924", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:50.572296", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:50.572370", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:50.585266", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:50.585367", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:50.585451", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:50.585520", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:50.585599", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:50.585665", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:07:50.585751", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:07:50.585818", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T09:07:50.592183", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-22T09:07:50.752813", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T09:07:50.761749", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T09:07:50.777180", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T09:07:50.780596", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T09:07:50.782004", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T09:07:50.783181", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T09:07:50.784832", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T09:07:50.785906", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T09:07:50.787561", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T09:07:50.787660", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T09:07:50.788548", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T09:07:50.788727", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T09:07:50.792288", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T09:07:50.792393", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T09:07:50.792978", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T09:07:50.793049", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T09:07:50.801452", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T09:07:50.801593", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T09:07:50.808022", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T09:07:52.193488", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "3624e893-8a49-4d95-9429-c0d231398b86", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T09:07:52.210246", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "3624e893-8a49-4d95-9429-c0d231398b86", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T09:07:58.006906", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f4f4cbd4-7b25-489c-bf76-0476067a2bc0", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T09:07:58.011361", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 39}
{"timestamp": "2025-04-22T09:07:58.011513", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 99}
{"timestamp": "2025-04-22T09:07:58.011605", "level": "DEBUG", "message": "Building melody prompt", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 121}
{"timestamp": "2025-04-22T09:07:58.011860", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // ,boolean falsefalse truetrue\n                                \"is_dotted\": false,  // ,boolean  falsefalse truetrue\n                                \"tied_to_next\": false,  // ,boolean  falsefalse truetrue\n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 176}
{"timestamp": "2025-04-22T09:07:58.011977", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // ,boolean falsefalse truetrue\n                                \"is_dotted\": false,  // ,boolean  falsefalse truetrue\n                                \"tied_to_next\": false,  // ,boolean  falsefalse truetrue\n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 103}
{"timestamp": "2025-04-22T09:07:58.012066", "level": "INFO", "message": "Calling DeepSeek API", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 181}
{"timestamp": "2025-04-22T09:07:58.012187", "level": "DEBUG", "message": "API request data: {'model': 'deepseek-chat', 'messages': [{'role': 'user', 'content': '\\n        4\\n        1. 2/4\\n        2. 80bpm\\n        3. low,:[\\'\\', \\'\\']\\n        4. C\\n        5. \\n        \\n        \\n        1. \\n        2. 2/4\\n        3. \\n        4. \\n        5. \\n        \\n        JSON\\n        {\\n            \"measures\": [  //measures 4\\n                [\\n                    {\\n                        \"notes\": [ //notes \\n                            {\\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\\n                                \"is_rest\": false,  // ,boolean falsefalse truetrue\\n                                \"is_dotted\": false,  // ,boolean  falsefalse truetrue\\n                                \"tied_to_next\": false,  // ,boolean  falsefalse truetrue\\n                                \"pitch\": \"C2\",  // \\n                            }\\n                        ]\\n                    }\\n                ]\\n            ]\\n        }\\n\\n        \\n        1. \\n        2. \\n        3. \\n        4. JSON\\n        5. false\"false\"\\n        6. \\n        \\n        '}], 'temperature': 0.5, 'max_tokens': 5000, 'stream': False, 'top_p': 0.9}", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 197}
{"timestamp": "2025-04-22T09:08:20.065098", "level": "INFO", "message": "Successfully received response from DeepSeek API. Time cost=22.052399158477783", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 209}
{"timestamp": "2025-04-22T09:08:20.067578", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 107}
{"timestamp": "2025-04-22T09:08:20.068096", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 216}
{"timestamp": "2025-04-22T09:08:20.068560", "level": "INFO", "message": "content=```json\n{\n    \"measures\": [\n        [\n            {\n                \"notes\": [\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"C4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"D4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"E4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"D4\"\n                    }\n                ]\n            }\n        ],\n        [\n            {\n                \"notes\": [\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"E4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"F4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"G4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"F4\"\n                    }\n                ]\n            }\n        ],\n        [\n            {\n                \"notes\": [\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"E4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"D4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"C4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"D4\"\n                    }\n                ]\n            }\n        ],\n        [\n            {\n                \"notes\": [\n                    {\n                        \"duration\": 1,\n                        \"pitch\": \"E4\"\n                    },\n                    {\n                        \"duration\": 1,\n                        \"pitch\": \"C4\"\n                    }\n                ]\n            }\n        ]\n    ]\n}\n```", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 219}
{"timestamp": "2025-04-22T09:08:20.069291", "level": "DEBUG", "message": "Parsed melody data: {\"measures\": [[{\"notes\": [{\"duration\": 0.5, \"pitch\": \"C4\"}, {\"duration\": 0.5, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"pitch\": \"D4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"pitch\": \"F4\"}, {\"duration\": 0.5, \"pitch\": \"G4\"}, {\"duration\": 0.5, \"pitch\": \"F4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"pitch\": \"C4\"}, {\"duration\": 0.5, \"pitch\": \"D4\"}]}], [{\"notes\": [{\"duration\": 1, \"pitch\": \"E4\"}, {\"duration\": 1, \"pitch\": \"C4\"}]}]]}", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 344}
{"timestamp": "2025-04-22T09:08:20.074832", "level": "ERROR", "message": "Error parsing AI response: 'is_rest'", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 384, "exception": {"type": "KeyError", "message": "'is_rest'", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 365, in _parse_ai_response\n    is_rest = False if note_data[\"is_rest\"] is None else True,\n                       ~~~~~~~~~^^^^^^^^^^^\nKeyError: 'is_rest'"}}
{"timestamp": "2025-04-22T09:08:20.080069", "level": "ERROR", "message": "Error generating AI melody: 'is_rest'", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 116, "exception": {"type": "KeyError", "message": "'is_rest'", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 365, in _parse_ai_response\n    is_rest = False if note_data[\"is_rest\"] is None else True,\n                       ~~~~~~~~~^^^^^^^^^^^\nKeyError: 'is_rest'"}}
{"timestamp": "2025-04-22T09:08:20.082128", "level": "ERROR", "message": "Error generating AI melody question: 'is_rest'", "module": "ai_melody_service", "function": "generate_melody_question", "line": 93, "exception": {"type": "KeyError", "message": "'is_rest'", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 42, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 365, in _parse_ai_response\n    is_rest = False if note_data[\"is_rest\"] is None else True,\n                       ~~~~~~~~~^^^^^^^^^^^\nKeyError: 'is_rest'"}}
{"timestamp": "2025-04-22T09:08:20.083648", "level": "ERROR", "message": "Error in generate_ai_melody_question : 'is_rest'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/melody_api.py\", line 49, in generate_ai_melody_question\n    return await ai_melody_service.generate_melody_question(melody_question_request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 42, in generate_melody_question\n    correct_melody = await self._generate_ai_melody(request)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 110, in _generate_ai_melody\n    melody = self._parse_ai_response(response, request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/ai_melody_service.py\", line 365, in _parse_ai_response\n    is_rest = False if note_data[\"is_rest\"] is None else True,\n                       ~~~~~~~~~^^^^^^^^^^^\nKeyError: 'is_rest'\n", "module": "melody_api", "function": "generate_ai_melody_question", "line": 52}
{"timestamp": "2025-04-22T09:08:20.084998", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f4f4cbd4-7b25-489c-bf76-0476067a2bc0", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T09:23:31.781547", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-22T09:27:26.436559", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-22T09:27:26.436638", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:27:26.436708", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:27:26.436752", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:27:26.436802", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:27:26.436835", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:27:26.436896", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:27:26.436946", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:27:26.437013", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:27:26.437044", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:27:26.437426", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:27:26.437466", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:27:26.441058", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:27:26.441136", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:27:26.441218", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:27:26.441273", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:27:26.441329", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:27:26.441372", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-22T09:27:26.441429", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-22T09:27:26.441476", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-22T09:27:26.445539", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-22T09:27:26.489206", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 33}
{"timestamp": "2025-04-22T09:27:26.492733", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 39}
{"timestamp": "2025-04-22T09:27:26.498860", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-22T09:27:26.499913", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-22T09:27:26.500515", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-22T09:27:26.501073", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-22T09:27:26.501898", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-22T09:27:26.502469", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-22T09:27:26.503849", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-22T09:27:26.503905", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 48}
{"timestamp": "2025-04-22T09:27:26.504232", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-22T09:27:26.504270", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 51}
{"timestamp": "2025-04-22T09:27:26.505247", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-22T09:27:26.505287", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 54}
{"timestamp": "2025-04-22T09:27:26.505445", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-22T09:27:26.505483", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 57}
{"timestamp": "2025-04-22T09:27:26.507346", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-22T09:27:26.507402", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 60}
{"timestamp": "2025-04-22T09:27:26.508494", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-22T09:27:37.693251", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "fce95e17-d70a-411c-a376-680dc494c773", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T09:27:37.697835", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "fce95e17-d70a-411c-a376-680dc494c773", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-22T09:27:39.756848", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "bd40eb89-de15-4d35-819f-e144dc8c07c8", "ip": "127.0.0.1", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T09:27:39.759496", "level": "INFO", "message": "Generating melody question with parameters: {'difficulty': <RhythmDifficulty.LOW: 'low'>, 'time_signature': <TimeSignature.TWO_FOUR: '2/4'>, 'measures_count': <MeasureCount.FOUR: 4>, 'tempo': <Tempo.EIGHTY: 80>, 'tonality': 1, 'tonality_choice': 1}", "module": "ai_melody_service", "function": "generate_melody_question", "line": 39}
{"timestamp": "2025-04-22T09:27:39.759557", "level": "INFO", "message": "Starting AI melody generation", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 99}
{"timestamp": "2025-04-22T09:27:39.759593", "level": "DEBUG", "message": "Building melody prompt", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 121}
{"timestamp": "2025-04-22T09:27:39.759673", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // ,boolean falsefalse truetrue\n                                \"is_dotted\": false,  // ,boolean  falsefalse truetrue\n                                \"tied_to_next\": false,  // ,boolean  falsefalse truetrue\n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_build_melody_prompt", "line": 176}
{"timestamp": "2025-04-22T09:27:39.759730", "level": "DEBUG", "message": "Generated prompt: \n        4\n        1. 2/4\n        2. 80bpm\n        3. low,:['', '']\n        4. C\n        5. \n        \n        \n        1. \n        2. 2/4\n        3. \n        4. \n        5. \n        \n        JSON\n        {\n            \"measures\": [  //measures 4\n                [\n                    {\n                        \"notes\": [ //notes \n                            {\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\n                                \"is_rest\": false,  // ,boolean falsefalse truetrue\n                                \"is_dotted\": false,  // ,boolean  falsefalse truetrue\n                                \"tied_to_next\": false,  // ,boolean  falsefalse truetrue\n                                \"pitch\": \"C2\",  // \n                            }\n                        ]\n                    }\n                ]\n            ]\n        }\n\n        \n        1. \n        2. \n        3. \n        4. JSON\n        5. false\"false\"\n        6. \n        \n        ", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 103}
{"timestamp": "2025-04-22T09:27:39.759765", "level": "INFO", "message": "Calling DeepSeek API", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 181}
{"timestamp": "2025-04-22T09:27:39.759832", "level": "DEBUG", "message": "API request data: {'model': 'deepseek-chat', 'messages': [{'role': 'user', 'content': '\\n        4\\n        1. 2/4\\n        2. 80bpm\\n        3. low,:[\\'\\', \\'\\']\\n        4. C\\n        5. \\n        \\n        \\n        1. \\n        2. 2/4\\n        3. \\n        4. \\n        5. \\n        \\n        JSON\\n        {\\n            \"measures\": [  //measures 4\\n                [\\n                    {\\n                        \"notes\": [ //notes \\n                            {\\n                                \"duration\": 0.5,  // 0.510.250.1250.751.5\\n                                \"is_rest\": false,  // ,boolean falsefalse truetrue\\n                                \"is_dotted\": false,  // ,boolean  falsefalse truetrue\\n                                \"tied_to_next\": false,  // ,boolean  falsefalse truetrue\\n                                \"pitch\": \"C2\",  // \\n                            }\\n                        ]\\n                    }\\n                ]\\n            ]\\n        }\\n\\n        \\n        1. \\n        2. \\n        3. \\n        4. JSON\\n        5. false\"false\"\\n        6. \\n        \\n        '}], 'temperature': 0.5, 'max_tokens': 5000, 'stream': False, 'top_p': 0.9}", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 197}
{"timestamp": "2025-04-22T09:27:58.301352", "level": "INFO", "message": "Successfully received response from DeepSeek API. Time cost=18.54127049446106", "module": "ai_melody_service", "function": "_call_deepseek_api", "line": 209}
{"timestamp": "2025-04-22T09:27:58.302148", "level": "INFO", "message": "Successfully received response from DeepSeek API", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 107}
{"timestamp": "2025-04-22T09:27:58.302374", "level": "INFO", "message": "Parsing AI response", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 216}
{"timestamp": "2025-04-22T09:27:58.302717", "level": "INFO", "message": "content=```json\n{\n    \"measures\": [\n        [\n            {\n                \"notes\": [\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"C4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"D4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"E4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"C4\"\n                    }\n                ]\n            }\n        ],\n        [\n            {\n                \"notes\": [\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"E4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"F4\"\n                    },\n                    {\n                        \"duration\": 1,\n                        \"pitch\": \"G4\"\n                    }\n                ]\n            }\n        ],\n        [\n            {\n                \"notes\": [\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"G4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"A4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"G4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"F4\"\n                    }\n                ]\n            }\n        ],\n        [\n            {\n                \"notes\": [\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"E4\"\n                    },\n                    {\n                        \"duration\": 0.5,\n                        \"pitch\": \"D4\"\n                    },\n                    {\n                        \"duration\": 1,\n                        \"pitch\": \"C4\"\n                    }\n                ]\n            }\n        ]\n    ]\n}\n```", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 219}
{"timestamp": "2025-04-22T09:27:58.303193", "level": "DEBUG", "message": "Parsed melody data: {\"measures\": [[{\"notes\": [{\"duration\": 0.5, \"pitch\": \"C4\"}, {\"duration\": 0.5, \"pitch\": \"D4\"}, {\"duration\": 0.5, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"pitch\": \"C4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"pitch\": \"F4\"}, {\"duration\": 1, \"pitch\": \"G4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"pitch\": \"G4\"}, {\"duration\": 0.5, \"pitch\": \"A4\"}, {\"duration\": 0.5, \"pitch\": \"G4\"}, {\"duration\": 0.5, \"pitch\": \"F4\"}]}], [{\"notes\": [{\"duration\": 0.5, \"pitch\": \"E4\"}, {\"duration\": 0.5, \"pitch\": \"D4\"}, {\"duration\": 1, \"pitch\": \"C4\"}]}]]}", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 344}
{"timestamp": "2025-04-22T09:27:58.305160", "level": "INFO", "message": "Successfully created MelodyScorePitch object", "module": "ai_melody_service", "function": "_parse_ai_response", "line": 381}
{"timestamp": "2025-04-22T09:27:58.305272", "level": "INFO", "message": "Successfully parsed AI response into melody", "module": "ai_melody_service", "function": "_generate_ai_melody", "line": 112}
{"timestamp": "2025-04-22T09:27:58.305369", "level": "INFO", "message": "Successfully generated correct melody", "module": "ai_melody_service", "function": "generate_melody_question", "line": 43}
{"timestamp": "2025-04-22T09:27:58.306215", "level": "INFO", "message": "Generated 4 wrong options using systematic method", "module": "ai_melody_service", "function": "generate_melody_question", "line": 47}
{"timestamp": "2025-04-22T09:27:58.306272", "level": "INFO", "message": "Found 3 unique wrong options", "module": "ai_melody_service", "function": "generate_melody_question", "line": 56}
{"timestamp": "2025-04-22T09:27:58.306304", "level": "INFO", "message": "Added basic variations, total unique wrong options: 3", "module": "ai_melody_service", "function": "generate_melody_question", "line": 71}
{"timestamp": "2025-04-22T09:27:58.306340", "level": "INFO", "message": "Randomized all options", "module": "ai_melody_service", "function": "generate_melody_question", "line": 76}
{"timestamp": "2025-04-22T09:27:58.306379", "level": "INFO", "message": "Correct answer is option A", "module": "ai_melody_service", "function": "generate_melody_question", "line": 80}
{"timestamp": "2025-04-22T09:27:58.306438", "level": "INFO", "message": "Successfully created melody question response", "module": "ai_melody_service", "function": "generate_melody_question", "line": 90}
{"timestamp": "2025-04-22T09:27:58.306936", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "bd40eb89-de15-4d35-819f-e144dc8c07c8", "path": "/api/v1/melody/generate/ai", "method": "POST"}
{"timestamp": "2025-04-22T09:29:18.634013", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 71}
{"timestamp": "2025-04-25T03:44:25.174563", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-25T03:44:25.174664", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:25.174735", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:25.174776", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:25.174829", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:25.174859", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:25.174916", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:25.174960", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:25.175025", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:25.175054", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:25.175833", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:25.175875", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:25.178430", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:25.178471", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:25.178507", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:25.178553", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:25.178588", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:25.178614", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:25.178647", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:25.178681", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-25T03:44:25.181457", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-25T03:44:25.327111", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-25T03:44:25.330970", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-25T03:44:25.340481", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-25T03:44:25.343701", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-25T03:44:25.344947", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-25T03:44:25.346228", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-25T03:44:25.347586", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-25T03:44:25.349205", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-25T03:44:25.350494", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-25T03:44:25.350537", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-25T03:44:25.350883", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-25T03:44:25.350916", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-25T03:44:25.352567", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-25T03:44:25.352608", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-25T03:44:25.352755", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-25T03:44:25.352783", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-25T03:44:25.354600", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-25T03:44:25.354651", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-25T03:44:25.355708", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-25T03:44:25.356576", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-25T03:44:54.931628", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-25T03:44:54.931719", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:54.931787", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:54.931826", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:54.931879", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:54.931911", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:54.931969", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:54.932013", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:54.932079", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:54.932108", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:54.932885", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:54.932928", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:54.935504", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:54.935547", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:54.935604", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:54.935633", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:54.935666", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:54.935693", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T03:44:54.935727", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T03:44:54.935760", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-25T03:44:54.937479", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-25T03:44:55.000760", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-25T03:44:55.004692", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-25T03:44:55.011148", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-25T03:44:55.012170", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-25T03:44:55.012712", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-25T03:44:55.013214", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-25T03:44:55.013963", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-25T03:44:55.014515", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-25T03:44:55.015208", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-25T03:44:55.015248", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-25T03:44:55.015597", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-25T03:44:55.015644", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-25T03:44:55.017265", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-25T03:44:55.017307", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-25T03:44:55.017465", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-25T03:44:55.017494", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-25T03:44:55.019550", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-25T03:44:55.019609", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-25T03:44:55.020848", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-25T03:45:02.470806", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a4f3f608-5f36-4c53-a48c-ca695c5b0598", "ip": "127.0.0.1", "path": "/", "method": "GET"}
{"timestamp": "2025-04-25T03:45:02.471380", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a4f3f608-5f36-4c53-a48c-ca695c5b0598", "path": "/", "method": "GET"}
{"timestamp": "2025-04-25T03:45:02.492160", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "72717a8b-16ae-4032-8977-7599349cfa34", "ip": "127.0.0.1", "path": "/favicon.ico", "method": "GET"}
{"timestamp": "2025-04-25T03:45:02.492644", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "72717a8b-16ae-4032-8977-7599349cfa34", "path": "/favicon.ico", "method": "GET"}
{"timestamp": "2025-04-25T03:48:57.838512", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-25T07:00:27.433469", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-25T07:00:27.433546", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:00:27.433614", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:00:27.433653", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:00:27.433718", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:00:27.433757", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:00:27.433835", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:00:27.433890", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:00:27.433958", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:00:27.433987", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:00:27.434792", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:00:27.434836", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:00:27.437340", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:00:27.437378", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:00:27.437422", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:00:27.437451", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:00:27.437486", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:00:27.437513", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:00:27.437547", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:00:27.437572", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-25T07:00:27.439273", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-25T07:00:27.486651", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-25T07:00:27.491431", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-25T07:00:27.498133", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-25T07:00:27.499901", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-25T07:00:27.500863", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-25T07:00:27.501797", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-25T07:00:27.503235", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-25T07:00:27.504162", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-25T07:00:27.505383", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-25T07:00:27.505439", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-25T07:00:27.505955", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-25T07:00:27.506034", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-25T07:00:27.508072", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-25T07:00:27.508118", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-25T07:00:27.508305", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-25T07:00:27.508348", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-25T07:00:27.511577", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-25T07:00:27.511694", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-25T07:00:27.513827", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-25T07:00:36.198642", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "dbf28401-4850-4c95-a2a0-1e052a5f4a0e", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T07:00:36.212046", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "dbf28401-4850-4c95-a2a0-1e052a5f4a0e", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T07:00:53.762046", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4bb5b239-be5d-4e2b-81b1-e9d086a25bd7", "ip": "127.0.0.1", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-25T07:00:53.764299", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-25T07:00:53.764343", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-25T07:00:53.764382", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-25T07:00:53.764440", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-25T07:00:53.766335", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "4bb5b239-be5d-4e2b-81b1-e9d086a25bd7", "path": "/api/v1/melody/generate", "method": "POST"}
{"timestamp": "2025-04-25T07:02:32.938341", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-25T07:53:07.571631", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-25T07:53:07.572476", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:53:07.572546", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:53:07.572586", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:53:07.572636", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:53:07.572665", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:53:07.572725", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:53:07.572768", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:53:07.572832", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:53:07.572858", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:53:07.573647", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:53:07.573688", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:53:07.576197", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:53:07.576232", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:53:07.576265", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:53:07.576293", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:53:07.576328", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:53:07.576354", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:53:07.576385", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:53:07.576408", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-25T07:53:07.579098", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-25T07:53:07.691433", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-25T07:53:07.694507", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-25T07:53:07.705696", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-25T07:53:07.709965", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-25T07:53:07.711858", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-25T07:53:07.713913", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-25T07:53:07.715251", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-25T07:53:07.717680", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-25T07:53:07.719656", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-25T07:53:07.719703", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-25T07:53:07.720061", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-25T07:53:07.720096", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-25T07:53:07.721711", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-25T07:53:07.721749", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-25T07:53:07.721905", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-25T07:53:07.721933", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-25T07:53:07.723734", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-25T07:53:07.723779", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-25T07:53:07.724830", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-25T07:54:13.777076", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "78189bca-1fda-4d6c-9060-e91b7b0164f6", "ip": "127.0.0.1", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T07:54:13.777414", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "78189bca-1fda-4d6c-9060-e91b7b0164f6", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T07:54:15.842034", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "65ed840a-b10b-4b70-a31c-c3b753c95524", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T07:54:15.854481", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "65ed840a-b10b-4b70-a31c-c3b753c95524", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T07:54:17.551497", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "10f840f3-2f5f-42ec-8045-4a70423a6a98", "ip": "127.0.0.1", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T07:54:17.551869", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "10f840f3-2f5f-42ec-8045-4a70423a6a98", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T07:54:59.073182", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a5b7d48f-81cb-4dc2-bdb3-11a4dddb61c6", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T07:54:59.074998", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a5b7d48f-81cb-4dc2-bdb3-11a4dddb61c6", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T07:55:00.954667", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "10b2e8b8-f115-4275-bfda-fd070611f141", "ip": "127.0.0.1", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T07:55:00.954987", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "10b2e8b8-f115-4275-bfda-fd070611f141", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T07:55:04.425019", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "9520329d-efed-4e6e-9785-9f509e81228c", "ip": "127.0.0.1", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T07:55:04.425347", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "9520329d-efed-4e6e-9785-9f509e81228c", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T07:55:15.438913", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-25T07:55:17.666925", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-25T07:55:17.666993", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:55:17.667059", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:55:17.667098", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:55:17.667148", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:55:17.667177", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:55:17.667233", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:55:17.667279", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:55:17.667347", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:55:17.667376", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:55:17.668166", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:55:17.668204", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:55:17.670752", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:55:17.670790", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:55:17.670823", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:55:17.670851", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:55:17.670883", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:55:17.670909", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:55:17.670941", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:55:17.670965", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-25T07:55:17.672636", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-25T07:57:46.067124", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-25T07:57:46.067193", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:57:46.067259", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:57:46.067295", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:57:46.067347", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:57:46.067375", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:57:46.067429", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:57:46.067472", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:57:46.067539", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:57:46.067566", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:57:46.068331", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:57:46.068371", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:57:46.070758", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:57:46.070794", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:57:46.070826", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:57:46.070852", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:57:46.070884", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:57:46.070908", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T07:57:46.070939", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T07:57:46.070962", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-25T07:57:46.072628", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-25T07:57:46.130939", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-25T07:57:46.134280", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-25T07:57:46.141499", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-25T07:57:46.143424", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-25T07:57:46.144165", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-25T07:57:46.144844", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-25T07:57:46.145676", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-25T07:57:46.146338", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-25T07:57:46.147434", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-25T07:57:46.147480", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-25T07:57:46.147917", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-25T07:57:46.147950", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-25T07:57:46.148991", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-25T07:57:46.149026", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-25T07:57:46.149172", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-25T07:57:46.149209", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-25T07:57:46.151707", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-25T07:57:46.151758", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-25T07:57:46.153073", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-25T07:57:50.047929", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2ef2412e-8b80-4cc7-bf60-728776ba7fbf", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T07:57:50.052268", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2ef2412e-8b80-4cc7-bf60-728776ba7fbf", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T07:57:52.004259", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "6889c432-6a2f-4032-9125-cc0be8102003", "ip": "127.0.0.1", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T07:57:52.009738", "level": "ERROR", "message": "Error in get_all_pitches: 'PitchGroup' object has no attribute 'pitch_pairs'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/exam_api.py\", line 50, in get_exam_settings\n    single_setting = await pitch_settings_service.get_pitch_single_settings()\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/pitch_settings_service.py\", line 33, in get_pitch_single_settings\n    list=default_group.pitch_pairs\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'PitchGroup' object has no attribute 'pitch_pairs'\n", "module": "exam_api", "function": "get_exam_settings", "line": 86}
{"timestamp": "2025-04-25T07:57:52.010946", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "6889c432-6a2f-4032-9125-cc0be8102003", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T08:04:41.855039", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-25T08:04:42.990254", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-25T08:04:42.990327", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:04:42.990395", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:04:42.990433", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:04:42.990482", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:04:42.990511", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:04:42.990566", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:04:42.990609", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:04:42.990674", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:04:42.990703", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:04:42.991455", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:04:42.991497", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:04:42.993977", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:04:42.994013", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:04:42.994046", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:04:42.994073", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:04:42.994106", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:04:42.994131", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:04:42.994170", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:04:42.994193", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-25T08:04:42.995787", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-25T08:04:43.050901", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-25T08:04:43.056667", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-25T08:04:43.066411", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-25T08:04:43.067972", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-25T08:04:43.068623", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-25T08:04:43.069164", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-25T08:04:43.069872", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-25T08:04:43.070410", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-25T08:04:43.071163", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-25T08:04:43.071203", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-25T08:04:43.071533", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-25T08:04:43.071568", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-25T08:04:43.072493", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-25T08:04:43.072531", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-25T08:04:43.072685", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-25T08:04:43.072712", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-25T08:04:43.074538", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-25T08:04:43.074584", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-25T08:04:43.075669", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-25T08:04:45.851438", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2e56b9bc-c066-4bb2-b4f7-b191a69c534a", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T08:04:45.855604", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2e56b9bc-c066-4bb2-b4f7-b191a69c534a", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T08:04:47.563961", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "ceae5b93-c77c-4394-8780-3e97cdd71f8f", "ip": "127.0.0.1", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T08:04:47.566559", "level": "ERROR", "message": "Error in get_all_pitches: 'PitchGroup' object has no attribute 'pitch_pairs'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/exam_api.py\", line 51, in get_exam_settings\n    single_setting = await pitch_settings_service.get_pitch_single_settings()\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/pitch_settings_service.py\", line 33, in get_pitch_single_settings\n    list=default_group.pitch_pairs\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'PitchGroup' object has no attribute 'pitch_pairs'\n", "module": "exam_api", "function": "get_exam_settings", "line": 87}
{"timestamp": "2025-04-25T08:04:47.567343", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "ceae5b93-c77c-4394-8780-3e97cdd71f8f", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T08:05:21.266517", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-25T08:05:22.363068", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-25T08:05:22.363130", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:05:22.363195", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:05:22.363234", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:05:22.363283", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:05:22.363317", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:05:22.363372", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:05:22.363417", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:05:22.363481", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:05:22.363509", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:05:22.364258", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:05:22.364298", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:05:22.366735", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:05:22.366771", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:05:22.366803", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:05:22.366829", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:05:22.366860", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:05:22.366886", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:05:22.366917", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:05:22.366941", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-25T08:05:22.368742", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-25T08:05:22.417055", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-25T08:05:22.421172", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-25T08:05:22.428176", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-25T08:05:22.429283", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-25T08:05:22.429896", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-25T08:05:22.430434", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-25T08:05:22.431143", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-25T08:05:22.431685", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-25T08:05:22.433086", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-25T08:05:22.433135", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-25T08:05:22.433451", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-25T08:05:22.433485", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-25T08:05:22.434421", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-25T08:05:22.434458", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-25T08:05:22.434611", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-25T08:05:22.434638", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-25T08:05:22.436471", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-25T08:05:22.436517", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-25T08:05:22.437721", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-25T08:05:25.098519", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a3c0cfeb-4257-499a-b614-bf4d96ee7964", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T08:05:25.102626", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a3c0cfeb-4257-499a-b614-bf4d96ee7964", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T08:05:27.191760", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "890b9348-f801-4db2-b7de-f27f6b7da340", "ip": "127.0.0.1", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T08:05:27.194220", "level": "ERROR", "message": "Error in get_all_pitches: 'PitchGroup' object has no attribute 'pitch_pairs'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/exam_api.py\", line 51, in get_exam_settings\n    single_setting = await pitch_settings_service.get_pitch_single_settings()\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/pitch_settings_service.py\", line 33, in get_pitch_single_settings\n    list=default_group.pitch_pairs\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'PitchGroup' object has no attribute 'pitch_pairs'\n", "module": "exam_api", "function": "get_exam_settings", "line": 86}
{"timestamp": "2025-04-25T08:05:27.194649", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "890b9348-f801-4db2-b7de-f27f6b7da340", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T08:07:18.827864", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-25T08:07:22.564356", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-25T08:07:22.564474", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:07:22.564592", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:07:22.564662", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:07:22.564768", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:07:22.564831", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:07:22.564974", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:07:22.565049", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:07:22.565248", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:07:22.565318", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:07:22.608885", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:07:22.608986", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:07:22.621334", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:07:22.621424", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:07:22.621506", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:07:22.621574", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:07:22.621648", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:07:22.621710", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:07:22.621782", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:07:22.621845", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-25T08:07:22.636519", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-25T08:07:22.768763", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-25T08:07:22.780050", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-25T08:07:22.800182", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-25T08:07:22.803663", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-25T08:07:22.805632", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-25T08:07:22.807376", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-25T08:07:22.809881", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-25T08:07:22.811540", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-25T08:07:22.813928", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-25T08:07:22.814034", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-25T08:07:22.814731", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-25T08:07:22.814813", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-25T08:07:22.817653", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-25T08:07:22.817739", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-25T08:07:22.818334", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-25T08:07:22.818399", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-25T08:07:22.824777", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-25T08:07:22.824911", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-25T08:07:22.829428", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-25T08:07:26.336543", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "bc1dac72-165a-40f6-bb3c-ad5e732de39d", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T08:07:26.352326", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "bc1dac72-165a-40f6-bb3c-ad5e732de39d", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T08:07:27.864689", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "9a79092f-1a97-4630-b9a5-0827c5b79466", "ip": "127.0.0.1", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T08:10:25.667598", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-25T08:10:25.667709", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:10:25.667816", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:10:25.667883", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:10:25.667986", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:10:25.668045", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:10:25.668192", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:10:25.668262", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:10:25.668463", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:10:25.668524", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:10:25.669885", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:10:25.669951", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:10:25.682720", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:10:25.682801", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:10:25.682881", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:10:25.682945", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:10:25.683017", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:10:25.683076", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:10:25.683153", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:10:25.683211", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-25T08:10:25.687210", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-25T08:10:25.839433", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-25T08:10:25.845271", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-25T08:10:25.860035", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-25T08:10:25.862098", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-25T08:10:25.863141", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-25T08:10:25.864043", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-25T08:10:25.865438", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-25T08:10:25.866392", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-25T08:10:25.867952", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-25T08:10:25.868049", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-25T08:10:25.868572", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-25T08:10:25.868639", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-25T08:10:25.870471", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-25T08:10:25.870550", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-25T08:10:25.871184", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-25T08:10:25.871248", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-25T08:10:25.877593", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-25T08:10:25.877724", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-25T08:10:25.882218", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-25T08:10:30.839072", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2dfb2da4-30d5-424e-ab8d-a0945b138420", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T08:10:30.857580", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2dfb2da4-30d5-424e-ab8d-a0945b138420", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T08:10:32.899311", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "ae12c9ee-005a-4e61-a06c-d7d00d7a8bb1", "ip": "127.0.0.1", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T08:11:24.964531", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-25T08:11:24.964601", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:11:24.964668", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:11:24.964705", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:11:24.964754", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:11:24.964784", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:11:24.964839", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:11:24.964884", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:11:24.964952", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:11:24.964981", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:11:24.965778", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:11:24.965827", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:11:24.968304", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:11:24.968342", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:11:24.968376", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:11:24.968410", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:11:24.968443", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:11:24.968469", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:11:24.968500", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:11:24.968524", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-25T08:11:24.970191", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-25T08:11:25.017561", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-25T08:11:25.021589", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-25T08:11:25.028607", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-25T08:11:25.029823", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-25T08:11:25.030519", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-25T08:11:25.031143", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-25T08:11:25.032651", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-25T08:11:25.033271", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-25T08:11:25.034026", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-25T08:11:25.034072", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-25T08:11:25.034428", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-25T08:11:25.034464", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-25T08:11:25.035514", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-25T08:11:25.035553", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-25T08:11:25.035705", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-25T08:11:25.035740", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-25T08:11:25.037664", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-25T08:11:25.037714", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-25T08:11:25.038847", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-25T08:11:26.702037", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "694fc383-2a3d-46d2-ad8d-695ef49cd8fe", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T08:11:26.706114", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "694fc383-2a3d-46d2-ad8d-695ef49cd8fe", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T08:11:28.108851", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "ae5aa3d7-314f-442f-b9bf-225981fd953e", "ip": "127.0.0.1", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T08:11:28.116086", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "NameError", "message": "name 'settings' is not defined", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 274, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 191, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/exam_api.py\", line 94, in get_exam_settings\n    return settings\n           ^^^^^^^^\nNameError: name 'settings' is not defined"}, "request_id": "ae5aa3d7-314f-442f-b9bf-225981fd953e", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T08:12:22.982399", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-25T08:12:24.074639", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-25T08:12:24.074700", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:12:24.074762", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:12:24.074798", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:12:24.074846", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:12:24.074874", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:12:24.074927", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:12:24.074968", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:12:24.075030", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:12:24.075056", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:12:24.075773", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:12:24.075814", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:12:24.078211", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:12:24.078247", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:12:24.078280", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:12:24.078309", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:12:24.078340", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:12:24.078364", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-25T08:12:24.078394", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-25T08:12:24.078416", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-25T08:12:24.079934", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-25T08:12:24.125715", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-25T08:12:24.128530", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-25T08:12:24.134412", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-25T08:12:24.136063", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-25T08:12:24.136729", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-25T08:12:24.137316", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-25T08:12:24.138037", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-25T08:12:24.138543", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-25T08:12:24.139305", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-25T08:12:24.139366", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-25T08:12:24.139684", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-25T08:12:24.139715", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-25T08:12:24.140672", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-25T08:12:24.140708", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-25T08:12:24.140858", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-25T08:12:24.140885", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-25T08:12:24.143437", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-25T08:12:24.143501", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-25T08:12:24.144970", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-25T08:12:27.233240", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "7f8cf01c-5426-49cd-a9b9-4800f6754dc8", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T08:12:27.237328", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "7f8cf01c-5426-49cd-a9b9-4800f6754dc8", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-25T08:12:29.205818", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b47e8353-96e1-4806-beaa-e8503a10964a", "ip": "127.0.0.1", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T08:12:29.221456", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b47e8353-96e1-4806-beaa-e8503a10964a", "path": "/api/v1/exam/settings", "method": "GET"}
{"timestamp": "2025-04-25T08:13:01.040498", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T02:46:52.063842", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:46:52.063912", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:46:52.063980", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:46:52.064020", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:46:52.064069", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:46:52.064098", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:46:52.064154", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:46:52.064198", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:46:52.064264", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:46:52.064291", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:46:52.065124", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:46:52.065168", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:46:52.067625", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:46:52.067666", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:46:52.067700", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:46:52.067730", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:46:52.067765", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:46:52.067792", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:46:52.067825", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:46:52.067850", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:46:52.073895", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:49:29.169231", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:49:29.169308", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:29.169373", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:29.169412", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:29.169482", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:29.169526", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:29.169590", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:29.169633", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:29.169703", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:29.169730", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:29.170427", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:29.170477", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:29.172904", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:29.172941", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:29.172974", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:29.173004", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:29.173037", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:29.173063", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:29.173097", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:29.173122", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:49:29.174790", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:49:59.296153", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:49:59.296257", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:59.296319", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:59.296363", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:59.296412", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:59.296444", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:59.296502", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:59.296545", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:59.296608", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:59.296635", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:59.297319", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:59.297373", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:59.299696", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:59.299737", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:59.299771", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:59.299797", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:59.299830", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:59.299857", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:49:59.299891", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:49:59.299921", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:49:59.301435", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:51:35.463905", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:51:35.463987", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:51:35.464063", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:51:35.464102", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:51:35.464166", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:51:35.464196", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:51:35.464251", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:51:35.464297", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:51:35.464360", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:51:35.464387", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:51:35.465111", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:51:35.465154", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:51:35.467602", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:51:35.467641", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:51:35.467675", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:51:35.467702", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:51:35.467735", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:51:35.467760", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:51:35.467791", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:51:35.467817", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:51:35.469348", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:52:26.423031", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:52:26.423126", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:26.423190", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:26.423227", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:26.423277", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:26.423312", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:26.423387", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:26.423453", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:26.423530", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:26.423558", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:26.424285", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:26.424354", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:26.426760", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:26.426799", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:26.426833", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:26.426860", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:26.426893", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:26.426926", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:26.426957", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:26.426981", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:52:26.428542", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:52:48.787707", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:52:48.787812", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:48.787877", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:48.787914", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:48.787962", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:48.787991", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:48.788046", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:48.788089", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:48.788158", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:48.788186", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:48.788899", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:48.788942", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:48.791492", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:48.791531", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:48.791567", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:48.791607", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:48.791641", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:48.791667", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:52:48.791699", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:52:48.791723", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:52:48.793292", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:53:06.622696", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:53:06.622765", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:06.622851", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:06.622889", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:06.622939", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:06.622968", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:06.623023", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:06.623066", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:06.623129", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:06.623156", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:06.623886", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:06.623934", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:06.626336", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:06.626385", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:06.626419", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:06.626450", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:06.626486", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:06.626513", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:06.626548", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:06.626572", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:53:06.628122", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:53:33.194686", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:53:33.194758", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:33.194821", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:33.194857", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:33.194908", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:33.194937", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:33.194993", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:33.195037", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:33.195100", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:33.195128", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:33.195894", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:33.195947", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:33.198358", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:33.198398", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:33.198431", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:33.198462", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:33.198495", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:33.198521", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:53:33.198552", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:53:33.198576", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:53:33.200185", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:54:04.148326", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:54:04.148410", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:04.148482", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:04.148546", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:04.148595", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:04.148623", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:04.148680", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:04.148725", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:04.148812", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:04.148839", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:04.149537", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:04.149579", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:04.151967", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:04.152005", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:04.152040", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:04.152068", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:04.152101", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:04.152127", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:04.152164", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:04.152198", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:54:04.153766", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:54:04.266154", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T02:54:04.269458", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T02:54:04.278874", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T02:54:04.282499", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T02:54:04.283637", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T02:54:04.284909", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T02:54:04.286295", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T02:54:04.287972", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T02:54:04.289289", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T02:54:04.289331", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T02:54:04.289653", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T02:54:04.289688", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T02:54:04.290605", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T02:54:04.290641", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T02:54:04.290784", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T02:54:04.290812", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T02:54:04.292672", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T02:54:04.292719", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T02:54:04.293789", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T02:54:06.499688", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T02:54:28.938255", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:54:28.938325", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:28.938403", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:28.938452", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:28.938511", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:28.938543", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:28.938599", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:28.938643", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:28.938721", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:28.938748", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:28.939497", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:28.939540", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:28.941949", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:28.941987", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:28.942020", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:28.942046", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:28.942078", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:28.942104", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:28.942135", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:28.942159", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:54:28.943758", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:54:29.001381", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T02:54:29.004314", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T02:54:29.010785", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T02:54:29.012633", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T02:54:29.013361", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T02:54:29.013983", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T02:54:29.014818", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T02:54:29.015416", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T02:54:29.016195", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T02:54:29.016249", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T02:54:29.016609", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T02:54:29.016654", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T02:54:29.017623", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T02:54:29.017672", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T02:54:29.017836", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T02:54:29.017871", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T02:54:29.019712", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T02:54:29.019772", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T02:54:29.020861", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T02:54:37.744098", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T02:54:38.765295", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:54:38.765370", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:38.765441", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:38.765487", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:38.765538", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:38.765567", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:38.765623", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:38.765670", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:38.765736", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:38.765772", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:38.766575", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:38.766620", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:38.769121", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:38.769163", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:38.769198", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:38.769225", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:38.769259", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:38.769285", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:54:38.769319", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:54:38.769345", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:54:38.771142", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:54:38.827270", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T02:54:38.831328", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T02:54:38.837799", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T02:54:38.839677", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T02:54:38.840323", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T02:54:38.840841", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T02:54:38.841912", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T02:54:38.843035", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T02:54:38.844554", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T02:54:38.844655", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T02:54:38.845261", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T02:54:38.845335", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T02:54:38.846966", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T02:54:38.847051", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T02:54:38.847321", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T02:54:38.847387", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T02:54:38.850481", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T02:54:38.850544", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T02:54:38.852533", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T02:56:43.265672", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T02:56:44.319478", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:56:44.319550", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:56:44.319618", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:56:44.319657", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:56:44.319706", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:56:44.319736", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:56:44.319791", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:56:44.319836", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:56:44.319901", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:56:44.319938", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:56:44.320721", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:56:44.320762", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:56:44.323207", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:56:44.323246", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:56:44.323280", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:56:44.323308", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:56:44.323342", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:56:44.323369", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:56:44.323401", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:56:44.323435", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:56:44.325137", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:57:53.389790", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T02:57:53.389871", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:57:53.389934", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:57:53.389973", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:57:53.390035", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:57:53.390064", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:57:53.390125", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:57:53.390172", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:57:53.390237", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:57:53.390265", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:57:53.390955", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:57:53.390997", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:57:53.393337", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:57:53.393376", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:57:53.393410", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:57:53.393439", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:57:53.393473", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:57:53.393499", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T02:57:53.393532", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T02:57:53.393555", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T02:57:53.395073", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T02:57:53.442868", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T02:57:53.446272", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T02:57:53.452981", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T02:57:53.454008", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T02:57:53.454616", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T02:57:53.455142", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T02:57:53.455857", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T02:57:53.456385", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T02:57:53.457147", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T02:57:53.457191", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T02:57:53.457541", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T02:57:53.457577", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T02:57:53.458504", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T02:57:53.458540", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T02:57:53.458715", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T02:57:53.458745", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T02:57:53.460580", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T02:57:53.460629", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T02:57:53.461657", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T03:06:47.829904", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T03:06:48.921979", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T03:06:48.922043", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:06:48.922125", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:06:48.922167", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:06:48.922221", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:06:48.922254", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:06:48.922313", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:06:48.922367", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:06:48.922433", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:06:48.922471", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:06:48.923208", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:06:48.923248", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:06:48.925691", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:06:48.925731", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:06:48.925768", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:06:48.925798", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:06:48.925831", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:06:48.925858", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:06:48.925890", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:06:48.925915", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T03:06:48.927448", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T03:06:48.976992", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T03:06:48.980058", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T03:06:48.986453", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T03:06:48.987828", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T03:06:48.988585", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T03:06:48.989244", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T03:06:48.990018", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T03:06:48.990656", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T03:06:48.991391", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T03:06:48.991433", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T03:06:48.991784", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T03:06:48.991817", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T03:06:48.992789", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T03:06:48.992826", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T03:06:48.992982", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T03:06:48.993011", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T03:06:48.994873", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T03:06:48.994920", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T03:06:48.995983", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T03:07:37.218913", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T03:07:38.273774", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T03:07:38.273843", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:07:38.273910", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:07:38.273967", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:07:38.274021", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:07:38.274051", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:07:38.274107", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:07:38.274159", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:07:38.274224", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:07:38.274251", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:07:38.274981", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:07:38.275022", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:07:38.277526", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:07:38.277562", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:07:38.277595", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:07:38.277622", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:07:38.277655", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:07:38.277681", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:07:38.277714", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:07:38.277738", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T03:07:38.279310", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T03:07:38.327327", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T03:07:38.330297", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T03:07:38.337243", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T03:07:38.338391", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T03:07:38.339011", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T03:07:38.339596", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T03:07:38.340496", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T03:07:38.341153", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T03:07:38.341996", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T03:07:38.342042", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T03:07:38.342467", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T03:07:38.342505", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T03:07:38.343524", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T03:07:38.343561", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T03:07:38.343705", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T03:07:38.343734", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T03:07:38.345643", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T03:07:38.345693", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T03:07:38.346794", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T03:08:10.562234", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "add3df53-109d-4e86-aac5-18cd56c9221b", "ip": "127.0.0.1", "path": "/docs", "method": "GET"}
{"timestamp": "2025-04-26T03:08:10.563209", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "add3df53-109d-4e86-aac5-18cd56c9221b", "path": "/docs", "method": "GET"}
{"timestamp": "2025-04-26T03:08:12.352778", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2bab7fa7-bfad-4248-9e33-0739c67f95a3", "ip": "127.0.0.1", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-04-26T03:08:12.425368", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2bab7fa7-bfad-4248-9e33-0739c67f95a3", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-04-26T03:29:27.826818", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "48339bd3-53fb-472f-80ff-813aff91032b", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T03:29:27.833643", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "48339bd3-53fb-472f-80ff-813aff91032b", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T03:29:31.175484", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0d53834b-cb4c-4108-aa00-6dcb817a3aa2", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T03:29:31.185378", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "0d53834b-cb4c-4108-aa00-6dcb817a3aa2", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T03:29:43.339569", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "33a2fa48-8f89-48b9-b14d-f9c8b4bb18a7", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T03:29:43.343814", "level": "ERROR", "message": "Error in generate_exam : PitchService.generate_interval_exam_concordance() missing 4 required positional arguments: 'play_mode', 'fix_mode_enabled', 'fix_mode', and 'fix_mode_val'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/exam_api.py\", line 47, in generate_exam\n    interval = await pitch_service.generate_interval_exam(exam_request.pitch_interval_setting, 5)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/pitch_service.py\", line 384, in generate_interval_exam\n    questions= self.generate_interval_exam_concordance(interval_ids, question_num)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: PitchService.generate_interval_exam_concordance() missing 4 required positional arguments: 'play_mode', 'fix_mode_enabled', 'fix_mode', and 'fix_mode_val'\n", "module": "exam_api", "function": "generate_exam", "line": 78}
{"timestamp": "2025-04-26T03:29:43.344652", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "33a2fa48-8f89-48b9-b14d-f9c8b4bb18a7", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T03:33:04.957722", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T03:33:07.782889", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T03:33:07.783028", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:33:07.783141", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:33:07.783213", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:33:07.783321", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:33:07.783385", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:33:07.783540", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:33:07.783625", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:33:07.783820", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:33:07.783890", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:33:07.785178", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:33:07.785245", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:33:07.798335", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:33:07.798440", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:33:07.798522", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:33:07.798589", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:33:07.798665", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:33:07.798732", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T03:33:07.798816", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T03:33:07.798895", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T03:33:07.807111", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T03:33:07.982447", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T03:33:07.993653", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T03:33:08.010248", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T03:33:08.013281", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T03:33:08.014781", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T03:33:08.016415", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T03:33:08.018902", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T03:33:08.020228", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T03:33:08.022793", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T03:33:08.022996", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T03:33:08.023892", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T03:33:08.024038", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T03:33:08.027268", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T03:33:08.027420", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T03:33:08.028340", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T03:33:08.028579", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T03:33:08.036344", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T03:33:08.036485", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T03:33:08.043535", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T03:33:13.081312", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "243faf9c-2b4c-4723-a767-f251e36af02d", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T03:33:13.099997", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "243faf9c-2b4c-4723-a767-f251e36af02d", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T03:33:19.507382", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "066dc5ab-f38e-41d6-8d9b-7b8043e1144f", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T03:34:12.318360", "level": "ERROR", "message": "Error in generate_exam : PitchService.generate_interval_exam_concordance() missing 4 required positional arguments: 'play_mode', 'fix_mode_enabled', 'fix_mode', and 'fix_mode_val'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/exam_api.py\", line 47, in generate_exam\n    interval = await pitch_service.generate_interval_exam(exam_request.pitch_interval_setting, 5)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/pitch_service.py\", line 384, in generate_interval_exam\n    questions= self.generate_interval_exam_concordance(interval_ids, question_num)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: PitchService.generate_interval_exam_concordance() missing 4 required positional arguments: 'play_mode', 'fix_mode_enabled', 'fix_mode', and 'fix_mode_val'\n", "module": "exam_api", "function": "generate_exam", "line": 78}
{"timestamp": "2025-04-26T03:34:12.339117", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "066dc5ab-f38e-41d6-8d9b-7b8043e1144f", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T03:42:41.842551", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:33:44.063660", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:33:44.063746", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:33:44.063809", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:33:44.063845", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:33:44.063895", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:33:44.063924", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:33:44.063980", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:33:44.064023", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:33:44.064089", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:33:44.064117", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:33:44.064831", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:33:44.064874", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:33:44.067380", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:33:44.067443", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:33:44.067479", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:33:44.067507", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:33:44.067541", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:33:44.067575", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:33:44.067609", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:33:44.067633", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:33:44.069309", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:33:44.118746", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:33:44.122387", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:33:44.129461", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:33:44.130561", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:33:44.131146", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:33:44.131660", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:33:44.132368", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:33:44.132885", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:33:44.133648", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:33:44.133693", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:33:44.134029", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:33:44.134063", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:33:44.134980", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:33:44.135020", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:33:44.135174", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:33:44.135203", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:33:44.137046", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:33:44.137094", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:33:44.138146", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:33:49.349721", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4792e509-adc8-4cac-83ff-c319a6a87fc9", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:33:49.353920", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "4792e509-adc8-4cac-83ff-c319a6a87fc9", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:33:51.271051", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "7dc1822c-bff4-40e6-800e-80b70bba04f3", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:33:51.274833", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "7dc1822c-bff4-40e6-800e-80b70bba04f3", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:35:55.991606", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "daa4adef-99b9-4c99-bdbc-aa5f0b9872b4", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:35:55.993599", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:35:55.993646", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:35:55.993680", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:35:55.993743", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:35:55.994363", "level": "ERROR", "message": "Error in generate_exam : 'coroutine' object has no attribute 'measures'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/exam_api.py\", line 58, in generate_exam\n    melody = await melody_service.generate_melody(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/gitdev/shengyibaodian/app/services/melody_service.py\", line 101, in generate_melody\n    for measure_group in rhythm.measures:\n                         ^^^^^^^^^^^^^^^\nAttributeError: 'coroutine' object has no attribute 'measures'\n", "module": "exam_api", "function": "generate_exam", "line": 78}
{"timestamp": "2025-04-26T04:35:55.994811", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "daa4adef-99b9-4c99-bdbc-aa5f0b9872b4", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:36:33.600627", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:36:34.790387", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:36:34.790474", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:36:34.790547", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:36:34.790587", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:36:34.790647", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:36:34.790678", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:36:34.790736", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:36:34.790813", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:36:34.790884", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:36:34.790915", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:36:34.791765", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:36:34.791814", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:36:34.794356", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:36:34.794398", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:36:34.794441", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:36:34.794476", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:36:34.794515", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:36:34.794543", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:36:34.794579", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:36:34.794606", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:36:34.798457", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:36:34.852587", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:36:34.861544", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:36:34.872212", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:36:34.874258", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:36:34.875314", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:36:34.876252", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:36:34.877601", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:36:34.878569", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:36:34.879989", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:36:34.880080", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:36:34.880653", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:36:34.880731", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:36:34.882371", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:36:34.882462", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:36:34.882734", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:36:34.882800", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:36:34.885506", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:36:34.885567", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:36:34.887158", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:36:39.391803", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4f846e1a-8d3c-44de-b049-140519f4d9b5", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:36:39.398068", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "4f846e1a-8d3c-44de-b049-140519f4d9b5", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:36:41.108848", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "8c37507b-6f17-473b-826e-118b6a691cbc", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:36:41.113192", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:36:41.113309", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:36:41.113382", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:36:41.113513", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:36:41.113611", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:36:41.113674", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:36:41.113736", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:36:41.113838", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:36:41.114805", "level": "ERROR", "message": "Error in generate_exam : ExamData.__init__() got an unexpected keyword argument 'rhythm'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/exam_api.py\", line 67, in generate_exam\n    exam = ExamData(\n           ^^^^^^^^^\nTypeError: ExamData.__init__() got an unexpected keyword argument 'rhythm'\n", "module": "exam_api", "function": "generate_exam", "line": 78}
{"timestamp": "2025-04-26T04:36:41.115609", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "8c37507b-6f17-473b-826e-118b6a691cbc", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:37:26.413879", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:37:27.539445", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:37:27.539536", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:37:27.539606", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:37:27.539666", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:37:27.539715", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:37:27.539745", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:37:27.539800", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:37:27.539846", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:37:27.539921", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:37:27.539951", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:37:27.540825", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:37:27.540872", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:37:27.543484", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:37:27.543526", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:37:27.543561", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:37:27.543589", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:37:27.543623", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:37:27.543651", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:37:27.543684", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:37:27.543709", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:37:27.545674", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:37:27.605618", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:37:27.609421", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:37:27.616487", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:37:27.617680", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:37:27.618386", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:37:27.618914", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:37:27.619670", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:37:27.620227", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:37:27.621019", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:37:27.621065", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:37:27.621406", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:37:27.621455", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:37:27.622500", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:37:27.622543", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:37:27.622696", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:37:27.622726", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:37:27.624586", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:37:27.624637", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:37:27.625731", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:37:32.241875", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "bff81fde-5abe-4112-9494-ca176fef9ac4", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:37:32.246138", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "bff81fde-5abe-4112-9494-ca176fef9ac4", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:37:34.194402", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4792aaf5-0946-4e92-b41e-015d44e4ba2e", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:37:34.197765", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:37:34.197820", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:37:34.197853", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:37:34.197913", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:37:34.197958", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:37:34.197993", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:37:34.198021", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:37:34.198070", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:37:34.203788", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n"}, "request_id": "4792aaf5-0946-4e92-b41e-015d44e4ba2e", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:40:08.431519", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:40:09.517199", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:40:09.517272", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:40:09.517337", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:40:09.517376", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:40:09.517428", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:40:09.517463", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:40:09.517521", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:40:09.517567", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:40:09.517634", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:40:09.517663", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:40:09.518500", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:40:09.518550", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:40:09.521053", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:40:09.521092", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:40:09.521126", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:40:09.521161", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:40:09.521193", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:40:09.521218", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:40:09.521249", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:40:09.521274", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:40:09.523027", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:40:09.576077", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:40:09.579869", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:40:09.586997", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:40:09.588116", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:40:09.588708", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:40:09.589237", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:40:09.589927", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:40:09.590469", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:40:09.591231", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:40:09.591273", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:40:09.591576", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:40:09.591611", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:40:09.592584", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:40:09.592622", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:40:09.592774", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:40:09.592803", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:40:09.595980", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:40:09.596048", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:40:09.598194", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:40:15.483978", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a36c7183-2504-451d-acfe-c3eb4c756596", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:40:15.491051", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a36c7183-2504-451d-acfe-c3eb4c756596", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:40:18.110464", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "6998f440-a8dc-48b7-8282-d5b87508ad37", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:40:18.114127", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:40:18.114217", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:40:18.114289", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:40:18.114405", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:40:18.114548", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:40:18.114609", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:40:18.114645", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:40:18.114705", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:40:18.117398", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n"}, "request_id": "6998f440-a8dc-48b7-8282-d5b87508ad37", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:41:14.275498", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:41:15.469062", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:41:15.469137", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:15.469202", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:15.469239", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:15.469299", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:15.469329", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:15.469384", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:15.469429", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:15.469499", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:15.469526", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:15.470343", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:15.470385", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:15.472824", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:15.472864", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:15.472898", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:15.472926", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:15.472959", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:15.472985", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:15.473018", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:15.473042", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:41:15.474827", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:41:15.525276", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:41:15.529180", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:41:15.536267", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:41:15.537410", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:41:15.537998", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:41:15.538530", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:41:15.539249", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:41:15.539798", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:41:15.540546", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:41:15.540590", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:41:15.540906", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:41:15.540938", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:41:15.541917", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:41:15.541956", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:41:15.542107", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:41:15.542136", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:41:15.543971", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:41:15.544020", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:41:15.545078", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:41:23.817851", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e6176af8-5514-459d-8790-a03929cd4852", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:41:23.823828", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e6176af8-5514-459d-8790-a03929cd4852", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:41:26.319195", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2f64b56e-d0b8-44e9-b32c-e2d022d042d9", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:41:26.323353", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:41:26.323477", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:41:26.323555", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:41:26.323676", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:41:26.323763", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:41:26.323827", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:41:26.323892", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:41:26.323991", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:41:26.328559", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n"}, "request_id": "2f64b56e-d0b8-44e9-b32c-e2d022d042d9", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:41:52.239619", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:41:53.393916", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:41:53.393993", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:53.394061", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:53.394099", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:53.394148", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:53.394179", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:53.394231", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:53.394274", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:53.394337", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:53.394365", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:53.395217", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:53.395263", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:53.397749", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:53.397793", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:53.397828", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:53.397854", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:53.397885", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:53.397910", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:41:53.397941", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:41:53.397964", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:41:53.399933", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:41:53.452338", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:41:53.456739", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:41:53.464029", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:41:53.465087", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:41:53.465679", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:41:53.466168", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:41:53.466857", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:41:53.467384", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:41:53.468134", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:41:53.468178", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:41:53.468511", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:41:53.468554", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:41:53.469538", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:41:53.469578", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:41:53.469736", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:41:53.469766", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:41:53.471620", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:41:53.471671", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:41:53.472755", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:41:57.495869", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5e8fa3dc-6ad0-475f-b2ff-3704f713937b", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:41:57.500877", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5e8fa3dc-6ad0-475f-b2ff-3704f713937b", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:41:59.383248", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b9903d46-94dc-4d35-810a-5ff3cc712a74", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:41:59.386568", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:41:59.386630", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:41:59.386671", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:41:59.386744", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:41:59.386795", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:41:59.386829", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:41:59.386865", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:41:59.386922", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:41:59.390335", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n"}, "request_id": "b9903d46-94dc-4d35-810a-5ff3cc712a74", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:43:12.087725", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:43:13.335856", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:43:13.335940", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:13.336010", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:13.336050", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:13.336102", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:13.336134", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:13.336191", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:13.336239", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:13.336308", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:13.336337", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:13.337252", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:13.337299", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:13.339857", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:13.339901", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:13.339936", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:13.339964", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:13.339999", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:13.340026", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:13.340067", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:13.340094", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:43:13.342165", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:43:13.409008", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:43:13.414986", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:43:13.422109", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:43:13.423182", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:43:13.423738", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:43:13.424278", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:43:13.425056", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:43:13.425701", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:43:13.426512", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:43:13.426556", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:43:13.426876", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:43:13.426911", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:43:13.427870", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:43:13.427908", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:43:13.428065", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:43:13.428094", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:43:13.429955", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:43:13.430009", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:43:13.431084", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:43:17.597124", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b351c6dc-4c84-49f4-8e5f-ecf4cf5a4eae", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:43:17.602221", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b351c6dc-4c84-49f4-8e5f-ecf4cf5a4eae", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:43:19.439558", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "8536930f-7952-4cc6-9841-3813475d4ce1", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:43:19.442604", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:43:19.442657", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:43:19.442693", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:43:19.442753", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:43:19.442795", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:43:19.442823", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:43:19.442853", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:43:19.442897", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:43:19.445550", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None, 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n"}, "request_id": "8536930f-7952-4cc6-9841-3813475d4ce1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:43:35.994848", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:43:37.138929", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:43:37.139005", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:37.139072", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:37.139112", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:37.139161", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:37.139192", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:37.139249", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:37.139293", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:37.139367", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:37.139396", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:37.140214", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:37.140257", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:37.142815", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:37.142855", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:37.142890", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:37.142918", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:37.142951", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:37.142976", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:43:37.143011", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:43:37.143036", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:43:37.144784", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:43:37.212140", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:43:37.216029", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:43:37.222320", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:43:37.224072", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:43:37.224701", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:43:37.225258", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:43:37.225961", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:43:37.226517", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:43:37.227242", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:43:37.227287", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:43:37.227598", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:43:37.227637", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:43:37.228575", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:43:37.228614", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:43:37.228769", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:43:37.228800", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:43:37.230631", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:43:37.230680", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:43:37.231773", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:43:43.569563", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a79e38e6-160a-40de-a199-b9b6870b21f0", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:43:43.573538", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "a79e38e6-160a-40de-a199-b9b6870b21f0", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:43:45.244764", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "ce768f48-93a3-428b-be5c-553ba3a14862", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:43:45.247576", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:43:45.247627", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:43:45.247662", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:43:45.247720", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:43:45.247763", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:43:45.247796", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:43:45.247824", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:43:45.247871", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:43:45.248401", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "ce768f48-93a3-428b-be5c-553ba3a14862", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:44:13.421816", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:44:14.607407", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:44:14.607513", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:14.607608", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:14.607651", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:14.607704", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:14.607735", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:14.607792", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:14.607840", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:14.607924", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:14.607953", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:14.608909", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:14.608954", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:14.611543", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:14.611594", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:14.611640", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:14.611671", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:14.611704", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:14.611731", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:14.611764", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:14.611791", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:44:14.613946", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:44:14.675080", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:44:14.678621", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:44:14.686141", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:44:14.687296", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:44:14.687912", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:44:14.688484", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:44:14.689206", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:44:14.689758", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:44:14.690556", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:44:14.690601", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:44:14.690935", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:44:14.690969", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:44:14.692017", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:44:14.692064", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:44:14.692229", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:44:14.692257", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:44:14.694208", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:44:14.694263", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:44:14.695409", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:44:18.367240", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "6d7b69e1-9050-4263-a191-2cc9045ce931", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:44:18.372135", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "6d7b69e1-9050-4263-a191-2cc9045ce931", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:44:19.940577", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b986382d-1880-448d-9153-26290450d339", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:44:19.943771", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:44:19.943829", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:44:19.943869", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:44:19.943932", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:44:19.943981", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:44:19.944011", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:44:19.944042", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:44:19.944093", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:44:19.944898", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b986382d-1880-448d-9153-26290450d339", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:44:38.053363", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:44:39.296371", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:44:39.296460", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:39.296542", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:39.296590", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:39.296659", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:39.296700", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:39.296772", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:39.296820", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:39.296890", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:39.296919", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:39.297864", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:39.297910", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:39.300453", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:39.300497", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:39.300532", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:39.300560", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:39.300594", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:39.300620", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:44:39.300654", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:44:39.300679", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:44:39.302810", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:44:39.360617", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:44:39.367218", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:44:39.378742", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:44:39.380617", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:44:39.381722", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:44:39.382692", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:44:39.383605", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:44:39.384212", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:44:39.385028", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:44:39.385079", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:44:39.385469", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:44:39.385505", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:44:39.386595", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:44:39.386635", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:44:39.386789", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:44:39.386818", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:44:39.388687", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:44:39.388734", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:44:39.389828", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:44:43.886393", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "69320255-2a3c-4526-90ed-da5510b9885e", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:44:43.890520", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "69320255-2a3c-4526-90ed-da5510b9885e", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:44:45.559928", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "a7d75d1b-3557-4d36-bf96-d2568c5aa2fe", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:44:45.563188", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:44:45.563243", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:44:45.563276", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:44:45.563342", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:44:45.563385", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:44:45.563412", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:44:45.563446", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:44:45.563494", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:44:45.566669", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "20 validation errors:\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 0, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=1, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef35ba50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 1, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=2, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef35bd50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 2, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=3, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef364050>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 3, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=4, pitches=[<app.models.pitch.Pitch object at 0x771fef364050>, <app.models.pitch.Pitch object at 0x771fef35bd50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 4, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=5, pitches=[<app.models.pitch.Pitch object at 0x771fef35ba50>, <app.models.pitch.Pitch object at 0x771fef364050>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 5, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=6, pitches=[<app.models.pitch.Pitch object at 0x771fef35bd50>, <app.models.pitch.Pitch object at 0x771fef364050>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 6, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=7, pitches=[<app.models.pitch.Pitch object at 0x771fef35bd50>, <app.models.pitch.Pitch object at 0x771fef364050>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 7, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=8, pitches=[<app.models.pitch.Pitch object at 0x771fef35bd50>, <app.models.pitch.Pitch object at 0x771fef35bb90>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 8, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=9, pitches=[<app.models.pitch.Pitch object at 0x771fef35ba50>, <app.models.pitch.Pitch object at 0x771fef35bb90>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 9, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=10, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef35bd50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 10, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=11, pitches=[<app.models.pitch.Pitch object at 0x771fef35bd50>, <app.models.pitch.Pitch object at 0x771fef35bd50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 11, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=12, pitches=[<app.models.pitch.Pitch object at 0x771fef35bb90>, <app.models.pitch.Pitch object at 0x771fef35ba50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 12, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=13, pitches=[<app.models.pitch.Pitch object at 0x771fef35ba50>, <app.models.pitch.Pitch object at 0x771fef35ba50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 13, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=14, pitches=[<app.models.pitch.Pitch object at 0x771fef35bb90>, <app.models.pitch.Pitch object at 0x771fef35be50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 14, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=15, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef35be50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 15, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=16, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef35ba50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 16, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=17, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef35ba50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 17, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=18, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef364050>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 18, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=19, pitches=[<app.models.pitch.Pitch object at 0x771fef35ba50>, <app.models.pitch.Pitch object at 0x771fef364050>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 19, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=20, pitches=[<app.models.pitch.Pitch object at 0x771fef364050>, <app.models.pitch.Pitch object at 0x771fef35ba50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 20 validation errors:\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 0, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=1, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef35ba50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 1, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=2, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef35bd50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 2, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=3, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef364050>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 3, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=4, pitches=[<app.models.pitch.Pitch object at 0x771fef364050>, <app.models.pitch.Pitch object at 0x771fef35bd50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 4, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=5, pitches=[<app.models.pitch.Pitch object at 0x771fef35ba50>, <app.models.pitch.Pitch object at 0x771fef364050>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 5, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=6, pitches=[<app.models.pitch.Pitch object at 0x771fef35bd50>, <app.models.pitch.Pitch object at 0x771fef364050>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 6, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=7, pitches=[<app.models.pitch.Pitch object at 0x771fef35bd50>, <app.models.pitch.Pitch object at 0x771fef364050>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 7, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=8, pitches=[<app.models.pitch.Pitch object at 0x771fef35bd50>, <app.models.pitch.Pitch object at 0x771fef35bb90>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 8, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=9, pitches=[<app.models.pitch.Pitch object at 0x771fef35ba50>, <app.models.pitch.Pitch object at 0x771fef35bb90>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 9, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=10, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef35bd50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 10, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=11, pitches=[<app.models.pitch.Pitch object at 0x771fef35bd50>, <app.models.pitch.Pitch object at 0x771fef35bd50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 11, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=12, pitches=[<app.models.pitch.Pitch object at 0x771fef35bb90>, <app.models.pitch.Pitch object at 0x771fef35ba50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 12, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=13, pitches=[<app.models.pitch.Pitch object at 0x771fef35ba50>, <app.models.pitch.Pitch object at 0x771fef35ba50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 13, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=14, pitches=[<app.models.pitch.Pitch object at 0x771fef35bb90>, <app.models.pitch.Pitch object at 0x771fef35be50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 14, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=15, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef35be50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 15, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=16, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef35ba50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 16, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=17, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef35ba50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 17, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=18, pitches=[<app.models.pitch.Pitch object at 0x771fef35be50>, <app.models.pitch.Pitch object at 0x771fef364050>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 18, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=19, pitches=[<app.models.pitch.Pitch object at 0x771fef35ba50>, <app.models.pitch.Pitch object at 0x771fef364050>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n  {'type': 'missing', 'loc': ('response', 'group', 'questions', 19, 'pitch'), 'msg': 'Field required', 'input': GroupQuestion(id=20, pitches=[<app.models.pitch.Pitch object at 0x771fef364050>, <app.models.pitch.Pitch object at 0x771fef35ba50>]), 'url': 'https://errors.pydantic.dev/2.10/v/missing'}\n"}, "request_id": "a7d75d1b-3557-4d36-bf96-d2568c5aa2fe", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:47:46.875491", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:47:48.060750", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:47:48.060825", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:47:48.060892", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:47:48.060931", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:47:48.060980", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:47:48.061011", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:47:48.061067", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:47:48.061112", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:47:48.061177", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:47:48.061205", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:47:48.062133", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:47:48.062181", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:47:48.064798", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:47:48.064854", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:47:48.064891", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:47:48.064920", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:47:48.064952", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:47:48.064979", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:47:48.065011", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:47:48.065036", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:47:48.067164", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:47:48.121990", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:47:48.125361", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:47:48.132177", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:47:48.133320", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:47:48.133899", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:47:48.134456", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:47:48.135182", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:47:48.135702", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:47:48.136466", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:47:48.136511", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:47:48.136830", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:47:48.136866", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:47:48.137846", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:47:48.137893", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:47:48.138051", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:47:48.138080", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:47:48.139980", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:47:48.140032", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:47:48.141069", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:47:52.513824", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "ca91e083-902e-41c5-befd-8ee2d5644c4a", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:47:52.517909", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "ca91e083-902e-41c5-befd-8ee2d5644c4a", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:47:55.176530", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "1ee15cc3-1d14-41ff-936f-98e2ab31d395", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:47:55.179617", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:47:55.179680", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:47:55.179722", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:47:55.179790", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:47:55.179840", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:47:55.179874", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:47:55.179910", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:47:55.179968", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:47:55.180837", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "1ee15cc3-1d14-41ff-936f-98e2ab31d395", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:49:37.011287", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:49:38.152629", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:49:38.152729", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:49:38.152802", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:49:38.152841", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:49:38.152894", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:49:38.152924", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:49:38.152983", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:49:38.153031", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:49:38.153098", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:49:38.153127", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:49:38.154480", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:49:38.154576", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:49:38.158691", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:49:38.158775", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:49:38.158857", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:49:38.158924", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:49:38.159001", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:49:38.159062", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:49:38.159137", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:49:38.159207", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:49:38.162351", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:49:38.215747", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:49:38.219591", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:49:38.226690", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:49:38.227855", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:49:38.228451", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:49:38.228977", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:49:38.229670", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:49:38.230193", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:49:38.230907", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:49:38.230953", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:49:38.231278", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:49:38.231311", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:49:38.232253", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:49:38.232294", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:49:38.232454", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:49:38.232483", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:49:38.234302", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:49:38.234351", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:49:38.235454", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:49:42.235358", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b7c004d0-e66c-4e17-ae05-b36c30b7d716", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:49:42.241119", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b7c004d0-e66c-4e17-ae05-b36c30b7d716", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:49:44.238724", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "ac6cff3e-563f-4129-b23f-03b2e8241b91", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:49:44.243455", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:49:44.243598", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:49:44.243708", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:49:44.243877", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:49:44.244001", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:49:44.244095", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:49:44.244196", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:49:44.244340", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:49:44.246083", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "ac6cff3e-563f-4129-b23f-03b2e8241b91", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:50:05.913414", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:50:06.966812", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:50:06.966881", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:50:06.966945", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:50:06.966983", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:50:06.967032", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:50:06.967061", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:50:06.967116", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:50:06.967160", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:50:06.967230", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:50:06.967258", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:50:06.968057", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:50:06.968099", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:50:06.970562", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:50:06.970604", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:50:06.970638", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:50:06.970665", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:50:06.970698", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:50:06.970724", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:50:06.970755", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:50:06.970779", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:50:06.972559", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:50:07.032517", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:50:07.038386", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:50:07.048507", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:50:07.049595", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:50:07.050254", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:50:07.050916", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:50:07.051678", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:50:07.052216", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:50:07.052976", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:50:07.053023", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:50:07.053400", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:50:07.053435", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:50:07.054516", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:50:07.054574", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:50:07.054832", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:50:07.054866", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:50:07.056746", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:50:07.056795", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:50:07.057854", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:50:13.397529", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "7170919f-b10a-4ee0-98da-39320ac4c495", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:50:13.401634", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "7170919f-b10a-4ee0-98da-39320ac4c495", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:50:15.376222", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "941949f3-edc9-423e-9713-4471c9ac3d73", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:50:15.379309", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:50:15.379371", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:50:15.379408", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:50:15.379474", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:50:15.379518", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:50:15.379554", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:50:15.379585", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:50:15.379637", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:50:15.380699", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "941949f3-edc9-423e-9713-4471c9ac3d73", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:51:19.842181", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:51:20.958474", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:51:20.958549", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:51:20.958618", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:51:20.958656", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:51:20.958707", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:51:20.958737", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:51:20.958793", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:51:20.958837", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:51:20.958902", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:51:20.958931", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:51:20.959774", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:51:20.959823", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:51:20.962495", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:51:20.962541", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:51:20.962586", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:51:20.962618", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:51:20.962652", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:51:20.962678", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:51:20.962712", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:51:20.962737", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:51:20.964634", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:51:21.020868", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:51:21.024642", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:51:21.031707", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:51:21.032899", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:51:21.033505", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:51:21.034044", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:51:21.034744", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:51:21.035300", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:51:21.036072", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:51:21.036116", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:51:21.036475", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:51:21.036512", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:51:21.037488", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:51:21.037527", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:51:21.037689", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:51:21.037717", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:51:21.039579", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:51:21.039630", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:51:21.040698", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:51:24.548271", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "6cdd9abd-ac88-4413-8db9-8d6321d29735", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:51:24.553150", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "6cdd9abd-ac88-4413-8db9-8d6321d29735", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:51:26.008538", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0da6b2b2-57e4-4c9a-b590-e02bdd21d411", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:51:26.011849", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:51:26.011909", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:51:26.011943", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:51:26.012002", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:51:26.012046", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:51:26.012073", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:51:26.012104", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:51:26.012150", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:51:26.013093", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "0da6b2b2-57e4-4c9a-b590-e02bdd21d411", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:52:07.867594", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:52:09.012804", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:52:09.012878", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:52:09.012956", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:52:09.012996", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:52:09.013051", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:52:09.013081", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:52:09.013136", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:52:09.013180", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:52:09.013246", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:52:09.013274", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:52:09.014158", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:52:09.014204", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:52:09.016705", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:52:09.016745", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:52:09.016781", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:52:09.016809", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:52:09.016843", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:52:09.016870", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:52:09.016902", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:52:09.016928", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:52:09.018842", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:52:09.072577", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:52:09.078814", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:52:09.091302", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:52:09.092965", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:52:09.094026", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:52:09.094973", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:52:09.096308", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:52:09.097256", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:52:09.098656", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:52:09.098754", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:52:09.099397", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:52:09.099483", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:52:09.101155", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:52:09.101240", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:52:09.101508", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:52:09.101571", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:52:09.104754", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:52:09.104817", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:52:09.106859", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:52:14.035742", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "351c7410-9326-4371-ab23-4f27f581bf3c", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:52:14.040903", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "351c7410-9326-4371-ab23-4f27f581bf3c", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:52:16.671946", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "3df64df8-e5f3-4320-a7cf-d0886ec8b1d6", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:52:16.676169", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:52:16.676273", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:52:16.676353", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:52:16.676477", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:52:16.676567", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:52:16.676680", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:52:16.676744", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:52:16.676806", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:52:16.680073", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "5 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 0, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x7b7a291c0c50>, <app.models.pitch.Pitch object at 0x7b7a291c10d0>, <app.models.pitch.Pitch object at 0x7b7a291c1490>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 1, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x7b7a291c0750>, <app.models.pitch.Pitch object at 0x7b7a291c0b50>, <app.models.pitch.Pitch object at 0x7b7a291c0e50>, <app.models.pitch.Pitch object at 0x7b7a291c1210>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 2, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x7b7a291c0550>, <app.models.pitch.Pitch object at 0x7b7a291c0950>, <app.models.pitch.Pitch object at 0x7b7a291c0c50>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 3, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x7b7a291c2110>, <app.models.pitch.Pitch object at 0x7b7a291c24d0>, <app.models.pitch.Pitch object at 0x7b7a291c29d0>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 4, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x7b7a291b2490>, <app.models.pitch.Pitch object at 0x7b7a291b2450>, <app.models.pitch.Pitch object at 0x7b7a291b2b10>, <app.models.pitch.Pitch object at 0x7b7a291b2f10>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 5 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 0, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x7b7a291c0c50>, <app.models.pitch.Pitch object at 0x7b7a291c10d0>, <app.models.pitch.Pitch object at 0x7b7a291c1490>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 1, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x7b7a291c0750>, <app.models.pitch.Pitch object at 0x7b7a291c0b50>, <app.models.pitch.Pitch object at 0x7b7a291c0e50>, <app.models.pitch.Pitch object at 0x7b7a291c1210>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 2, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x7b7a291c0550>, <app.models.pitch.Pitch object at 0x7b7a291c0950>, <app.models.pitch.Pitch object at 0x7b7a291c0c50>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 3, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x7b7a291c2110>, <app.models.pitch.Pitch object at 0x7b7a291c24d0>, <app.models.pitch.Pitch object at 0x7b7a291c29d0>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 4, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x7b7a291b2490>, <app.models.pitch.Pitch object at 0x7b7a291b2450>, <app.models.pitch.Pitch object at 0x7b7a291b2b10>, <app.models.pitch.Pitch object at 0x7b7a291b2f10>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n"}, "request_id": "3df64df8-e5f3-4320-a7cf-d0886ec8b1d6", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:53:30.614892", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:53:31.817750", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:53:31.817822", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:53:31.817916", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:53:31.817956", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:53:31.818006", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:53:31.818038", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:53:31.818094", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:53:31.818138", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:53:31.818203", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:53:31.818231", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:53:31.819077", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:53:31.819128", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:53:31.821702", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:53:31.821741", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:53:31.821779", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:53:31.821807", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:53:31.821841", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:53:31.821868", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:53:31.821902", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:53:31.821927", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:53:31.823707", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:53:31.886220", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:53:31.894275", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:53:31.902800", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:53:31.904564", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:53:31.905402", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:53:31.906330", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:53:31.907479", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:53:31.908396", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:53:31.909496", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:53:31.909582", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:53:31.910137", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:53:31.910211", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:53:31.911759", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:53:31.911860", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:53:31.912084", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:53:31.912138", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:53:31.915293", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:53:31.915391", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:53:31.917320", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:53:35.498022", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "518e0bf1-505d-4646-8c3a-aaed9589d64d", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:53:35.502599", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "518e0bf1-505d-4646-8c3a-aaed9589d64d", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:53:37.110493", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "ef0e4383-3756-419f-9b0b-6d9a599accb8", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:53:37.113511", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:53:37.113559", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:53:37.113593", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:53:37.113651", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:53:37.113694", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:53:37.113722", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:53:37.113752", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:53:37.113801", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:53:37.117042", "level": "ERROR", "message": "Request failed", "module": "logging", "function": "dispatch", "line": 57, "exception": {"type": "ResponseValidationError", "message": "5 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 0, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x722c6733bed0>, <app.models.pitch.Pitch object at 0x722c6734c310>, <app.models.pitch.Pitch object at 0x722c6734c710>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 1, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x722c6733b8d0>, <app.models.pitch.Pitch object at 0x722c6733bcd0>, <app.models.pitch.Pitch object at 0x722c6733bfd0>, <app.models.pitch.Pitch object at 0x722c6734c310>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 2, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x722c6734c110>, <app.models.pitch.Pitch object at 0x722c6734c410>, <app.models.pitch.Pitch object at 0x722c6734c810>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 3, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x722c6734c610>, <app.models.pitch.Pitch object at 0x722c6734ca10>, <app.models.pitch.Pitch object at 0x722c6734cd10>, <app.models.pitch.Pitch object at 0x722c6734d150>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 4, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x722c6734c510>, <app.models.pitch.Pitch object at 0x722c6734c910>, <app.models.pitch.Pitch object at 0x722c6734cc10>, <app.models.pitch.Pitch object at 0x722c6734d010>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/middleware/logging.py\", line 34, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 292, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/yu/dev/anaconda3/envs/shengyibaodian/lib/python3.11/site-packages/fastapi/routing.py\", line 155, in serialize_response\n    raise ResponseValidationError(\nfastapi.exceptions.ResponseValidationError: 5 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 0, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x722c6733bed0>, <app.models.pitch.Pitch object at 0x722c6734c310>, <app.models.pitch.Pitch object at 0x722c6734c710>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 1, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x722c6733b8d0>, <app.models.pitch.Pitch object at 0x722c6733bcd0>, <app.models.pitch.Pitch object at 0x722c6733bfd0>, <app.models.pitch.Pitch object at 0x722c6734c310>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 2, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x722c6734c110>, <app.models.pitch.Pitch object at 0x722c6734c410>, <app.models.pitch.Pitch object at 0x722c6734c810>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 3, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x722c6734c610>, <app.models.pitch.Pitch object at 0x722c6734ca10>, <app.models.pitch.Pitch object at 0x722c6734cd10>, <app.models.pitch.Pitch object at 0x722c6734d150>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n  {'type': 'model_attributes_type', 'loc': ('response', 'chord', 'questions', 4, 'question'), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [<app.models.pitch.Pitch object at 0x722c6734c510>, <app.models.pitch.Pitch object at 0x722c6734c910>, <app.models.pitch.Pitch object at 0x722c6734cc10>, <app.models.pitch.Pitch object at 0x722c6734d010>], 'url': 'https://errors.pydantic.dev/2.10/v/model_attributes_type'}\n"}, "request_id": "ef0e4383-3756-419f-9b0b-6d9a599accb8", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:55:05.556612", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:55:06.760008", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:55:06.760082", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:06.760149", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:06.760188", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:06.760239", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:06.760271", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:06.760328", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:06.760373", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:06.760443", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:06.760474", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:06.761344", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:06.761389", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:06.763961", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:06.764006", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:06.764041", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:06.764070", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:06.764103", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:06.764129", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:06.764170", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:06.764196", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:55:06.766197", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:55:06.820523", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:55:06.824447", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:55:06.831560", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:55:06.832647", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:55:06.833234", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:55:06.833833", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:55:06.834584", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:55:06.835186", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:55:06.836009", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:55:06.836059", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:55:06.836422", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:55:06.836460", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:55:06.837479", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:55:06.837521", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:55:06.837678", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:55:06.837707", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:55:06.839575", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:55:06.839624", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:55:06.840720", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:55:10.099500", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b4fb754b-8f35-4499-8cff-0845e6860751", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:55:10.104373", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b4fb754b-8f35-4499-8cff-0845e6860751", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:55:11.538150", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b48ad430-8979-4317-bf63-43aae5a6064f", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:55:11.541652", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:55:11.541703", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:55:11.541739", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:55:11.541796", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:55:11.541839", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:55:11.541867", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:55:11.541897", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:55:11.541944", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:55:11.542911", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b48ad430-8979-4317-bf63-43aae5a6064f", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:55:31.614839", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:55:32.768201", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:55:32.768274", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:32.768341", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:32.768379", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:32.768431", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:32.768467", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:32.768526", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:32.768585", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:32.768653", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:32.768681", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:32.769569", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:32.769615", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:32.772163", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:32.772208", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:32.772243", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:32.772272", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:32.772306", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:32.772331", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:55:32.772365", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:55:32.772391", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:55:32.774394", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:55:32.842332", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:55:32.850502", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:55:32.862676", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:55:32.864561", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:55:32.865549", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:55:32.866225", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:55:32.866934", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:55:32.867451", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:55:32.868236", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:55:32.868280", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:55:32.868667", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:55:32.868705", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:55:32.869763", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:55:32.869801", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:55:32.869951", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:55:32.869979", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:55:32.871808", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:55:32.871856", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:55:32.872936", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:55:35.939551", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f0f88080-ab46-46db-ae2d-1e6f955a2fde", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:55:35.946508", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f0f88080-ab46-46db-ae2d-1e6f955a2fde", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:55:37.734612", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "d92d1b91-cf68-4916-aaeb-28f70938e30d", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:55:37.738018", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:55:37.738097", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:55:37.738147", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:55:37.738228", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:55:37.738295", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:55:37.738335", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:55:37.738378", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:55:37.738455", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:55:37.740084", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "d92d1b91-cf68-4916-aaeb-28f70938e30d", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:56:20.301897", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-26T04:56:21.476544", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-26T04:56:21.476640", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:56:21.476708", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:56:21.476749", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:56:21.476800", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:56:21.476830", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:56:21.476886", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:56:21.476932", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:56:21.477000", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:56:21.477031", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:56:21.477833", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:56:21.477878", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:56:21.480410", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:56:21.480460", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:56:21.480495", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:56:21.480523", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:56:21.480557", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:56:21.480582", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-26T04:56:21.480615", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-26T04:56:21.480640", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-26T04:56:21.482429", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-26T04:56:21.536093", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-26T04:56:21.539655", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-26T04:56:21.546759", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-26T04:56:21.547957", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-26T04:56:21.548580", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-26T04:56:21.549096", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-26T04:56:21.549826", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-26T04:56:21.550325", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-26T04:56:21.551080", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-26T04:56:21.551124", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-26T04:56:21.551455", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-26T04:56:21.551491", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-26T04:56:21.552419", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-26T04:56:21.552472", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-26T04:56:21.552622", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-26T04:56:21.552650", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-26T04:56:21.554539", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-26T04:56:21.554588", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-26T04:56:21.555678", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-26T04:56:28.727858", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "6f0af95c-72f9-4078-adc8-6a44f0977c3a", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:56:28.734109", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "6f0af95c-72f9-4078-adc8-6a44f0977c3a", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-04-26T04:56:30.527067", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5e097042-c9aa-4bc9-9c96-b076dd34375c", "ip": "127.0.0.1", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:56:30.529693", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:56:30.529744", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:56:30.529778", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:56:30.529837", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:56:30.529882", "level": "INFO", "message": "Generating rhythm with difficulty=RhythmDifficulty.LOW, time_signature=TimeSignature.TWO_FOUR, measures_count=4", "module": "rhythm_service", "function": "generate_rhythm", "line": 251}
{"timestamp": "2025-04-26T04:56:30.529909", "level": "INFO", "message": "Selected 5 patterns for the given parameters", "module": "rhythm_service", "function": "generate_rhythm", "line": 255}
{"timestamp": "2025-04-26T04:56:30.529939", "level": "INFO", "message": "Selected 4 patterns for measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 271}
{"timestamp": "2025-04-26T04:56:30.529987", "level": "INFO", "message": "Successfully created rhythm measures", "module": "rhythm_service", "function": "generate_rhythm", "line": 281}
{"timestamp": "2025-04-26T04:56:30.531119", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5e097042-c9aa-4bc9-9c96-b076dd34375c", "path": "/api/v1/exam", "method": "POST"}
{"timestamp": "2025-04-26T04:59:30.118734", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-04-27T10:03:20.776170", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-04-27T10:03:20.776881", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-27T10:03:20.776967", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-27T10:03:20.777008", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-27T10:03:20.777059", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-27T10:03:20.777088", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-27T10:03:20.777143", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-27T10:03:20.777189", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-27T10:03:20.777254", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-27T10:03:20.777281", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-27T10:03:20.778375", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-27T10:03:20.778420", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-27T10:03:20.781840", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-27T10:03:20.781914", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-27T10:03:20.781967", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-27T10:03:20.781998", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-27T10:03:20.782041", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-27T10:03:20.782082", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-04-27T10:03:20.782132", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-04-27T10:03:20.782172", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-04-27T10:03:20.786558", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-04-27T10:03:20.948693", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-04-27T10:03:20.954514", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-04-27T10:03:20.966360", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-04-27T10:03:20.969807", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-04-27T10:03:20.971333", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-04-27T10:03:20.972938", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-04-27T10:03:20.974620", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-04-27T10:03:20.976531", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-04-27T10:03:20.978343", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-04-27T10:03:20.978397", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-04-27T10:03:20.978869", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-04-27T10:03:20.978912", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-04-27T10:03:20.980159", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-04-27T10:03:20.980200", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-04-27T10:03:20.980353", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-04-27T10:03:20.980379", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-04-27T10:03:20.982475", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-04-27T10:03:20.982530", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-04-27T10:03:20.983816", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-04-27T10:03:50.276368", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "1ac9c6fc-d04b-4653-a994-cac7f69c4d0a", "ip": "127.0.0.1", "path": "/docs", "method": "GET"}
{"timestamp": "2025-04-27T10:03:50.277591", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "1ac9c6fc-d04b-4653-a994-cac7f69c4d0a", "path": "/docs", "method": "GET"}
{"timestamp": "2025-04-27T10:03:50.452600", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "c39361b4-124d-4cf9-a875-25c7a52c2765", "ip": "127.0.0.1", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-04-27T10:03:50.537289", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "c39361b4-124d-4cf9-a875-25c7a52c2765", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-04-27T10:03:55.640177", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e9cf832f-0fe6-4693-9b60-b14121f93693", "ip": "127.0.0.1", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-04-27T10:03:55.641394", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e9cf832f-0fe6-4693-9b60-b14121f93693", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-04-27T10:03:55.679690", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b563d255-6a97-4ede-ab56-1b2a7f817cf0", "ip": "127.0.0.1", "path": "/favicon.ico", "method": "GET"}
{"timestamp": "2025-04-27T10:03:55.680219", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b563d255-6a97-4ede-ab56-1b2a7f817cf0", "path": "/favicon.ico", "method": "GET"}
{"timestamp": "2025-04-27T10:04:21.547068", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "8b59f1a0-8429-4300-a249-548a0c4af58b", "ip": "127.0.0.1", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-04-27T10:04:21.548415", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "8b59f1a0-8429-4300-a249-548a0c4af58b", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-04-27T10:07:28.275597", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-05-15T07:07:48.916503", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-05-15T07:07:48.916573", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:07:48.916640", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:07:48.916678", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:07:48.916744", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:07:48.916787", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:07:48.916862", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:07:48.916914", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:07:48.916989", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:07:48.917018", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:07:48.917817", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:07:48.917858", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:07:48.920263", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:07:48.920301", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:07:48.920334", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:07:48.920362", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:07:48.920394", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:07:48.920420", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:07:48.920451", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:07:48.920475", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-05-15T07:07:48.922904", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-05-15T07:07:49.095014", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-05-15T07:07:49.098352", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-05-15T07:07:49.107959", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-05-15T07:07:49.110835", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-05-15T07:07:49.111919", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-05-15T07:07:49.113155", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-05-15T07:07:49.114377", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-05-15T07:07:49.115894", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-05-15T07:07:49.117126", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-05-15T07:07:49.117178", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-05-15T07:07:49.117591", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-05-15T07:07:49.117626", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-05-15T07:07:49.118668", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-05-15T07:07:49.118706", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-05-15T07:07:49.118865", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-05-15T07:07:49.118895", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-05-15T07:07:49.120772", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-05-15T07:07:49.120825", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-05-15T07:07:49.121979", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-05-15T07:07:58.119543", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "00a2ccb7-c9a3-4f85-b60d-6e501429b575", "ip": "127.0.0.1", "path": "/", "method": "GET"}
{"timestamp": "2025-05-15T07:07:58.120215", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "00a2ccb7-c9a3-4f85-b60d-6e501429b575", "path": "/", "method": "GET"}
{"timestamp": "2025-05-15T07:07:58.147567", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "6e086e94-68f2-48e9-8e46-4a28bc2842fd", "ip": "127.0.0.1", "path": "/favicon.ico", "method": "GET"}
{"timestamp": "2025-05-15T07:07:58.148094", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "6e086e94-68f2-48e9-8e46-4a28bc2842fd", "path": "/favicon.ico", "method": "GET"}
{"timestamp": "2025-05-15T07:11:58.972544", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f556bc43-ec7e-403b-bb80-30364747636f", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-05-15T07:11:58.986498", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f556bc43-ec7e-403b-bb80-30364747636f", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-05-15T07:17:17.301046", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "3c635438-f7e0-439d-ad0d-d89ccf630bd2", "ip": "127.0.0.1", "path": "/docs", "method": "GET"}
{"timestamp": "2025-05-15T07:17:17.302224", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "3c635438-f7e0-439d-ad0d-d89ccf630bd2", "path": "/docs", "method": "GET"}
{"timestamp": "2025-05-15T07:18:01.475318", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0eb34fb3-d04c-47e3-a13a-2b01f51b4c71", "ip": "127.0.0.1", "path": "/doc", "method": "GET"}
{"timestamp": "2025-05-15T07:18:01.476232", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "0eb34fb3-d04c-47e3-a13a-2b01f51b4c71", "path": "/doc", "method": "GET"}
{"timestamp": "2025-05-15T07:18:06.134698", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "21dbf0f6-9edb-4e2a-9ae5-59fd1dd01df4", "ip": "127.0.0.1", "path": "/docs", "method": "GET"}
{"timestamp": "2025-05-15T07:18:06.137707", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "21dbf0f6-9edb-4e2a-9ae5-59fd1dd01df4", "path": "/docs", "method": "GET"}
{"timestamp": "2025-05-15T07:18:29.844078", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-05-15T07:18:36.283671", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-05-15T07:18:36.283792", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:18:36.283902", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:18:36.283969", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:18:36.284080", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:18:36.284146", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:18:36.284299", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:18:36.284375", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:18:36.284579", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:18:36.284646", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:18:36.286062", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:18:36.286142", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:18:36.299397", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:18:36.299493", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:18:36.299571", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:18:36.299637", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:18:36.299711", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:18:36.299781", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:18:36.299857", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:18:36.299923", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-05-15T07:18:36.306946", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-05-15T07:18:36.493585", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-05-15T07:18:36.499214", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-05-15T07:18:36.515441", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-05-15T07:18:36.517677", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-05-15T07:18:36.518992", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-05-15T07:18:36.520070", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-05-15T07:18:36.521657", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-05-15T07:18:36.522645", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-05-15T07:18:36.524226", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-05-15T07:18:36.524323", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-05-15T07:18:36.524839", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-05-15T07:18:36.524911", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-05-15T07:18:36.526805", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-05-15T07:18:36.526893", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-05-15T07:18:36.527517", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-05-15T07:18:36.527589", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-05-15T07:18:36.534455", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-05-15T07:18:36.534593", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-05-15T07:18:36.539003", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-05-15T07:18:45.272191", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "3856951e-4fb8-4d68-889e-18f790b15cb4", "ip": "127.0.0.1", "path": "/", "method": "GET"}
{"timestamp": "2025-05-15T07:18:45.277120", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "3856951e-4fb8-4d68-889e-18f790b15cb4", "path": "/", "method": "GET"}
{"timestamp": "2025-05-15T07:18:50.751872", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "ce03074a-55dc-4266-b08b-7f29bf680abb", "ip": "127.0.0.1", "path": "/docs", "method": "GET"}
{"timestamp": "2025-05-15T07:18:50.753888", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "ce03074a-55dc-4266-b08b-7f29bf680abb", "path": "/docs", "method": "GET"}
{"timestamp": "2025-05-15T07:19:56.472608", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-05-15T07:20:46.045232", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-05-15T07:20:46.045301", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:20:46.045364", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:20:46.045400", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:20:46.045447", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:20:46.045478", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:20:46.045532", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:20:46.045576", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:20:46.045641", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:20:46.045677", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:20:46.046396", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:20:46.046438", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:20:46.048821", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:20:46.048859", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:20:46.048894", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:20:46.048921", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:20:46.048955", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:20:46.048981", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:20:46.049013", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:20:46.049038", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-05-15T07:20:46.050612", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-05-15T07:20:46.099461", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-05-15T07:20:46.102715", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-05-15T07:20:46.109012", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-05-15T07:20:46.110065", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-05-15T07:20:46.110643", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-05-15T07:20:46.111218", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-05-15T07:20:46.112030", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-05-15T07:20:46.112763", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-05-15T07:20:46.113637", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-05-15T07:20:46.113685", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-05-15T07:20:46.114042", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-05-15T07:20:46.114082", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-05-15T07:20:46.115556", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-05-15T07:20:46.115652", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-05-15T07:20:46.115928", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-05-15T07:20:46.115997", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-05-15T07:20:46.118724", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-05-15T07:20:46.118785", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-05-15T07:20:46.120389", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-05-15T07:21:03.548244", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "7ea8c05b-01e6-4d33-8995-9d284ed8b1f8", "ip": "127.0.0.1", "path": "/", "method": "GET"}
{"timestamp": "2025-05-15T07:21:03.548640", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "7ea8c05b-01e6-4d33-8995-9d284ed8b1f8", "path": "/", "method": "GET"}
{"timestamp": "2025-05-15T07:21:13.583803", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "645716de-5ca2-4629-adcf-1e63680b85a5", "ip": "127.0.0.1", "path": "/docs", "method": "GET"}
{"timestamp": "2025-05-15T07:21:13.584390", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "645716de-5ca2-4629-adcf-1e63680b85a5", "path": "/docs", "method": "GET"}
{"timestamp": "2025-05-15T07:21:15.015832", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "81b5e393-895f-4dbc-8de0-36b75a1ef9b3", "ip": "127.0.0.1", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-05-15T07:21:15.093945", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "81b5e393-895f-4dbc-8de0-36b75a1ef9b3", "path": "/api/v1/openapi.json", "method": "GET"}
{"timestamp": "2025-05-15T07:24:08.403158", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "24cc87f6-68b7-4682-9456-a3ae8dfb5385", "ip": "127.0.0.1", "path": "/api/v1/vip", "method": "GET"}
{"timestamp": "2025-05-15T07:24:08.405146", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "24cc87f6-68b7-4682-9456-a3ae8dfb5385", "path": "/api/v1/vip", "method": "GET"}
{"timestamp": "2025-05-15T07:24:13.860922", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "40608707-5b3e-4af3-87cb-16d585c0aed2", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-05-15T07:24:13.864233", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "40608707-5b3e-4af3-87cb-16d585c0aed2", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-05-15T07:24:16.206641", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "0318202d-1b31-44a0-9ba0-2680284efa77", "ip": "127.0.0.1", "path": "/api/v1/vip", "method": "GET"}
{"timestamp": "2025-05-15T07:24:16.210424", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "0318202d-1b31-44a0-9ba0-2680284efa77", "path": "/api/v1/vip", "method": "GET"}
{"timestamp": "2025-05-15T07:39:11.364268", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "8d240457-0e52-4fbb-a42c-85c91b7609e1", "ip": "127.0.0.1", "path": "/api/v1/vip/1", "method": "GET"}
{"timestamp": "2025-05-15T07:39:11.366367", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "8d240457-0e52-4fbb-a42c-85c91b7609e1", "path": "/api/v1/vip/1", "method": "GET"}
{"timestamp": "2025-05-15T07:39:15.473107", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "4fddb8a6-7068-46a6-8620-3d48184bd683", "ip": "127.0.0.1", "path": "/api/v1/vip/2", "method": "GET"}
{"timestamp": "2025-05-15T07:39:15.475311", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "4fddb8a6-7068-46a6-8620-3d48184bd683", "path": "/api/v1/vip/2", "method": "GET"}
{"timestamp": "2025-05-15T07:39:18.014468", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "af753efc-4496-4214-9702-75ce646ba38c", "ip": "127.0.0.1", "path": "/api/v1/vip/3", "method": "GET"}
{"timestamp": "2025-05-15T07:39:18.016771", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "af753efc-4496-4214-9702-75ce646ba38c", "path": "/api/v1/vip/3", "method": "GET"}
{"timestamp": "2025-05-15T07:39:20.181836", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "b091f053-a960-490a-ba76-d4600b5da8d7", "ip": "127.0.0.1", "path": "/api/v1/vip/4", "method": "GET"}
{"timestamp": "2025-05-15T07:39:20.183635", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "b091f053-a960-490a-ba76-d4600b5da8d7", "path": "/api/v1/vip/4", "method": "GET"}
{"timestamp": "2025-05-15T07:47:39.621522", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2c9ff326-0485-4abf-b607-f65fe7a14cff", "ip": "127.0.0.1", "path": "/api/v1/vip/4", "method": "GET"}
{"timestamp": "2025-05-15T07:47:39.623292", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2c9ff326-0485-4abf-b607-f65fe7a14cff", "path": "/api/v1/vip/4", "method": "GET"}
{"timestamp": "2025-05-15T07:49:38.977279", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "413e2866-0d42-4d83-bbe2-859167854f20", "ip": "127.0.0.1", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T07:49:38.979834", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "413e2866-0d42-4d83-bbe2-859167854f20", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T07:51:16.699758", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "25c37325-9e97-4900-a2ac-f3bcafea66a5", "ip": "127.0.0.1", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T07:51:16.701644", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "25c37325-9e97-4900-a2ac-f3bcafea66a5", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T07:51:28.645782", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "f9171760-64eb-4039-a319-3d375cdfc62d", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-05-15T07:51:28.647415", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "f9171760-64eb-4039-a319-3d375cdfc62d", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-05-15T07:51:31.284563", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "afb45897-7b5d-4a15-8996-57c50fb95cb4", "ip": "127.0.0.1", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T07:51:31.286423", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "afb45897-7b5d-4a15-8996-57c50fb95cb4", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T07:54:01.888541", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-05-15T07:54:03.175130", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-05-15T07:54:03.175223", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:54:03.175339", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:54:03.175397", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:54:03.175454", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:54:03.175487", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:54:03.175546", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:54:03.175594", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:54:03.175662", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:54:03.175692", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:54:03.176497", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:54:03.176543", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:54:03.179055", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:54:03.179097", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:54:03.179134", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:54:03.179163", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:54:03.179198", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:54:03.179224", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T07:54:03.179259", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T07:54:03.179287", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-05-15T07:54:03.181066", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-05-15T07:54:03.242950", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-05-15T07:54:03.250603", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-05-15T07:54:03.261049", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-05-15T07:54:03.262833", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-05-15T07:54:03.263813", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-05-15T07:54:03.264760", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-05-15T07:54:03.266027", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-05-15T07:54:03.266974", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-05-15T07:54:03.268359", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-05-15T07:54:03.268455", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-05-15T07:54:03.269020", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-05-15T07:54:03.269110", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-05-15T07:54:03.270657", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-05-15T07:54:03.270747", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-05-15T07:54:03.271016", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-05-15T07:54:03.271082", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-05-15T07:54:03.274092", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-05-15T07:54:03.274153", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-05-15T07:54:03.275512", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-05-15T07:54:09.647508", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "dc851cf6-f12f-4ce4-a5b7-b78f80aec5e5", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-05-15T07:54:09.654173", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "dc851cf6-f12f-4ce4-a5b7-b78f80aec5e5", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-05-15T07:54:12.347835", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "5e55ac1f-4cb7-4e0d-967b-e7aef955b156", "ip": "127.0.0.1", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T07:54:12.351287", "level": "ERROR", "message": "Error in update_vip for id 2: VipService.update_vip() got an unexpected keyword argument 'describe'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/vip_api.py\", line 177, in update_vip\n    updated_vip = await vip_service.update_vip(db, vip_id, **update_data)\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: VipService.update_vip() got an unexpected keyword argument 'describe'\n", "module": "vip_api", "function": "update_vip", "line": 188}
{"timestamp": "2025-05-15T07:54:12.351842", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "5e55ac1f-4cb7-4e0d-967b-e7aef955b156", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T07:55:14.237127", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "e4a6f02e-529e-4df0-917a-f2235a5a5b60", "ip": "127.0.0.1", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T07:55:14.239506", "level": "ERROR", "message": "Error in update_vip for id 2: VipService.update_vip() got an unexpected keyword argument 'describe'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/vip_api.py\", line 177, in update_vip\n    updated_vip = await vip_service.update_vip(db, vip_id, **update_data)\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: VipService.update_vip() got an unexpected keyword argument 'describe'\n", "module": "vip_api", "function": "update_vip", "line": 188}
{"timestamp": "2025-05-15T07:55:14.240120", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "e4a6f02e-529e-4df0-917a-f2235a5a5b60", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T08:08:30.185121", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-05-15T08:08:31.356487", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-05-15T08:08:31.356566", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:08:31.356637", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:08:31.356679", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:08:31.356738", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:08:31.356772", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:08:31.356829", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:08:31.356875", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:08:31.356942", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:08:31.356973", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:08:31.357792", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:08:31.357839", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:08:31.360344", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:08:31.360386", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:08:31.360423", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:08:31.360452", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:08:31.360486", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:08:31.360520", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:08:31.360555", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:08:31.360583", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-05-15T08:08:31.362332", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-05-15T08:08:31.415274", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-05-15T08:08:31.418860", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-05-15T08:08:31.425469", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-05-15T08:08:31.426554", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-05-15T08:08:31.427185", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-05-15T08:08:31.427744", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-05-15T08:08:31.428458", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-05-15T08:08:31.428989", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-05-15T08:08:31.429735", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-05-15T08:08:31.429783", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-05-15T08:08:31.430086", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-05-15T08:08:31.430121", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-05-15T08:08:31.431016", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-05-15T08:08:31.431056", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-05-15T08:08:31.431210", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-05-15T08:08:31.431240", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-05-15T08:08:31.433037", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-05-15T08:08:31.433085", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-05-15T08:08:31.434113", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-05-15T08:08:36.429986", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "d7b93837-8376-46ec-a382-da94586e8ab3", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-05-15T08:08:36.435244", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "d7b93837-8376-46ec-a382-da94586e8ab3", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-05-15T08:08:43.045428", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "2b7b630f-c50d-4e26-975f-e486af8e7f67", "ip": "127.0.0.1", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T08:08:43.048309", "level": "ERROR", "message": "Error in update_vip for id 2: VipService.update_vip() got an unexpected keyword argument 'describe'\nTraceback: Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/api/v1/vip_api.py\", line 177, in update_vip\n    updated_vip = await vip_service.update_vip(db, vip_id, **update_data)\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: VipService.update_vip() got an unexpected keyword argument 'describe'\n", "module": "vip_api", "function": "update_vip", "line": 188}
{"timestamp": "2025-05-15T08:08:43.048751", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "2b7b630f-c50d-4e26-975f-e486af8e7f67", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T08:10:35.443172", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
{"timestamp": "2025-05-15T08:10:36.735339", "level": "INFO", "message": "Initializing RhythmService", "module": "rhythm_service", "function": "__init__", "line": 15}
{"timestamp": "2025-05-15T08:10:36.735414", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:10:36.735482", "level": "INFO", "message": "Generated 5 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:10:36.735521", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:10:36.735576", "level": "INFO", "message": "Generated 13 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:10:36.735608", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:10:36.735670", "level": "INFO", "message": "Generated 34 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:10:36.735720", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:10:36.735789", "level": "INFO", "message": "Generated 60 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:10:36.735818", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 1.5], max_combinations=1000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:10:36.736622", "level": "INFO", "message": "Generated 610 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:10:36.736667", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 1.5], max_combinations=10000", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:10:36.739158", "level": "INFO", "message": "Generated 6236 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:10:36.739201", "level": "INFO", "message": "Generating rhythm combinations for beats=2, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:10:36.739237", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:10:36.739266", "level": "INFO", "message": "Generating rhythm combinations for beats=3, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:10:36.739300", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:10:36.739328", "level": "INFO", "message": "Generating rhythm combinations for beats=4, durations=[1, 0.5, 0.25, 0.125, 1.5, 0.75], max_combinations=1", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 58}
{"timestamp": "2025-05-15T08:10:36.739362", "level": "INFO", "message": "Generated 1 rhythm combinations", "module": "rhythm_service", "function": "_generate_rhythm_combinations", "line": 89}
{"timestamp": "2025-05-15T08:10:36.739389", "level": "INFO", "message": "Rhythm patterns initialized", "module": "rhythm_service", "function": "__init__", "line": 40}
{"timestamp": "2025-05-15T08:10:36.741157", "level": "INFO", "message": "AIMelodyService initialized with DeepSeek API configuration", "module": "ai_melody_service", "function": "__init__", "line": 34}
{"timestamp": "2025-05-15T08:10:36.791960", "level": "INFO", "message": "Creating database tables...", "module": "main", "function": "lifespan", "line": 34}
{"timestamp": "2025-05-15T08:10:36.800090", "level": "INFO", "message": "Initializing database data...", "module": "main", "function": "lifespan", "line": 40}
{"timestamp": "2025-05-15T08:10:36.808991", "level": "INFO", "message": "VIP levels already initialized, skipping...", "module": "init_data", "function": "init_vip_levels", "line": 21}
{"timestamp": "2025-05-15T08:10:36.810884", "level": "INFO", "message": "Pitch already initialized, skipping...", "module": "init_data", "function": "init_pitches", "line": 75}
{"timestamp": "2025-05-15T08:10:36.812264", "level": "INFO", "message": "PitchIntervalType already initialized, skipping...", "module": "init_data", "function": "init_interval_type", "line": 256}
{"timestamp": "2025-05-15T08:10:36.813604", "level": "INFO", "message": "PitchConcordanceType already initialized, skipping...", "module": "init_data", "function": "init_concordance_type", "line": 272}
{"timestamp": "2025-05-15T08:10:36.815752", "level": "INFO", "message": "PitchInterval already initialized, skipping...", "module": "init_data", "function": "init_intervals", "line": 123}
{"timestamp": "2025-05-15T08:10:36.817162", "level": "INFO", "message": "PitchChordType already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord_type", "line": 288}
{"timestamp": "2025-05-15T08:10:36.819594", "level": "INFO", "message": "PitchChordTypeMapping already initialized, skipping...", "module": "init_data", "function": "init_pitch_chord", "line": 304}
{"timestamp": "2025-05-15T08:10:36.819769", "level": "INFO", "message": "Loading VIP cache...", "module": "main", "function": "lifespan", "line": 49}
{"timestamp": "2025-05-15T08:10:36.820624", "level": "INFO", "message": "Successfully loaded 4 VIP levels into cache", "module": "vip_service", "function": "load_vip_cache", "line": 42}
{"timestamp": "2025-05-15T08:10:36.820740", "level": "INFO", "message": "Loading Pitch cache...", "module": "main", "function": "lifespan", "line": 52}
{"timestamp": "2025-05-15T08:10:36.822910", "level": "INFO", "message": "Successfully loaded 88 Pitch into cache", "module": "pitch_service", "function": "load_pitch_cache", "line": 56}
{"timestamp": "2025-05-15T08:10:36.823035", "level": "INFO", "message": "building Pitch Group cache...", "module": "main", "function": "lifespan", "line": 55}
{"timestamp": "2025-05-15T08:10:36.823405", "level": "INFO", "message": "Successfully build Pitch Group into cache", "module": "pitch_service", "function": "build_pitch_group_cache", "line": 79}
{"timestamp": "2025-05-15T08:10:36.823496", "level": "INFO", "message": "building Pitch Interval cache...", "module": "main", "function": "lifespan", "line": 58}
{"timestamp": "2025-05-15T08:10:36.827643", "level": "INFO", "message": "Successfully built Pitch Interval cache with 26 intervals", "module": "pitch_service", "function": "build_pitch_interval_cache", "line": 142}
{"timestamp": "2025-05-15T08:10:36.827801", "level": "INFO", "message": "building Pitch Chord cache...", "module": "main", "function": "lifespan", "line": 61}
{"timestamp": "2025-05-15T08:10:36.830108", "level": "INFO", "message": "Successfully built Pitch chord cache with 11 intervals", "module": "pitch_service", "function": "build_pitch_chord_cache", "line": 203}
{"timestamp": "2025-05-15T08:10:39.985143", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "7f9f4bb8-b13b-4942-b30d-834dbade2d5a", "ip": "127.0.0.1", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-05-15T08:10:39.991569", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "7f9f4bb8-b13b-4942-b30d-834dbade2d5a", "path": "/api/v1/auth/wechat-login", "method": "POST"}
{"timestamp": "2025-05-15T08:10:42.390795", "level": "INFO", "message": "Request started", "module": "logging", "function": "dispatch", "line": 21, "request_id": "cdd3c062-dff7-4a06-813c-d98b6434b749", "ip": "127.0.0.1", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T08:10:42.410997", "level": "ERROR", "message": "Failed to update VIP: 'Vip' object has no attribute 'vip_level'", "module": "vip_service", "function": "update_vip", "line": 139, "exception": {"type": "AttributeError", "message": "'Vip' object has no attribute 'vip_level'", "traceback": "Traceback (most recent call last):\n  File \"/home/yu/gitdev/shengyibaodian/app/services/vip_service.py\", line 133, in update_vip\n    self._vip_level_cache[vip.vip_level] = vip\n                          ^^^^^^^^^^^^^\nAttributeError: 'Vip' object has no attribute 'vip_level'"}}
{"timestamp": "2025-05-15T08:10:42.412179", "level": "INFO", "message": "Request completed", "module": "logging", "function": "dispatch", "line": 38, "request_id": "cdd3c062-dff7-4a06-813c-d98b6434b749", "path": "/api/v1/vip/2", "method": "PUT"}
{"timestamp": "2025-05-15T08:12:40.637094", "level": "INFO", "message": "Shutting down application...", "module": "main", "function": "lifespan", "line": 72}
